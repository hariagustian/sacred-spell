!function(t,e,a){function i(t,e){return typeof t===e}function s(){return"function"!=typeof e.createElement?e.createElement(arguments[0]):u?e.createElementNS.call(e,"http://www.w3.org/2000/svg",arguments[0]):e.createElement.apply(e,arguments)}function n(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-")}function r(t){return t.replace(/([a-z])-([a-z])/g,function(t,e,a){return e+a.toUpperCase()}).replace(/^-/,"")}function o(t,e){return function(){return t.apply(e,arguments)}}function l(l,c,h,p,g){var d=l.charAt(0).toUpperCase()+l.slice(1),f=(l+" "+b.join(d+" ")+d).split(" ");return i(c,"string")||i(c,"undefined")?function(o,l,c,h){function p(){d&&(delete x.style,delete x.modElem)}if(h=!i(h,"undefined")&&h,!i(c,"undefined")){var g=function(i,r){var o=i.length;if("CSS"in t&&"supports"in t.CSS){for(;o--;)if(t.CSS.supports(n(i[o]),r))return!0;return!1}if("CSSSupportsRule"in t){for(var l=[];o--;)l.push("("+n(i[o])+":"+r+")");return function(a,i,n,r){var o,l,c,h,p,g="modernizr",d=s("div"),f=((p=e.body)||((p=s(u?"svg":"body")).fake=!0),p);if(parseInt(n,10))for(;n--;)(c=s("div")).id=g+(n+1),d.appendChild(c);return(o=s("style")).type="text/css",o.id="s"+g,(f.fake?f:d).appendChild(o),f.appendChild(d),o.styleSheet?o.styleSheet.cssText=a:o.appendChild(e.createTextNode(a)),d.id=g,f.fake&&(f.style.background="",f.style.overflow="hidden",h=m.style.overflow,m.style.overflow="hidden",m.appendChild(f)),l="absolute"==function(e,a,i){var s;if("getComputedStyle"in t){s=getComputedStyle.call(t,e,null);var n=t.console;null!==s?s=s.getPropertyValue(i):n&&n[n.error?"error":"log"].call(n,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else s=e.currentStyle&&e.currentStyle[i];return s}(d,0,"position"),f.fake?(f.parentNode.removeChild(f),m.style.overflow=h,m.offsetHeight):d.parentNode.removeChild(d),!!l}("@supports ("+(l=l.join(" or "))+") { #modernizr { position: absolute; } }")}return a}(o,c);if(!i(g,"undefined"))return g}for(var d,f,v,b,S,B=["modernizr","tspan","samp"];!x.style&&B.length;)d=!0,x.modElem=s(B.shift()),x.style=x.modElem.style;for(v=o.length,f=0;v>f;f++)if(b=o[f],S=x.style[b],!!~(""+b).indexOf("-")&&(b=r(b)),x.style[b]!==a){if(h||i(c,"undefined"))return p(),"pfx"!=l||b;try{x.style[b]=c}catch(o){}if(x.style[b]!=S)return p(),"pfx"!=l||b}return p(),!1}(f,c,p,g):function(t,e,a){var s;for(var n in t)if(t[n]in e)return!1===a?t[n]:i(s=e[t[n]],"function")?o(s,a||e):s;return!1}(f=(l+" "+B.join(d+" ")+d).split(" "),c,h)}var c=[],h={_version:"3.5.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,e){var a=this;setTimeout(function(){e(a[t])},0)},addTest:function(t,e,a){c.push({name:t,fn:e,options:a})},addAsyncTest:function(t){c.push({name:null,fn:t})}},p=function(){};p.prototype=h,p=new p;var g,d=[],m=e.documentElement,u="svg"===m.nodeName.toLowerCase(),f=(g=!("onblur"in e.documentElement),function(t,e){var i;return!!t&&(e&&"string"!=typeof e||(e=s(e||"div")),!(i=(t="on"+t)in e)&&g&&(e.setAttribute||(e=s("div")),e.setAttribute(t,""),i="function"==typeof e[t],e[t]!==a&&(e[t]=a),e.removeAttribute(t)),i)});h.hasEvent=f;var v="Moz O ms Webkit",b=h._config.usePrefixes?v.split(" "):[];h._cssomPrefixes=b;var S={elem:s("modernizr")};p._q.push(function(){delete S.elem});var x={style:S.elem.style};p._q.unshift(function(){delete x.style});var B=h._config.usePrefixes?v.toLowerCase().split(" "):[];h._domPrefixes=B,h.testAllProps=l;var k=function(e){var i,s=prefixes.length,n=t.CSSRule;if(void 0===n)return a;if(!e)return!1;if((i=(e=e.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in n)return"@"+e;for(var r=0;s>r;r++){var o=prefixes[r];if(o.toUpperCase()+"_"+i in n)return"@-"+o.toLowerCase()+"-"+e}return!1};h.atRule=k,h.prefixed=function(t,e,a){return 0===t.indexOf("@")?k(t):(-1!=t.indexOf("-")&&(t=r(t)),e?l(t,e,a):l(t,"pfx"))},p.addTest("audio",function(){var t=s("audio"),e=!1;try{(e=!!t.canPlayType)&&((e=new Boolean(e)).ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),e.mp3=t.canPlayType('audio/mpeg; codecs="mp3"').replace(/^no$/,""),e.opus=t.canPlayType('audio/ogg; codecs="opus"')||t.canPlayType('audio/webm; codecs="opus"').replace(/^no$/,""),e.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),e.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(t){}return e}),function(){var t,e,a,s,n,r;for(var o in c)if(c.hasOwnProperty(o)){if(t=[],(e=c[o]).name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(a=0;a<e.options.aliases.length;a++)t.push(e.options.aliases[a].toLowerCase());for(s=i(e.fn,"function")?e.fn():e.fn,n=0;n<t.length;n++)1===(r=t[n].split(".")).length?p[r[0]]=s:(!p[r[0]]||p[r[0]]instanceof Boolean||(p[r[0]]=new Boolean(p[r[0]])),p[r[0]][r[1]]=s),d.push((s?"":"no-")+r.join("-"))}}(),function(t){var e=m.className,a=p._config.classPrefix||"";if(u&&(e=e.baseVal),p._config.enableJSClass){var i=new RegExp("(^|\\s)"+a+"no-js(\\s|$)");e=e.replace(i,"$1"+a+"js$2")}p._config.enableClasses&&(e+=" "+a+t.join(" "+a),u?m.className.baseVal=e:m.className=e)}(d),delete h.addTest,delete h.addAsyncTest;for(var y=0;y<p._q.length;y++)p._q[y]();t.Modernizr=p}(window,document),function(d,win){var transformProp=Modernizr.prefixed("transform"),translateProp=Modernizr.prefixed("transition"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"},translateEndProp=transEndEventNames[translateProp],Za=Za||{};Za.Hq=Za.Hq||{},Za.QpZ=Za.QpZ||{},Za.QpZ.__namespace__=[],Za.args=Za.args||[],Za.Pq=function(){var t,a,i,s,n,r,o=this,l=function(){};for(var c in l.prototype={slice:function(t,e){return e&&Array.prototype.slice.call(t,e)[0]||Array.prototype.slice.call(t)},objToString:function(t){return Object.prototype.toString.call(t)},hasClassName:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)},delayFire:(r=setTimeout(function(){}),function(t,e){clearTimeout(r),r=setTimeout(t,e)}),delay:(n=Za.args,function(){t=arguments,s=function(){for(var e in t)this[e]=t[e];this.populate()},a=Object.create(s.prototype={populate:function(){if(i=Object.create(this),0<n.length){for(var t=0,e=0;t<n.length;t++)if(n[t][0]===this[0]&&e++,!e&&t===n.length-1){n.push(i);break}}else n.push(i)},fire:function(){if(0<n.length){for(var t in n)setTimeout(function(t,e){t.call(null)}.bind(this,n[t][0]),n[t][1]);n.length=0}}}),new s,this.delayFire&&this.delayFire(function(){a.fire()},100)}),Ge:function(t,e,a){function i(t,e,a){function i(t,e){t!==window?t.addEventListener(e,a,!1):t.attachEvent&&t.attachEvent("on"+e,a)||t.addEventListener(e,a,!1),"mousedown"===e?t.addEventListener("touchstart",a,!1):"mousemove"===e?t.addEventListener("touchmove",a,!1):"mouseup"===e?t.addEventListener("touchend",a,!1):"mouseout"===e&&t.addEventListener("touchleave",a,!1)}if((e=1>=(e=-1===e.indexOf(" ")?e:e.split(" ")).length?e.join(""):e)instanceof Array)for(;e.length;)i(t,e.pop());else i(t,e)}if(this.objToString&&"[object Array]"===this.objToString(t))for(;t.length;)i(t.pop(),e,a);else i(t,e,a)},inArray:function(t,e){for(;e.length;)if(e.pop()===t)return!0;return!1},removeClassFn:function(t,e){if(-1!==e.indexOf(" ")&&1<e.split(" ").length){for(var a=t.className.toLowerCase().split(" "),i=a.length-1;0<=i;i--)this.inArray(a[i],e.split(" "))&&delete a[i];t.className=a.join(" ")}else this.hasClassName(t,e)&&(t.className=t.className.replace(new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)","g")," "))},addClassFn:function(t,e){this.hasClassName(t,e)||(t.className=[t.className,e].join(" "))},isTwoDimensional:function(t){return!(!/([object Array])/i.test(this.objToString(t))||!this.slice(t,0).length)}},new l)this[c]=(new l)[c];this.UTa=function(t){return encodedStr=t.replace(/[\u00A0-\u9999<>&]/gim,function(t){return"&#"+t.charCodeAt(0)+";"})},this.faE=function(t){t||(t=event);var e=t.wheelDelta;return(t=t.detail)?e?0<e/t/40*t?1:-1:-t/3:e/120},this.tTH=function(t,e){return Math.floor(Math.random()*(t-e+1)+e)},this.LcQ=function(t,e){return Math.random()*(t-e)+e},this.cKs=function(){return this.tTH(999,100)+"-"+Math.random().toString(36).slice(-8)},this.iTs=function(t){return t.slice().sort(function(t,e){return t>e}).reduce(function(t,e){return t.slice(-1)[0]!==e&&t.push(e),t},[]),t},this.detectLeftButton=function(t){return"buttons"in t?1===t.buttons:"which"in t?1===t.which:1===t.button},this.detectRightButton=function(t){return"which"in(t=t||window.event)?3==t.which:"button"in e?2==t.button:void 0},this.cancelBubble=function(t){(t=this?t:window.event).stopPropagation&&t.stopPropagation(),null!=t.cancelBubble&&(t.cancelBubble=!0),t.preventDefault()},this.eTz=function(t,e){for(;e--&&t;)t=t.parentNode;return t},this.parentLastchild=function(t,e){var a=[];do{1==(t=t.nextSibling).nodeType&&a.push(t)}while(t.nextSibling);return a[a.length-1]},this.parentFirstchild=function(t,e){var a=[];do{1==(t=t.previousSibling).nodeType&&a.push(t)}while(t.previousSibling);return a[a.length-1]},this.getFirstChild=function(t){for(t=t.firstChild;t&&3==t.nodeType;)t=t.nextSibling;return null!==t&&t},this.sibling=function(t,e){do{t="previous"==e?t.previousSibling:t.nextSibling}while(t&&1!=t.nodeType);return null!==t&&t},this.qsAll=function(t,e){return t=-1===t.indexOf(".")?"."+t:t,!!e&&e.querySelectorAll(t)||document.querySelectorAll(t)},this.qs=function(t,e){return t=-1===t.indexOf(".")?"."+t:t,!!e&&e.querySelector(t)||document.querySelector(t)},this.id=function(t){return document.getElementById(t)},this.addClass=function(t,e){if(this.isTwoDimensional(t))for(var a=t.length-1;0<=a;a--)this.addClassFn(t[a][0],t[a][1]);else this.addClassFn(t,e)},this.removeClass=function(t,e){if(this.isTwoDimensional(t))for(var a=t.length-1;0<=a;a--)this.removeClassFn(t[a][0],t[a][1]);else this.removeClassFn(t,e)},this.css=function(t,e,a){function i(t){for(var a in e)if(a in e)switch(s=e[a],a){case"transform":s=e[a].split(","),x=s[0],y=s[1],z=s[2],n="translate3d("+x+","+y+","+z+")",t.style[transformProp]=n;break;case"transition":n=s=e[a],t.style[translateProp]=n;break;default:t.style[a]=s}}var s,n;if(t.nodeName)i(t);else for(a=t.length;0<a;a--)i(t[a-1])},this.text=function(t,e){t.innerText?t.innerText=e:t.textContent=e},this.ucFirst=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},this.intersectsCircle=function(t,e,a,i,s){return(t-=a)*t+(e-=i)*e<=s*s},this.extend=function(t,e,a){if(!0===a)for(var i in e)i in e&&(t[i]=e[i]);else t:for(i in e)if(i in e){for(var s in t)if(s in t&&i.toLowerCase()===s.toLowerCase()&&-1!==i.toLowerCase().indexOf("strict"))continue t;"function"==typeof e[i]?(t[i]=e[i],t[i]()):t[i]=e[i]}return t},this.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},this.objCount=function(t){var e,a=0;for(e in t)a++;return a},this.CursorStartEvent=(l=!!("createTouch"in document))?"touchstart":"mousedown",this.CursorMoveEvent=l?"touchmove":"mousemove",this.CursorEndEvent=l?"touchend":"mouseup",this.CursorLeaveEvent=l?"touchleave":"mouseout",this.accessor=function(t){var e=t.namespace,a=e.__namespace__,i=t.global,s=t.accessorName;O=Object.create(new function(){return Object.defineProperty(t,s,{set:function(){o.slice(arguments).forEach(function(t){e["_initialize"+s]?e["_initialize"+s].push(t):e["_initialize"+s]=[t];for(var n=0;n<a.length;n++)for(var r in i)r in i&&(a[n][r]=Object.defineProperty({invoke:r},"value",{get:function(){return i[this.invoke]},set:function(e){for(var s in this)if(s in this&&"value"!==s){i[this[s]]=e;for(var n=a,r=n.length;r--;)n[r]!==t&&this[s]in n[r]&&(n[r][this[s]]=this)}},enumerable:!0}))})}})}),O[s]=this,e["_revoke"+s]=O},this.cloneImg=function(t){var e=document.createElement("img");return e.src=t,e.cloneNode(!0)},this.getTexture=function(t,e,a){var i=t.textures;if(a&&/textureNeedChange/i.test(a)){if(t=a.split("|")[1],!i.pairTextures){e=/left/i.test(t)?t.split("left").join("right"):t.split("right").join("left");var s=!0,n=!0;if(owlDATA.assets){a=0;for(var r=d.assets;a<r.length;a++)r[a].result&&(r[a].src===t&&(o=scope.cloneImg(r[a].src),s=!1),r[a].src===e&&(l=scope.cloneImg(r[a].src),n=!1))}if(s||n){var o=new Image,l=new Image;o.src=t,l.src=e}i.pairTextures={left:/left/i.test(t)?o:l,right:/right/i.test(t)?o:l}}return i.pairTextures.latest=/left/i.test(t)?"left":"right",/left/i.test(t)?i.pairTextures.left:i.pairTextures.right}if(i)return i.pairTextures?/left/i.test(i.pairTextures.latest)?i.pairTextures.left:i.pairTextures.right:i;if(o=!0,owlDATA.assets)for(a=0,r=owlDATA.assets;a<r.length;a++)if(r[a].result&&r[a].src===e){i=t.textures=scope.cloneImg(r[a].src),o=!1;break}return o&&((i=t.textures=new Image).src=e),i},this.distanceAndAngleBetweenTwoPoints=function(t,e,a,i){return t=a-t,e=i-e,{distance:Math.sqrt(t*t+e*e),angle:180*Math.atan2(e,t)/Math.PI}},this.vector=function(t,e){var a=e*Math.PI/180;this.x=t*Math.cos(a),this.y=t*Math.sin(a)},this.getRelativeMousePosition=function(t,e,a){e=e.getBoundingClientRect();var i=document.documentElement||document.body.parentNode||document.body;a=void 0!==window.pageXOffset?window.pageXOffset:i.scrollLeft,i=void 0!==window.pageYOffset?window.pageYOffset:i.scrollTop;var s=t.changedTouches;return s?(a=s[0].pageX-e.left-a,t=s[0].pageY-e.top-i):(a=t.pageX-e.left-a,t=t.pageY-e.top-i),{x:a,y:t}},this.showImageHHandWW=function(t,e){return t.name=e,t.onload=function(){return!0},t.src=e,t},this.rgbRandom=function(t){return this.r=255,this.g=Math.round(255*Math.random()),this.b=Math.round(255*Math.random()),"rgba( "+this.r+","+this.g+","+this.b+","+t+")"},this.JSONstringfy=function(t){var e=[];return JSON.stringify(t,function(t,a){if("object"==typeof a&&null!==a){if(-1!==e.indexOf(a))return;e.push(a)}return a})},this.pAo=function(t){if(d.mute)return!0;t=t instanceof Array?t[scope.tTH(t.length,1)-1]:t;var e,a,i,s,n=!0;if(d.assets)for(var r=0,o=d.assets;r<o.length;r++)if(o[r].name===t&&/.ogg|.mp3|.wav/i.test(o[r].src)){l=o[r].result.cloneNode(),c=t,n=!1;break}if(n)var l=new Audio,c=(e=l,a=t,src=scope.fn.qs("site").getAttribute("data-bitmap")+"/audio/"+a,e.src=Modernizr.audio.ogg?src+".ogg":Modernizr.audio.mp3?src+".mp3":src+".wav",a);i=l,s=c,scope.Ge(i,"ended",function(t){i.currentTime=0,scope.LgAn.value.remove(s)}),scope.LgAn.value.remove(s),scope.LgAn.value.set(s,i),l.play()},this.fullscreenToogle=function(t){if(/off/i.test(t.className)){t.className="fullscreen-on";var e=document,a=e.exitFullScreen||e.mozCancelFullScreen||e.webkitExitFullScreen||e.mozExitFullScreen||e.msExitFullScreen||e.webkitCancelFullScreen;void 0!==a&&a?a.call(e):void 0!==window.ActiveXObject&&null!==(e=new ActiveXObject("WScript.Shell"))&&e.SendKeys("{F11}")}else void 0!==(a=(e=document.documentElement).requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen)&&a?a.call(e):void 0!==window.ActiveXObject&&null!=(e=new ActiveXObject("WScript.Shell"))&&e.SendKeys("{F11}"),t.className="fullscreen-off"}},Za.Cpp=function(){Za.QpZ.__namespace__.push(this);var t,e,a=this,i=Za.QpZ,s=Za.Hq,n=new a.Pq,r=(t=n,e=i,self={windowResize:function(t){for(var e in s)if(s[e].register===t){s[e].fn();break}},globalOwlBirdrProperty:function(i){for(var n in s)if(s[n].register===i){a.extend(self,s[n].obj);break}t.accessor.call(this,{global:self,accessorName:i,namespace:e})}});this.that=function(t){var e,i={};return{callback:(e=i||{},function(t){t(e)}),invokeWith:function(e){for(var a in s)if(s[a].register===e){r[a].apply(t,arguments);break}return this},use:function(e,a){var s,r;for(r in n)r in n&&"function"==typeof n[r]&&r.toLowerCase()===e.toLowerCase()&&(/(Ge|addclass|removeclass|css)/i.test(r.toLowerCase())&&a.unshift(t),(s=n[r].apply(n,a))&&(i[e]=s));return this},findTarget:function(e){if(/([object NodeList]|[object Array])/i.test(a.objToString(t))){for(var s=t.length-1;0<=s;s--)t[s].contains(e.target||e.srcElement)?(this.target=t[s],i.self=this):i.self&&delete i.self;return this}},fireTarget:function(t,e){this.findTarget(t).callback(function(t){"self"in t&&t.self.use("delay",[function(){e.call(null,t.self.target)},100])})}}}},Za.THq=function(){scope=this,scope.slice(arguments).forEach(function(t){({charset:t.charset||"application/json;charset=UTF-8",http:window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),callback:t.callback,onerror:t.error||"ops, request time out",timeout:t.setTimeout||23e3,url:t.url,type:t.type,dataset:t.dataset||{},requestHeader:function(){var e={"Content-Type":this.charset};return scope.extend(e,t.requestHeader),e},setRequest:function(){return this.callback.call(this,""),!1}}).setRequest()})},Za.NBs=function(){var t=this,e=Za.THq;return{csrf:t.qs("site").getAttribute("csrf"),url:t.qs("site").getAttribute("data-url"),regPage:["/sacred-spell"],fragment:[],filter:function(t){var e=t.id,a=this.fragment;if(!a.length&&e)return a.push(t),!0;for(var i=0,s=0;i<a.length;i++)for(var n in a[i])if(n in a[i]&&("page"!==e&&e===a[i][n]&&s++,!s&&e&&i===a.length-1))return a.push(t),!0;return!1},load:function(a){var i=this;e.call(t,{url:this.url,type:"post",requestHeader:{"X-CSRF-TOKEN":this.csrf},dataset:{id:a.id},callback:function(t){i.filter({id:a.id,page:t})&&a.fetch&&i.fetch(a)}})},fetch:function(t){var e=this.fragment,a=t.id;if(!e.length&&t.id)t.fetch=!0,this.load(t);else{var i=0;t:for(;i<e.length;i++)for(var s in e[i])if(s in e[i]){if("page"!==a&&a===e[i][s]){t.callback.call(this,e[i].page);break t}a&&i===e.length-1&&(t.fetch=!0,this.load(t))}}}}},Za.EGh=function(t,e,a){var i=this;i.extend(Za.Hq,{windowResize:{register:"_windowResize",fn:function(){var t=i.qs("screen").getElementsByTagName("canvas")[0];i.browserWidthUpdate=i.browserWidth(),i.browserHeightUpdate=i.browserHeight(),i.controlGUICheck&&i.ThWB.value(),t.width=i.browserWidthUpdate,t.height=i.browserHeightUpdate,i.css(t,{width:i.browserWidthUpdate+"px",height:i.browserHeightUpdate+"px"})}},globalOwlBirdrProperty:{register:"_globalOwlBirdrProperty",obj:{ufR:{staticObjMoveX:"",staticObjMoveY:5,staticObjStateX:"",staticObjStateY:"",staticObjAllX:!0,staticObjAllY:!0,moveLeft:!1,moveRight:!1,moveUp:!1,moveDown:!1,firstLoadLeft:!0,firstLoadRight:!0,staticsWallOuterIsStopX:!0,charaIsCentered:!1,staticsWallOuterIsStopY:!0,objectMarker:{state:"",monster:"",registerMonster:[]},isShake:{shakeCnt:[],createShake:function(t){for(;t--;)this.shakeCnt.push(new this.constructor)},constructor:function(){this.state=!1,this.strength=3,this.tick=0,this.install=!1,this.initShake=0,this.stateShake=!0,this.posY=this.posX=this.pairShake=0,this.inOrDec=!0,this.amplitude={up:0,center:2,down:0,strength:1},this.randomnessFn=function(t){if(1===this.stateShake||3===this.stateShake)switch(t){case 1:this.posX=this.initShake;break;case 2:this.posX=this.initShake,this.posY=-this.initShake;break;case 3:this.posY=this.initShake;break;case 4:this.posY=this.posX=this.initShake}else if(2===this.stateShake)switch(t){case 1:this.posX=2*-this.initShake;break;case 2:this.posX=2*-this.initShake,this.posY=2*this.initShake;break;case 3:this.posY=2*-this.initShake;break;case 4:this.posX=2*-this.initShake,this.posY=2*-this.initShake}},this.update=function(){if(this.install||(this.randomness=i.tTH(1,0)?2:4,this.initShake=this.strength,this.inOrDec=!!i.tTH(1,0),this.amplitude.up=this.inOrDec?1:3,this.amplitude.down=this.inOrDec?3:1,this.install=!0),this.tick++,this.tick===this.amplitude.strength?(this.stateShake=this.amplitude.up,this.randomnessFn(this.randomness,this.stateShake)):this.tick===2*this.amplitude.strength?(this.stateShake=this.amplitude.center,this.randomnessFn(this.randomness,this.stateShake)):this.tick===3*this.amplitude.strength&&(this.stateShake=this.amplitude.down,this.randomnessFn(this.randomness,this.stateShake)),this.tick>3*this.amplitude.strength)return!0}}},effect:!0},Qge:function(t){return"iceBeam"===t?new function(){this.fn="",this.hit=this.launch=!1,this.monsterTarget=""}:/lifeDrain|lightning|fireBallAcid|fireBallAcid2|fireBallAcid3/i.test(t)?new function(){this.fn="",this.launch=!1,this.monsterTarget="","fireBallAcid3"===t?(this.fn=[],this.length=5,this.delay=15):"chain-lightning"===t&&(this.delay=5)}:void 0},Dye:{bindingRoot:function(){this.name="bindingRoot",this.delayUpdate=this.delay=500,this.active=!1,this.tick=200,this.speedMovement=0,this.strength=1},burningEffect:function(t){this.name="burningEffect",this.delay=1e3,this.delayUpdate=1500,this.active=!1,this.tick=700,this.tickDelayUpdate=this.tickDelay=70,this.damageMax=!!t&&t.damageMax||25,this.damageMin=!!t&&t.damageMin||5,this.chance=!!t&&t.chance||25},lightningShock:function(t){this.name="lightningShock",this.delayUpdate=this.delay=1500,this.active=!1,this.id=i.cKs(),this.tick=200,this.speedMovement=0,this.chance=!!t&&t.chance||95}},JngT:function(){},doW:"",hEP:function(){for(var t="mapA mapB mapAADungeonA mapAADungeonB mapC mapDDungeonA mapDungeonA mapDungeonB mapDungeonC mapDungeonD mapDungeonE mapDungeonF mapDungeonG mapDungeonH".split(" "),e={},a=0,i=t.length;a<i;a++)e[t[a]]={content:"",textures:""};return e}(),ThQ:"mapA",bAo:{ori:["ti","ca","on","lo"],root:["na","st","me","ho"],spell:["u", "i", "h", "b", "t", "g"],loc:"514203.3102"},jfE:function(){this.storage=[],this.remove=function(t){var e=this.storage;if(e.length)for(var a=0;a<e.length;a++)e[a].name===t.toLowerCase()&&this.storage.splice(a,1)},this.get=function(t){var e=this.storage;if(e.length)for(var a=0;a<e.length;a++)if(e[a].name===t.toLowerCase())return e[a].status},this.set=function(t,e){var a=this.storage;if(a.length)for(var i=0;i<a.length;i++){if(a[i].name===t.toLowerCase()){a[i].status=e;break}if(i===a.length-1){a.push({name:t.toLowerCase(),status:e});break}}else a.push({name:t.toLowerCase(),status:e})}},jgeE:"",gNE:!0,gJE:!0,DJF:{pos:""},NFir:"",UiW:{state:!1,timeout:"",interval:"",dialogCnt:""},Jdh:{total:0,current:0}}}}),i.that(i).invokeWith("_globalOwlBirdrProperty")},Za.JsD=function(){var t=this;this.mouseCreate=function(e){var a={};a.element=e||document.body,a.absolute={x:0,y:0},a.position={x:0,y:0},a.mousedownPosition={x:0,y:0},a.mouseupPosition={x:0,y:0},a.offset={x:0,y:0},a.scale={x:1,y:1},a.wheelDelta=0,a.button=-1,a.pixelRatio=a.element.getAttribute("data-pixel-ratio")||1,a.sourceEvents={mousemove:{x:0,y:0},mousedown:{x:0,y:0},mouseup:{x:0,y:0}},a.mousemove=function(e){var i=t.getRelativeMousePosition(e,a.element,a.pixelRatio);e.changedTouches&&(a.button=0),a.absolute.x=i.x,a.absolute.y=i.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y,a.sourceEvents.mousemove=a.position,t.DJF.value.pos=a.sourceEvents},a.mousedown=function(e){var i=t.getRelativeMousePosition(e,a.element,a.pixelRatio);a.button=e.changedTouches?0:e.button,a.absolute.x=i.x,a.absolute.y=i.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y,a.sourceEvents.mousedown=a.position,t.DJF.value.pos=a.sourceEvents},a.mouseup=function(e){e=t.getRelativeMousePosition(e,a.element,a.pixelRatio),a.button=-1,a.absolute.x=e.x,a.absolute.y=e.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y,a.sourceEvents.mouseup=a.position,t.DJF.value.pos=a.sourceEvents},e.addEventListener("mousemove",a.mousemove),e.addEventListener("mousedown",a.mousedown),e.addEventListener("mouseup",a.mouseup),e.addEventListener("mousewheel",a.mousewheel),e.addEventListener("DOMMouseScroll",a.mousewheel),e.addEventListener("touchmove",a.mousemove),e.addEventListener("touchstart",a.mousedown),e.addEventListener("touchend",a.mouseup)},this.getRelativeMousePositionToRegisterObject=function(e){if(t.DJF.value.pos)for(var a=t.DJF.value.pos.mouseup.x,i=t.DJF.value.pos.mouseup.y,s=0;s<e.length;s++){var n=e[s].getBoundingClientRect();if(n.right>a&&n.left<a&&n.top<i&&n.bottom>i)return e[s].id}}},Za.Hs=function(){var t=this;this.moveVector2dSmooth=function(e,a,i){return e=t.distanceAndAngleBetweenTwoPoints(e.position.x,e.position.y,a.position.x,a.position.y),new t.vector(e.distance/i,e.angle)},this.moveVector2dWithVelocity=function(e,a,i,s){return e=e.position?t.distanceAndAngleBetweenTwoPoints(e.position.x,e.position.y,a.position.x,a.position.y):t.distanceAndAngleBetweenTwoPoints(e.x,e.y,a.x,a.y),s?{vector:new t.vector(i,e.angle),angle:e.angle}:new t.vector(i,e.angle)},this.moveVector2d=function(t,e,a){this.install=!1,this.start=t.position,this.dest=e.position,this.lastTime=(new Date).getTime(),this.startSpeed=a||.4,this.velocity=null,this.update=function(){if(!this.install){var t=this.start,e=this.dest,a=e.x-t.x;t=e.y-t.y,e=Math.sqrt(a*a+t*t),this.startVelocity=a={x:a/e*this.startSpeed,y:t/e*this.startSpeed},this.velocity=Object.create(a),this.install=!0}return t=(a=(new Date).getTime())-this.lastTime,e=this.velocity,this.lastTime=a,{x:e.x*t,y:e.y*t}}},this.rotateGeometry=function(t,e,a,i,s,n){t.translate(e+i/2,a+s/2),t.rotate(Math.PI/180*n),t.translate(-(e+i/2),-(a+s/2))}},Za.OqU=function(){var t=this,e={installParticles:function(t,e){for(var a=[],i=0;i<t;i++)a.push(new this.particleArc(e));return a},particleGeometry:function(t,e,a){t.beginPath(),e.opacity=a&&a.state?a.opacityTemp:Math.round(e.remaining_life/e.life*100)/100,(a=t.createRadialGradient(e.posX,e.posY,0,e.posX,e.posY,e.radius)).addColorStop(0,"rgba("+e.color.r+","+e.color.g+","+e.color.b+","+e.opacity+")"),a.addColorStop(.5,"rgba("+e.color.r+","+e.color.g+","+e.color.b+","+e.opacity+")"),a.addColorStop(1,"rgba("+e.color.r+","+e.color.g+","+e.color.b+", 0)"),t.fillStyle=a,t.arc(e.posX,e.posY,e.radius,0,2*Math.PI,!1),t.fill()},particleArcStrokeGeometry:function(t,e){t.beginPath(),e.opacity=Math.round(e.remaining_life/e.life*100)/100;var a=t.createRadialGradient(e.posX,e.posY,0,e.posX,e.posY,e.radius);a.addColorStop(0,"rgba("+e.color.r+","+e.color.g+","+e.color.b+","+e.opacity+")"),a.addColorStop(.2,"rgba("+e.color.r+","+e.color.g+","+e.color.b+","+e.opacity+")"),a.addColorStop(1,"rgba("+e.color.r+","+e.color.g+","+e.color.b+", 0)"),t.lineWidth=e.lineWidth,t.strokeStyle=a,t.arc(e.posX,e.posY,e.radius,0,2*Math.PI,!1),t.stroke()},particleEllipseStrokeGeometry:function(t,e){t.beginPath(),e.opacity=Math.round(e.remaining_life/e.life*100)/100;var a=t.createRadialGradient(e.posX,e.posY,0,e.posX,e.posY,6*e.radius);a.addColorStop(0,"rgba("+e.color.r+","+e.color.g+","+e.color.b+","+e.opacity+")"),a.addColorStop(.2,"rgba("+e.color.r+","+e.color.g+","+e.color.b+","+e.opacity+")"),a.addColorStop(1,"rgba("+e.color.r+","+e.color.g+","+e.color.b+", 0)"),t.fillStyle=a,t.lineWidth=e.lineWidth,t.moveTo(e.posX,e.posY-e.height/2),t.bezierCurveTo(e.posX+e.width/2,e.posY-e.height/2,e.posX+e.width/2,e.posY+e.height/2,e.posX,e.posY+e.height/2),t.bezierCurveTo(e.posX-e.width/2,e.posY+e.height/2,e.posX-e.width/2,e.posY-e.height/2,e.posX,e.posY-e.height/2),t.fill(),t.closePath()},particleArc:function(e){e=e||{},this.radius=e.radius||5+12*Math.random(),this.remaining_life=this.life=(e.life||15)+8*Math.random(),this.color={},this.color.r=e.color&&e.color.r||255,this.color.g=e.color&&e.color.g||75,this.color.b=e.color&&e.color.b||22,this.posX=e.posX||0,this.posY=e.posY||0,this.randomHeight=this.randomWidth=0,this.lineWidth=e.lineWidth||20,this.lineWidth=e.lineWidth||20,this.width=e.width||0,this.height=e.height||0,this.randX=t.tTH(2,0),this.install=!1},particleNumber:function(t,e){t.beginPath(),e.opacity=Math.round(e.remaining_life/e.life*100)/100,t.fillStyle="rgba(0, 0, 0, "+e.opacity+")",t.fillRect(e.posX-50,e.posY,40,40)},particlePortalGlow:function(t){this.speed={x:3*Math.random()-1.5,y:3*Math.random()-1.5},this.location={x:t.x+t.height/2,y:t.y+t.width/2},this.radius=3+28*Math.random(),this.remaining_life=this.life=10+20*Math.random(),this.r=255,this.g=Math.round(180*Math.random()),this.b=Math.round(255*Math.random())},gradientPortalGlow:function(t,e){e.beginPath(),t.opacity=Math.round(t.remaining_life/t.life*100)/100;var a=e.createRadialGradient(t.location.x,t.location.y,0,t.location.x,t.location.y,t.radius);a.addColorStop(0,"rgba("+t.r+","+t.g+","+t.b+","+t.opacity+")"),a.addColorStop(.5,"rgba("+t.r+","+t.g+","+t.b+","+t.opacity+")"),a.addColorStop(1,"rgba("+t.r+","+t.g+","+t.b+",0)"),e.fillStyle=a,e.arc(t.location.x,t.location.y,t.radius,2*Math.PI,!1),e.fill()},effect:function(){this.fireBallEffect=function(t,a,i,s){if(this.installFireBall){if(this.stop)return!0;if(this.objTranslate.effect){var n=a.x;for(a=a.y,o=0;o<this.particlesFireBall.length;o++){t.globalCompositeOperation=o%5?"lighter":"destination-out";var r=this.particlesFireBall[o];r.install||(this.particlesFireBall[o].posX=n,this.particlesFireBall[o].posY=a,this.particlesFireBall[o].install=!0),this.objTranslate.staticObjStateX&&(this.objTranslate.moveLeft?r.posX+=this.objTranslate.staticObjMoveX:this.objTranslate.moveRight&&(r.posX+=this.objTranslate.staticObjMoveX)),this.objTranslate.staticObjStateY&&(this.objTranslate.moveUp?r.posY+=this.objTranslate.staticObjMoveY:this.objTranslate.moveDown&&(r.posY+=-this.objTranslate.staticObjMoveY)),s&&(r.posX=n,r.posY=a),e.particleGeometry(t,r),r.remaining_life--,r.radius=this.effectStop?r.radius-this.radiusLife:r.radius+1,(0>r.remaining_life||0>r.radius)&&(this.particlesFireBall[o]=new e.particleArc({radius:this.radius(),color:{r:255,g:75,b:22}}))}t.globalCompositeOperation="source-over"}"stop"===i&&(this.stop=!0)}else{for(var o=0;30>o;o++)this.particlesFireBall.push(new e.particleArc({radius:0,color:{r:255,g:75,b:22}}));this.installFireBall=!0}}},fireBallProperties:function(){this.tick=0,this.installFireBall=!1,this.particlesEffect=[],this.particlesFireBall=[],this.lifeEffect=500,this.effectStop=!1}};this.iceBeam=function(a){this.install=!1,this.drawIceBeam="",this.posBeam={position:{x:-230,y:-230},posHit:0,posX:0,characterGetHit:!1},this.render={texture:"",src:t.path+"/ice-beam.png",resize:0,small:0},this.moveIceBeam="",this.delay=80,this.angle=0,this.lineTick=10,this.life=180,this.playSound=!1,this.delayInstallParticle=20,this.particleIceBeam=[],this.statePass=!1,this.objTranslate=t.ufR.value,this.beamVec=0,this.update=function(a,i,s){if(this.life--,0>this.life)return!0;s&&!this.statePass&&(this.life-=80,this.delay-=80,this.statePass=!0),s=i.position;var n=this.posBeam.position,r=t.getTexture(this.render,this.render.src);if(this.posBeam.characterGetHit||(this.posBeam.characterGetHit=s.y<n.y),this.install){if(a.save(),t.rotateGeometry(a,n.x,n.y,r.width/2/2,r.height/2,this.angle),this.drawIceBeam.update({context:a,width:r.width,height:r.height,image:r,posX:n.x,posY:n.y,resize:this.render.resize,small:this.render.small}),a.restore(),this.objTranslate.effect){for(a.globalCompositeOperation="lighter",r=0;r<this.particleIceBeam.length;r++){var o=this.particleIceBeam[r];o.install||(this.particleIceBeam[r].posX=n.x+17+this.beamVec,this.particleIceBeam[r].posY=n.y-17,this.particleIceBeam[r].install=!0),e.particleGeometry(a,o),0===o.randX?o.posX--:1===o.randX&&o.posX++,o.posY--,o.radius--,(0>o.remaining_life||0>o.radius)&&(this.posBeam.characterGetHit?this.particleIceBeam.splice(r,1):this.particleIceBeam[r]=new e.particleArc({color:{r:90,g:203,b:248}}))}a.globalCompositeOperation="source-over"}if(this.delay--,0>this.delay){if(this.posBeam.characterGetHit)return this.playSound||(t.pAo("Windshield_Hit_01"),this.playSound=!0),this.posBeam.position.x=this.posBeam.posHit+(s.x-this.posBeam.posX),this.posBeam.position.y=s.y,50>this.life&&(this.render.resize--,this.render.small--),"hit";this.moveIceBeam?(a=this.moveIceBeam.update(),this.posBeam.position.x+=a.x,this.posBeam.position.y+=a.y,this.posBeam.posHit=this.posBeam.position.x,this.posBeam.posX=s.x,this.delayInstallParticle--,this.delayInstallParticle&&(this.particleIceBeam.push(new e.particleArc({color:{r:90,g:203,b:248}})),this.delayInstallParticle=20)):this.moveIceBeam=new t.moveVector2d(this.posBeam,i,3)}else this.render.resize+=.5,this.angle=t.distanceAndAngleBetweenTwoPoints(n.x,n.y,s.x,s.y).angle,this.beamVec=this.angle-90}else t.pAo("freeze-icy-crackling"),this.drawIceBeam=new t.drawIceBeamMagicSpell,this.posBeam.position.x=s.x,this.posBeam.position.y=s.y+4*-t.stage,this.install=!0}},this.lifeDrain=function(a){this.target=a,this.install=!1,this.spellEllipse=0,this.ellipsePos={x:0,y:0},this.ellipseParticle=[],this.drawEllipseMagicSpell="",this.render={texture:"",src:t.path+"/magic-circle.png",resize:0,small:0},this.lifeSpeed=500,this.lineTick=0,this.objTranslate=t.ufR.value,this.statePass=!1,this.update=function(a,i){var s=t.getTexture(this.render,this.render.src);if(!this.install){var n=20;for(this.ellipsePos.y=0;n--;)this.ellipseParticle.push(new e.particleArc({color:{r:93,g:93,b:255}}));this.ellipseMagicSpell=new t.draw.ellipseMagicSpell,this.install=!0}if(this.objTranslate.effect){if(this.lineTick--,a.globalCompositeOperation="lighter",this.ellipsePos.x=this.target.position.x,-70<this.lineTick)this.spellEllipse+=.3,this.ellipsePos.y-=4,this.render.resize++;else for(n=0;n<this.ellipseParticle.length;n++){var r=this.ellipseParticle[n];r.install||(r.posX=this.ellipsePos.x,r.posY=this.target.position.y+this.ellipsePos.y-t.tTH(50,0),r.install=!0),12>r.randomWidth?(r.randomWidth+=.4,r.randomHeight+=.2):(r.randomWidth=0,r.randomHeight=0),e.particleEllipseStrokeGeometry(a,r),r.width=this.spellEllipse*r.randomWidth,r.height=2*this.spellEllipse,r.width+=.1,r.remaining_life--,0>r.remaining_life&&(-10>this.render.small?this.ellipseParticle.splice(n,1):this.ellipseParticle[n]=new e.particleArc({color:{r:93,g:93,b:255}}))}a.globalCompositeOperation="source-over",this.ellipseMagicSpell.update({context:t.context,width:this.render.resize,height:145,image:s,posX:this.ellipsePos.x,posY:this.target.position.y+this.ellipsePos.y,resize:this.render.resize,small:this.render.small})}if(this.lifeSpeed--,0>this.lifeSpeed&&(this.render.small-=2,this.render.resize--,-70>this.render.small))return!0;i&&!this.statePass&&(this.lifeSpeed=0,this.statePass=!0)}},this.magicCircle=function(e){this.install=!1,this.imagePosY=e.imagePosY,this.imagePosX=e.imagePosX,this.scaleBefore=e.scaleBefore,this.scale=e.scale,this.scaleY=this.scaleX=0,this.scaleLength=e.scaleLength,this.life=e.life,this.target=e.target,this.offsetY=this.offsetX=.1,this.lengthOpacity={lengthEnd:0,lengthStart:0,remove:1},this.opacity=function(t){return t?(0<this.lengthOpacity.remove&&(this.lengthOpacity.remove-=.05),0>=this.lengthOpacity.remove?0:this.lengthOpacity.remove):1/this.lengthOpacity.lengthEnd*this.lengthOpacity.lengthStart},this.render={texture:"",src:e.url},this.update=function(e,a){this.install||(t.getTexture(this.render,this.render.src),this.draw=new t.draw.generalDrawImage,this.lengthOpacity.lengthEnd=this.scaleLength,this.install=!0),0<this.scaleLength&&(this.scaleLength--,this.lengthOpacity.lengthStart++,this.scaleX+=this.scale,this.scaleY+=this.scale,this.offsetX+=this.scale/2,this.offsetY+=this.scale/2);var i=a.remove?this.opacity(!0):this.opacity();if(e.globalAlpha=i,this.draw.update({context:e,image:this.render.textures,posX:this.target.x,posY:this.target.y,imagePosY:this.imagePosY,imagePosX:this.imagePosX,scaleX:this.scaleX,scaleY:this.scaleY,offsetX:this.offsetX,offsetY:this.offsetY,scaleBefore:this.scaleBefore}),e.globalAlpha=1,.1>=this.lengthOpacity.remove)return!0}},this.fireBallAreaEffect=function(a){this.installEffect=!1,this.radiusLife=5,this.translateSpeedY=this.translateSpeedX=0,this.initRadius=!!a&&a||"big",this.objTranslate=t.ufR.value,this.radius=function(){return"medium"===this.initRadius?t.tTH(50,30):"big"===this.initRadius?t.tTH(60,40):void 0},this.update=function(a,i,s,n){return this.installEffect||(t.extend(this,new e.effect,!0),t.extend(this,new e.fireBallProperties,!0),this.installEffect=this.effectStop=!0),this.fireBallEffect(a,i,s,n)}},this.fireBallAcidEffect=function(){this.radiusLife=1,this.translateSpeedY=this.translateSpeedX=0,this.radius=function(){return t.tTH(40,10)},this.installEffect=!1,this.objTranslate=t.ufR.value,this.update=function(a,i,s,n){if(this.stop)return!0;if(this.installEffect){if(this.objTranslate.effect){var r=i.x,o=i.y;a.globalCompositeOperation="color-burn";for(var l=0;l<this.particlesEffect.length;l++){var c=this.particlesEffect[l];c.posX||c.posY||(this.particlesEffect[l].posX=r,this.particlesEffect[l].posY=o),n&&(c.posX=r,c.posY=o),e.particleArcStrokeGeometry(a,c),this.lifeEffect--,0>=this.lifeEffect?(c.radius=Math.round(c.radius),0<c.radius-2&&(c.radius-=2),0<c.remaining_life&&c.remaining_life--,-50>this.lifeEffect&&(this.effectStop=!0)):(c.radius+=.7,(0>c.remaining_life||0>c.radius)&&(this.lifeEffect--,this.particlesEffect[l]=new e.particleArc({radius:0,color:{r:249,g:24,b:24}})))}a.globalCompositeOperation="source-over"}return this.fireBallEffect(a,i,s,n)}t.extend(this,new e.effect,!0),t.extend(this,new e.fireBallProperties,!0),this.particlesEffect=e.installParticles(5,{radius:this.radius(),color:{r:249,g:24,b:24}}),this.installEffect=!0}},this.explosionEffect2=function(a){this.install=!1,this.particles=[],this.thrust=7,this.size=50,this.explosion_strength=7,this.fragment_size_ratio=.53,this.colors=["255,60, 1","249, 24, 24","255, 75, 22"],this.particleSize=a,this.objTranslate=t.ufR.value,this.particle=function(t){this.gravity=.25,this.posX=t.x,this.posY=t.y+t.vy,this.vx=t.vx,this.vy=t.vy,this.angle=t.angle,this.remaining_life=this.life=t.life,this.radius=t.size/2,this.color={},this.color.r=t.r&&t.r||255,this.color.g=t.g&&t.g||75,this.color.b=t.b&&t.b||22,this.velocity=function(){this.vy+=this.gravity,this.posX+=this.vx,this.posY+=this.vy}},this.update=function(a,i){if(this.install){if(!this.particles.length)return!0;for(a.globalCompositeOperation="lighter",n=0,r=this.particles;n<r.length;n++){var s=r[n];this.objTranslate.effect&&(a.globalCompositeOperation=n%3?"lighter":"source-over",this.objTranslate.staticObjStateX&&(this.objTranslate.moveLeft?s.posX+=this.objTranslate.staticObjMoveX:this.objTranslate.moveRight&&(s.posX+=this.objTranslate.staticObjMoveX)),this.objTranslate.staticObjStateY&&(this.objTranslate.moveUp?s.posY+=this.objTranslate.staticObjMoveY:this.objTranslate.moveDown&&(s.posY+=-this.objTranslate.staticObjMoveY)),e.particleGeometry(a,s),s.velocity()),s.remaining_life--,1<s.radius&&(s.radius-=.5),0>s.remaining_life&&this.particles.splice(n,1)}return a.globalCompositeOperation="source-over",!1}for(var n=0,r=this.particleSize;n<r;n++){s=360*Math.random()|0;var o=Math.sin(s+180*Math.PI/180)*(Math.random()*this.explosion_strength+1);t:for(;;){var l=Math.cos((360*Math.random()|0)+180*Math.PI/180)*(Math.random()*this.explosion_strength+1);if(0>l)break t}var c=this.colors[Math.random()*this.colors.length|0].split(",");this.particles.push(new this.particle({vx:o,vy:l,x:i.x+o,y:i.y+l,angle:s,r:c[0],g:c[1],b:c[2],size:2*Math.random()*this.size*this.fragment_size_ratio+.1,life:t.tTH(50,30)}))}this.objTranslate.isShake.createShake(2),this.install=!0}},this.explosionEffect=function(){this.install=!1,this.random={x:5*Math.random(),y:10*Math.random()-15},this.particles=[],this.tick=0,this.objTranslate=t.ufR.value,this.update=function(a,i,s){if(this.install){if(this.objTranslate.effect){s=i.position.x;var n=i.position.y;for(i=0;i<this.particles.length;i++){a.globalCompositeOperation=i%5?"lighter":"destination-out";var r=this.particles[i];r.posX||r.posY||(this.particles[i].posX=s+t.tTH(-10,10),this.particles[i].posY=n+t.tTH(-10,10)),e.particleGeometry(a,r),0<r.radius&&r.radius--,0<r.remaining_life&&r.remaining_life--}a.globalCompositeOperation="source-over"}if(this.tick++,25<this.tick)return!0}else{for(i=0;10>i;i++)this.particles.push(new e.particleArc({radius:t.tTH(30,60),color:s}));this.install=!0}}},this.rocketEffect=function(){this.stop=this.install=!1,this.particles=[],this.update=function(t,a,i,s){if(this.install){if(this.stop)return!0;var n=a.position.x;a=a.position.y,t.globalCompositeOperation="lighter";for(var r=0;r<this.particles.length;r++){var o=this.particles[r];o.install||("left"===i?(this.particles[r].posX=n+20,this.particles[r].posY=a):"right"===i?(this.particles[r].posX=n-25,this.particles[r].posY=a):"top"===i?(this.particles[r].posX=n,this.particles[r].posY=a+20):"bottom"===i?(this.particles[r].posX=n,this.particles[r].posY=a-20):"leftTop"===i?(this.particles[r].posX=n+20,this.particles[r].posY=a+20):"rightTop"===i?(this.particles[r].posX=n-25,this.particles[r].posY=a+20):"leftBottom"===i?(this.particles[r].posX=n+20,this.particles[r].posY=a-20):"rightBottom"===i&&(this.particles[r].posX=n-25,this.particles[r].posY=a-20),this.particles[r].install=!0),e.particleGeometry(t,o),o.remaining_life--,o.radius--,"left"===i?o.posX+=3:"right"===i?o.posX-=3:"top"!==i&&"bottom"!==i&&("leftTop"===i?(o.posX+=3,o.posy-=3):"rightTop"===i?(o.posX-=3,o.posy-=3):"leftBottom"===i?(o.posX+=3,o.posy+=3):"rightBottom"===i&&(o.posX-=3,o.posy+=3)),(0>o.remaining_life||0>o.radius)&&(this.particles[r]=new e.particleArc)}"stop"===s&&(this.stop=!0),t.globalCompositeOperation="source-over"}else this.particles=e.installParticles(30),this.install=!0}},this.lights=function(a){this.lights=[],this.target=a,this.install=!1,this.translateSpeedY=this.translateSpeedX=0,this.objTranslate=t.ufR.value,this.update=function(a,i){if(!this.install){for(var s=20;s--;)this.lights.push(new e.particleArc({color:{r:93,g:93,b:255},radius:t.tTH(12,5),life:t.tTH(200,150)}));this.posX=this.target.position.x,this.posY=this.target.position.y,this.install=!0}if(this.objTranslate.effect){for(this.objTranslate.staticObjStateX&&(this.objTranslate.moveLeft?this.translateSpeedX+=this.objTranslate.staticObjMoveX:this.objTranslate.moveRight&&(this.translateSpeedX+=this.objTranslate.staticObjMoveX)),this.objTranslate.staticObjStateY&&(this.objTranslate.moveUp?this.translateSpeedY+=this.objTranslate.staticObjMoveY:this.objTranslate.moveDown&&(this.translateSpeedY+=-this.objTranslate.staticObjMoveY)),a.globalCompositeOperation="lighter",s=0;s<this.lights.length;s++){var n=this.lights[s],r={};if(!n.install){var o=t.tTH(145,-145);n.tempX=this.posX+o,n.tempY=this.posY+40,n.opacityTemp=0,n.speedY=-45<o&&45>o?t.LcQ(2,1.5):-100<o&&100>o?t.LcQ(1.5,.5):.5,n.lifeSpeed=t.tTH(3,2),n.install=!0}1>n.opacityTemp?(n.opacityTemp+=.1,r.opacityTemp=n.opacityTemp,r.state=!0):r.state=!1,n.tempY-=n.speedY,n.posX=n.tempX+this.translateSpeedX,n.posY=n.tempY+this.translateSpeedY,e.particleGeometry(a,n,r),n.remaining_life-=n.lifeSpeed,0>n.remaining_life&&100<i&&(this.lights[s]=new e.particleArc({color:{r:93,g:93,b:255},radius:t.tTH(12,5),life:t.tTH(200,150)}))}a.globalCompositeOperation="source-over"}}},this.lightningOld=function(e,a){this.target=e,this.monsterDir=a,this.colorType="",this.colorToString=function(t,e){return"white"===e?"rgba( 255, 255, 255, "+t+")":"lightBlue"===e?"hsla( 195, 100%, 50%,"+t+")":void 0},this.install=!1,this.point=[],this.particlePoint=function(t,e,a,i,s,n){this.pos={x:e.position.x+a,y:e.position.y+i},gradient=t.createRadialGradient(this.pos.x,this.pos.y,s/7,this.pos.x,this.pos.y,s),gradient.addColorStop(0,this.colorToString(1,n)),gradient.addColorStop(1,this.colorToString(0,n)),t.fillStyle=gradient,t.beginPath(),t.arc(this.pos.x,this.pos.y,s,0,2*Math.PI,!1),t.fill()},this.PointFn=function(e){for(var a,i,s=this.point,n=t.tTH(30,25),r=n-20,o=0,l=s.length;o<l;o++)"casted"===s[o].type?(a="left"===this.monsterDir?-90:90,i=-25):i=a=0,this.particlePoint(e,s[o].target,a,i,n,"lightBlue"),s[o].alsoSmall&&this.particlePoint(e,s[o].target,a,i,r,"white")},this.createPoint=function(){for(var t=this.target,e=0;e<t.length;e++){var a="oval"===t[e].label;this.point.push({target:t[e],type:a?"casted":"target",alsoSmall:!!a})}},this.createLightning=function(e,a,i){this.targetPoint="",this.lightningCnt=[],this.targetEndPoint="",this.parent=e,this.pos="",this.findTargetPoint=function(){for(var t=this.parent.target,e=0,s=t.length;e<s;e++)t[e].label===a&&(this.targetPoint=t[e]),t[e].label===i&&(this.targetEndPoint=t[e])},this.install=!1,this.simplexNoise=new SimplexNoise,this.lightning={points:[],delay:0},this.noise2d=function(t,e){var a,i=1,s=1,n=0;for(a=0;2>a;++a)n+=(i*=.4)*(this.simplexNoise.noise2D(t*s,e*s)+1)*.5,s*=2;return n},this.lastPoint={position:{}},this.update=function(e){if(this.install||(this.findTargetPoint(),this.lastPoint.position.x=this.targetPoint.position.x,this.lastPoint.position.y=this.targetPoint.position.y,this.install=!0),"oval"===this.targetPoint.label)var a="left"===this.parent.monsterDir?-90:90,i=-25;else i=a=0;var s=this.targetPoint.position,n=this.targetEndPoint.position;if(this.lightning.delay--,0>this.lightning.delay)for(this.lightning.points.length=0,this.lastPoint.position.x=this.targetPoint.position.x,this.lastPoint.position.y=this.targetPoint.position.y;;){var r=t.moveVector2dWithVelocity(this.lastPoint,this.targetEndPoint,1);if(this.lastPoint.position.x+=r.x,this.lastPoint.position.y+=r.y,this.lightning.points.push(this.lastPoint.position),4>Math.round(this.lastPoint.position.x)-Math.round(n.x)&&4>Math.round(this.lastPoint.position.y)-Math.round(n.y)){this.lightning.delay=5;break}}for(r=this.lightning.points,e.save(),e.globalCompositeOperation="lighter",e.beginPath(),e.lineCap="round",e.lineWidth=3,e.shadowColor=this.parent.colorToString(1,"lightBlue"),e.shadowBlur=50,e.moveTo(s.x+a,s.y+i),a=0;a<r.length;a++)0!==a&&e.lineTo(n.x,n.y);e.fillStroke="rgba(255, 255, 255, 0)",e.stroke(),e.restore(),e.globalCompositeOperation="source-over"}},this.lightning=[],this.update=function(t){if(this.install){this.PointFn(t);for(var e=0;e<this.lightning.length;e++)this.lightning[e].update(t)}else this.createPoint(),this.lightning.push(new this.createLightning(this,"oval",this.target[1].label)),this.install=!0}},this.lightning=function(e,a,i){this.skillName=i,this.targets=e,this.factory=function(e,a){function i(t){this.points=[],this.children=[],this._params=[],this._offsets=[]}function s(t,e){this.parent=t,this.points=[],this._param=e}function n(){var t,e,a={},i=0;for(e=arguments.length;i<e;i++){var s=arguments[i];for(t in s)a[t]=s[t]}return a}var r={skillName:a,mainParent:e,points:null,children:null,objTranslate:t.ufR.value,_simplexNoise:new SimplexNoise,render:function(t,e,a){this.objTranslate.effect&&("freeze"!==a&&this._update(e),this._draw(t,a))},_update:function(t){throw Error("Not override")},_draw:function(t,e){var a,i="freeze"===e,s=i?this.mainParent.lastPoints:this.points,n=(a=!this.parent)?this:this.parent;if(a&&!i){var r=this.children;t.save();var o=0;for(i=s.length;o<i;o+=i-1){var l=s[o],c=5*Math.random()+3,h=t.createRadialGradient(l.x,l.y,c/3,l.x,l.y,c);h.addColorStop(0,this._colorToString(1)),h.addColorStop(1,this._colorToString(0)),t.fillStyle=h,t.beginPath(),t.arc(l.x,l.y,c,0,2*Math.PI,!1),t.fill()}for(t.restore(),o=0,i=r.length;o<i;o+=i-1)r[o].render(t)}for(t.save(),t.globalCompositeOperation="lighter",t.lineCap="round",t.lineWidth=1,t.fillStyle="rgba(0, 0, 0, 1)",t.shadowBlur=n.blur,t.shadowColor=this._colorToString(1),t.beginPath(),o=0,i=s.length;o<i;o++)l=s[o],1<i?(h=s[o===i-1?o-1:o+1],c=l.x-h.x,h=l.y-h.y,c=Math.sqrt(c*c+h*h)):c=0,30<c&&(c=30),t.moveTo(l.x+c,l.y),t.arc(l.x,l.y,c,0,2*Math.PI,!1);for(t.beginPath(),t.strokeStyle=this._colorToString(Math.random()*(n.maxAlpha-n.minAlpha)+n.minAlpha),n=Math.random()*(n.maxLineWidth-n.minLineWidth)+n.minLineWidth,t.lineWidth=a?n:.5*n,o=0;o<i;o++)l=s[o],t[0===o?"moveTo":"lineTo"](l.x,l.y);t.stroke(),t.restore(),this.mainParent.lastPoints=s},_noise2d:function(t,e){var a,i="lightning"===this.skillName?.8:"chain-lightning"===this.skillName?.6:.4,s=1,n=1,r=0;for(a=0;2>a;++a)r+=(s*=i)*(this._simplexNoise.noise2D(t*n,e*n)+1)*.5,n*=2;return r},_filterApply:function(t,e,a,i,s,n){var r,o,l=this.points,c=[],h=this._catmullRom;t.unshift(t[0]),t.push(t[t.length-1]);var p=1/a,g=0;for(r=t.length-3;g<r;g++){var d=t[g],m=t[g+1],u=t[g+2],f=t[g+3];for(o=0;o<a;o++){var v=(o+1)*p;c.push({x:h(d.x,m.x,u.x,f.x,v),y:h(d.y,m.y,u.y,f.y,v)})}}for(t.pop(),c.unshift(t.shift()),t=[],p=1/((r=c.length)-1),i=1/i,g=0,r=c.length;g<r;g++)a=c[g],h=g===r-1?a:c[g+1],h=Math.atan2(h.y-a.y,h.x-a.x),m=Math.sin(h),u=Math.cos(h),f=g*i,h=(d=e*this._noise2d(f-n,n)*.5*s)*m,d*=u,m*=f=e*this._noise2d(f+n,n)*.5*s,u*=f,f=Math.sin(Math.PI*g*p),h=a.x+(h-m)*f,d=a.y-(d-u)*f,l.length?((a=l.shift()).x=h,a.y=d):a={x:h,y:d},t.push(a);return t},_catmullRom:function(t,e,a,i,s){return(2*e-2*a+(t=.5*(a-t))+(i=.5*(i-e)))*s*s*s+(-3*e+3*a-2*t-i)*s*s+t*s+e},_colorToString:function(t){var e=this.color;return"rgb"===this.colorType?"rgba("+e.join(",")+","+t+")":"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t+")"}};return i.prototype=n(r,{color:[255,255,255],colorType:"rgb",blur:50,maxAlpha:1,minAlpha:.75,maxLineWidth:5,minLineWidth:.5,_params:null,_offsets:null,addParam:function(t,e,a,i){this._params.push({segmentsNum:t,base:e,amplitude:a,speed:i}),this._offsets[this._params.length-1]=0},createChild:function(t,e,a){return t=new s(this,{base:t||this._params.base,amplitude:e||this._params.amplitude,speed:a||this._params.speed}),this.children.push(t),t},_update:function(t){var e,a,i,s=this._params,n=this._offsets,r=0;for(a=s.length;r<a;r++){var o=s[r],l=e=0;for(i=t.length;l<i;l++)if(l!==i-1){var c=t[l],h=t[l+1],p=c.x-h.x;e+=p*p+(c=c.y-h.y)*c}e=Math.sqrt(e),n[r]+=Math.random()*o.speed,t=this._filterApply(t,e,o.segmentsNum,o.base,o.amplitude,n[r])}this.points=t}}),s.prototype=n(r,{parent:null,_startStep:0,_endStep:0,_separate:2,_param:null,_offset:0,_lastChangeTime:0,_update:function(){var t=this.parent,e=this.parent.points.length,a=this._param,i=[],s=(new Date).getTime();if(s-this._lastChangeTime>1e4*Math.random()||e<this._endStep){var n=.1*e|0,r=this._startStep=Math.random()*(e/3*2|0)|0;this._endStep=r+n+(Math.random()*(e-r-n)+1|0),this._lastChangeTime=s}for(s=((t=(e=t.points.slice(this._startStep,this._endStep)).length)-1)/this._separate,n=0;n<=this._separate;n++)r=s*n|0,i.push(e[r]);s=i[0],n=i[i.length-1],e=s.x-n.x,s=s.y-n.y,e=Math.sqrt(e*e+s*s),this._offset+=Math.random()*a.speed,this.points=this._filterApply(i,e,.5*t|0,a.base,a.amplitude,this._offset)},_colorToString:function(t){var e=this.parent.color;return"rgb"===this.parent.colorType?"rgba("+e.join(",")+","+t+")":"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t+")"}}),new i},this.Point=function(t,e,a,i){this.x=t,this.y=e,this.color=a,this.colorType=i,this.vx=6*Math.random()-3,this.vy=6*Math.random()-3,this._latest={x:this.x,y:this.y}},this.Point.prototype={color:null,colorType:"rgb",radius:50,alpha:.2,dragging:!1,dying:!1,dead:!1,_mouse:null,_latest:null,_mouseDist:null,_currentAlpha:0,_currentRadius:0,objTranslate:t.ufR.value,lengthSq:function(){return this.x*this.x+this.y*this.y},hitTest:function(t){var e=t.x-this.x;return e*e+(t=t.y-this.y)*t<this.radius*this.radius},dragStart:function(t){return this.hitTest(t)&&(this._mouse=t,this._mouseDist={x:this.x-t.x,y:this.y-t.y},this.dragging=!0),this.dragging},dragEnd:function(){this.dragging=!1,this._mouse=this._mouseDist=null},kill:function(){this.dying=!0,this.radius=0},update:function(t){var e;t=this.radius,this._mouse?(this._latest.x=this.x,this._latest.y=this.y,this.x=this._mouse.x+this._mouseDist.x,this.y=this._mouse.y+this._mouseDist.y,this.vx=this.x-this._latest.x,this.vy=this.y-this._latest.y):(this.x+=this.vx,this.y+=this.vy,this.vx*=.98,this.vy*=.98),(e=Math.sqrt(this.vx*this.vx+this.vy*this.vy))&&20<e&&(this.vx/=e/20,this.vy/=e/20),.001<(0>(e=this.alpha-this._currentAlpha)?-e:e)&&(this._currentAlpha+=.1*e),.01<(0>(e=t-this._currentRadius)?-e:e)?this._currentRadius+=.35*e:this.dying&&(this.dead=!0),this._currentRadius*=Math.random()*(1-.85)+.85},draw:function(t){if(this.objTranslate.effect){var e=this._currentRadius,a=t.createRadialGradient(this.x,this.y,e/3,this.x,this.y,e);a.addColorStop(0,this._colorToString(this._currentAlpha)),a.addColorStop(1,this._colorToString(0)),t.fillStyle=a,t.beginPath(),t.moveTo(this.x+e,this.y),t.arc(this.x,this.y,e,0,2*Math.PI,!1),t.fill()}},_colorToString:function(t){var e=this.color;return"rgb"===this.colorType?"rgba("+e.join(",")+","+t+")":"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t+")"}},this.install=!1,this.dragPointNumber=2,this.dragPointMaxNumber=8,this.childNumber=2,this.lightningColor=[195,100,50],this.createPoint=function(t,e){return new this.Point(t,e,this.lightningColor.slice(),"hsl")},this.points=[],this.drawLightning=[],this.isOval=function(t){return"oval"===t.label?(x="left"===this.monsterDir?-60:60,y=-10):y=x=0,{x:x,y:y}},this.updateFn=function(t,e){var a,i=this.points,s=this.targets,n=[];if(t.globalCompositeOperation="lighter","freeze"!==e){var r=0;for(a=i.length;r<a;r++){var o=i[r],l=this.isOval(s[r]);o.x=s[r].position.x+l.x,o.y=s[r].position.y+l.y,o.update(),o.draw(t),o.dead?(i.splice(r,1),r--,a--):o.dying||n.push(o)}}this.drawLightning.render(t,n,e),this.drawLightning.color[2]=65*Math.random()+35,t.globalCompositeOperation="source-over"},this.delay=5,this.latestDir=0,this.spliceNumber=25,this.update=function(t,e){if(this.install)if(this.monsterDir=a,this.latestDir!==e&&(this.delay=0),this.delay--,0<this.delay)this.updateFn(t);else{if(!this.lastPoints||!this.lastPoints.length)return!0;this.updateFn(t,"freeze"),this.lastPoints.splice(0,this.spliceNumber)}else{for(var i=0;i<this.targets.length;i++)this.points.push(this.createPoint(this.targets[i].position.x,this.targets[i].position.y));this.drawLightning=new this.factory(this,this.skillName),this.drawLightning.addParam(8,10,.7,.01),this.drawLightning.addParam(16,60,.5,.03),this.drawLightning.colorType="hsl",this.drawLightning.color=this.lightningColor.slice(),this.latestDir=e,"lightning-strike"===this.skillName&&(this.delay=600),"chain-lightning"===this.skillName?this.spliceNumber=100:(this.drawLightning.createChild(80,.5,.06),this.drawLightning.createChild(80,.5,.06)),this.install=!0}}},this.lightningArea=function(e,a,i){this.target=e,this.allTarget=[],this.attacker=t.oval.value,this.monsterDir=a,this.skillName=i,this.areaDmg="",this.tick=4,this.y=this.x=0,this.lightningFn="",this.objTranslate=t.ufR.value,this.update=function(e,a){if(this.install){if(this.lightningFn.update(e,a)){for(s=0;s<this.allTarget.length;s++)if("oval"===this.allTarget[s].label){this.allTarget.splice(s,1);break}return this.allTarget}}else if(this.tick--,3===this.tick&&(this.x=this.target.position.x,this.y=this.target.position.y,this.areaDmg=t.staticAreaDmg.value(this,700,300),this.areaDmg.caster=this.attacker.label,t.World.add(t.engine.world,this.areaDmg),t.EdAj.value.set(this.areaDmg.label,this.areaDmg)),t.Body.setPosition(this.areaDmg,{x:this.target.position.x,y:this.target.position.y}),0===this.tick&&t.monsterControl.triggerMonsterFn("area"),-4>this.tick){t.World.remove(t.engine.world,this.areaDmg);for(var i=t.EdAj.value.get(this.areaDmg.label).monsterParameters,s=0,n=i.length;s<n;s++)this.allTarget.push(i[s].object);this.allTarget=t.AI.sortestEnemy(this.allTarget,this.target,{orderByDir:!0}),1>=this.allTarget.length&&this.allTarget.unshift(t.oval.value),this.lightningFn=new t.lightning(this.allTarget,this.monsterDir,this.skillName),t.EdAj.value.remove(this.areaDmg.label),this.install=!0}}},this.fireBall=function(){this.stop=this.install=!1,this.particles=[],this.update=function(a,i,s){if(this.install){if(this.stop)return!0;var n=i.position.x;for(i=i.position.y,a.globalCompositeOperation="lighter",o=0;o<this.particles.length;o++){var r=this.particles[o];r.install||(this.particles[o].posX=n,this.particles[o].posY=i,this.particles[o].install=!0),e.particleGeometry(a,r),r.remaining_life--,r.radius--,(0>r.remaining_life||0>r.radius)&&(this.particles[o]=new e.particleRocket({radius:t.tTH(10,30),color:{r:255,g:75,b:0}}))}"stop"===s&&(this.stop=!0),a.globalCompositeOperation="source-over"}else{for(var o=0;30>o;o++)this.particles.push(new e.particleRocket({radius:t.tTH(5,50),color:{r:255,g:75,b:0}}));this.install=!0}}},this.fireBallAcid=function(e,a,i,s){this.parent=s,this.fireBallFn="",this.monsterDir=i,this.attacker=t.oval.value,this.objTranslate=t.ufR.value,this.explosionFn="",this.install=this.remove=!1,this.object=new t.staticFireBall.value,this.monsterTarget=a,this.monster=e,this.pos=0,this.life=270,this.attackAllowed=!0,this.moveObj="",this.delay=120,this.distanceDiv=40,this.translateSpeedY=this.translateSpeedX=0,this.testShake={state:!0,tick:3},this.update=function(e){if(this.remove)return!0;if(this.install){e=this.object.position;var a=this.monsterTarget.position,i=Math.abs(e.y-a.y);if(e=40>Math.abs(e.x-a.x)&&40>i,0<this.delay)if(this.pos){this.objTranslate.staticObjStateX&&(this.objTranslate.moveLeft?this.translateSpeedX+=this.objTranslate.staticObjMoveX:this.objTranslate.moveRight&&(this.translateSpeedX+=this.objTranslate.staticObjMoveX));var s=this.dungeonActive?3:this.objTranslate.staticObjMoveY;this.objTranslate.staticObjStateY&&(this.objTranslate.moveUp?this.translateSpeedY+=s:this.objTranslate.moveDown&&(this.translateSpeedY+=-s)),t.Body.setPosition(this.object,{x:this.pos.x+this.translateSpeedX,y:this.pos.y+this.translateSpeedY}),s=!0}else this.pos={x:this.attacker.position.x+("left"===this.monsterDir?-90:90),y:this.attacker.position.y+-25};else s=t.moveVector2dSmooth(this.object,this.monsterTarget,this.distanceDiv-=.5),t.Body.setPosition(this.object,{x:this.object.position.x+s.x,y:this.object.position.y+s.y}),s=!1;this.fireBallFn.update(t.context,this.object.position,"",s,this.object.position.x),e&&this.attackAllowed&&(this.parent.convertAttackCharacterSkillToDamage({explode:!0,skill:"fireball-acid"}),this.parent.isSkillActive=!0,this.attackAllowed=!1,t.pAo("explosion"),t.pAo("heat-impact"),s=t.LgAn.value.get("fire-ball"))&&(s.pause(),s.currentTime=0,t.LgAn.value.remove("fire-ball")),!this.life||e?(t.World.remove(t.engine.world,this.object),this.fireBallFn.update(t.context,this.object.position,"stop"),this.explosionFn.update(t.context,this.object,{r:255,g:75,b:22})&&(this.remove=!0),this.life=0):(this.life--,this.delay--)}else t.World.add(t.engine.world,this.object),this.fireBallFn=new t.fireBallAcidEffect,this.explosionFn=new t.explosionEffect,this.install=!0}},this.fireBallArea=function(e,a,i,s,n){this.skillInitName=n,this.parent=s,this.fireBallFn="",this.set=!1,this.monsterDir=i,this.attacker=e,this.explosionFn="",this.remove=!1,this.y=this.x=0,this.position={x:0,y:0},this.install=this.remove=!1,this.object=new t.staticFireBall.value,this.areaDmg="",this.areaDmgState=!0,this.setTick=4,this.monster=a,this.pos=0,this.life=270,this.attackAllowed=!0,this.moveObj="",this.delay=120,this.speed=10,this.particleNumber=25,this.imagePosY=this.scaleLength=30,this.imagePosX=130,this.scaleBefore=-220,this.translateSpeedY=this.translateSpeedX=0,this.radius="big",this.texture="/fireball-acid-2-spell.png",this.update=function(e){if(this.remove)return!0;if(this.install)this.position.x=this.x,this.position.y=this.y,e=t.moveVector2dWithVelocity(this.object,this,this.speed),t.Body.setPosition(this.object,{x:this.object.position.x+e.x,y:this.object.position.y+e.y}),0<this.life?this.life--:this.state="stop",this.position.y<this.object.bounds.max.y&&!this.set&&(t.pAo("explosion"),t.pAo("heat-impact"),this.state="stop",this.set=!0,t.World.add(t.engine.world,this.areaDmg),t.EdAj.value.set(this.areaDmg.label,this.areaDmg)),this.fireBallFn.update(t.context,this.object.position,this.state,!1)&&(t.World.remove(t.engine.world,this.object),this.setTick--,0>this.setTick&&this.areaDmgState&&(t.monsterControl.triggerMonsterFn("area"),this.areaDmgState=!1,t.VOea.value.set(this.skillInitName,!0),this.parent.convertAttackCharacterSkillToDamage({skill:this.skillInitName}),this.parent.isSkillActive=!0),t.Body.setPosition(this.areaDmg,{x:this.x,y:this.y}),this.explosionFn.update(t.context,this)&&(t.World.remove(t.engine.world,this.areaDmg),this.remove=!0));else{t.World.add(t.engine.world,this.object);var a=(e=/fireball-acid-3/i.test(this.skillInitName))?t.tTH(200,-200):0,i=e&&/dungeon/i.test(t.ThQ.value)?t.tTH(50,-50):0;a=this.monster.position.x+a,i=this.monster.position.y+i,e&&(this.speed=25,this.scaleLength=15,this.scaleBefore=-150,this.particleNumber=25,this.imagePosY=-10,this.imagePosX=90,this.radius="medium",this.texture="/fireball-acid-3-spell.png"),t.Body.setPosition(this.object,{x:a+t.tTH(-100,-300),y:i-t.browserHeightUpdate}),t.staticGeometry.createStoratePassBG({x:a,y:i,parent:this,fn:new t.magicCircle({url:t.path+this.texture,scale:5,scaleBefore:this.scaleBefore,scaleLength:this.scaleLength,life:270,target:"",imagePosY:this.imagePosY,imagePosX:this.imagePosX})}),this.x=a,this.y=i,this.fireBallFn=new t.fireBallAreaEffect(this.radius),this.explosionFn=new t.explosionEffect2(this.particleNumber),this.areaDmg=t.staticAreaDmg.value(this,500,200),this.areaDmg.caster=this.attacker.label,this.areaDmg.areaName="fireBallAcid3",this.install=!0}}},this.hitNumber=function(e,a){this.number=e,this.critical=!!a&&a||"",this.install=!1,this.life=100,this.radius=12,this.remaining_life=this.life,this.tick=this.posY=this.posX=0,this.scaleState=11,this.moveYState=7,this.moveYStateFloat=0,this.scaleY={a:10,b:20},this.scaleX={a:10,b:20},this.drawCnt=[],this.render={texture:"",src:t.path+"/hit-num-color.png"},this.renderBold={texture:"",src:t.path+"/hit-num-color-bold.png"},this.renderHeal={texture:"",src:t.path+"/hit-num-color-heal.png"},this.renderBlock={texture:"",src:t.path+"/block.png"},this.renderStun={texture:"",src:t.path+"/stun.png"},this.renderMiss={texture:"",src:t.path+"/miss.png"},this.opacity=1,this.numberCase=function(){switch(this.number){case"block":this.texture=t.getTexture(this.render,this.renderBlock.src);break;case"stun":this.texture=t.getTexture(this.render,this.renderStun.src);break;case"miss":this.texture=t.getTexture(this.render,this.renderMiss.src);break;default:this.texture=t.getTexture(this.render,this.render.src)}"critical"===this.critical?this.texture=t.getTexture(this.renderBold,this.renderBold.src):"heal"===this.critical&&(this.texture=t.getTexture(this.renderBold,this.renderHeal.src))},this.texture="",this.gravityX=this.gravityY=this.vx=this.vy=0,this.numberOnly=!0,this.vecUp={x:0,y:0},this.update=function(e,a){var i=a.position.x,s=a.bounds.min.y-50,n=a.additionalBoundsValue?-a.additionalBoundsValue:0,r=this.number.toString().split(""),o=r.length;if(this.numberCase(),!this.install){if(this.posX=i,this.posY=s,this.vx=t.LcQ(4,2.5),this.vy=t.tTH(15,14),/block|miss|stun/i.test(this.number))this.numberOnly=!1,this.drawCnt.unshift({fn:new t.draw.hitNumber,number:this.number});else for(i=0;i<o;i++)this.drawCnt.unshift({fn:new t.draw.hitNumber,number:r[i]});this.vecUp.y=Math.abs(t.LcQ(2,1.5)),this.vecUp.x=Math.abs(t.LcQ(1.5,.6)),this.install=!0}if(this.gravityY-=this.vy,this.gravityX+=this.vx,e.globalAlpha=this.opacity,this.numberOnly)for(i=0;i<this.drawCnt.length;i++){if(r="a",1===o)var l=20,c=0;else 2===o?(l=1===i?40/3*2:0,c=4):3===o?(l=0===i?-40/3*2:1===i?0:40/3*2,c=10):4===o&&(l=0===i?-40/3*2:1===i?0:2===i?40/3*2:40/3*4,c=8,r="b");this.scaleState--,0<this.scaleState?(this.scaleY[r]++,this.scaleX[r]++):(-5<this.scaleY[r]&&(this.scaleY[r]-=1.5),-5<this.scaleX[r]&&--this.scaleX[r]),this.drawCnt[i].fn.update({context:t.context,width:40,height:40,state:this.drawCnt[i].number,image:this.texture,posX:this.posX-l-c+this.gravityX,posY:this.posY+this.gravityY,scaleY:this.scaleY[r],scaleX:this.scaleX[r],additionalBoundsValue:n})}else this.scaleState--,r="a",c=0,0<this.scaleState?(this.scaleY[r]++,this.scaleX[r]++):(-7<this.scaleY[r]&&this.scaleY[r]--,-5<this.scaleX[r]&&this.scaleX[r]--),/stun|miss/i.test(this.number)?(o=101,c=-35,l=35):(o=101,l=25),this.drawCnt[0].fn.update({context:t.context,width:o,height:l,state:this.drawCnt[0].number,image:this.texture,posX:this.posX+c+this.gravityX,posY:this.posY+this.gravityY,scaleY:this.scaleY[r],scaleX:this.scaleX[r],additionalBoundsValue:n});if(e.globalAlpha=1,this.moveYStateFloat+=1,this.posY+=6+this.moveYStateFloat,this.moveYState--,0>this.moveYState&&(this.opacity-=.07),this.tick++,20<this.tick)return!0}},this.characterBar=function(t,e){this.radius=80,this.color=t,this.curPerc=this.maxBar=e,this.circ=2*Math.PI,this.quart=Math.PI/2,this.update=function(t,e,a,i,s){t.lineWidth=10,t.strokeStyle="rgba( 0, 0, 0, 0.1 )",t.beginPath(),t.arc(this.radius+e,this.radius+a,this.radius,-this.quart,this.circ),t.stroke(),t.beginPath(),t.lineWidth=7,t.strokeStyle=this.color,t.arc(this.radius+e,this.radius+a,this.radius,-this.quart,-this.circ*-i/this.maxBar-this.quart,!1),t.stroke()}},this.loadingAct=function(t,e,a){this.radius=t,this.color=e||"rgba(0, 0, 0, 0.4 )",this.tick=a||100,this.curPerc=0,this.circ=2*Math.PI,this.quart=Math.PI/2,this.remove=!1,this.x=0,this.update=function(t,e,a,i){if("reset"===i&&(this.curPerc=0),!(this.curPerc<this.tick)||this.remove)return!0;this.x=e||-500,this.curPerc++,t.lineWidth=5,t.strokeStyle=this.color,t.shadowOffsetX=0,t.shadowOffsetY=0,t.beginPath(),t.arc(this.x,a,this.radius,-this.quart,this.circ*-this.curPerc/this.tick-this.quart,!1),t.stroke()}},this.glowPortal=function(){this.particle_count=80,this.objTranslate=t.ufR.value,this.particles=[],this.install=!1,this.update=function(t,a){if(!this.install){for(var i=0;i<this.particle_count;i++)this.particles.push(new e.particlePortalGlow(a));this.install=!0}if(this.objTranslate.effect){for(t.globalCompositeOperation="lighter",i=0;i<this.particles.length;i++){var s=this.particles[i];e.gradientPortalGlow(s,t),s.remaining_life--,s.radius--,s.location.x+=s.speed.x/1.3,s.location.y+=s.speed.y/1.3,(0>s.remaining_life||0>s.radius||a.x+70>s.location.x||a.x+130<s.location.x||a.y+70>s.location.y||a.y+130<s.location.y)&&(this.particles[i]=new e.particlePortalGlow(a))}t.globalCompositeOperation="source-over"}}}},Za.TDa=function(){this.draw={},this.draw.coin=function(options){this.frameIndex=0,this.tickCount=0,this.numberOfFrames=9,this.frameSpeed=2,this.update=function(options){with(options){this.tickCount+=1;var imgWidth=width*this.numberOfFrames;this.tickCount>this.frameSpeed&&this.frameIndex<this.numberOfFrames?(this.tickCount=0,this.frameIndex+=1):this.frameIndex*width>=imgWidth&&(this.frameIndex=0),context.drawImage(image,this.frameIndex*width,0,width,height,-25,-20,width,height)}}},this.draw.enviOrnaments=function(){this.update=function(t){t.context.drawImage(t.textures,Math.floor(t.posX),Math.floor(t.posY),t.textures.width,t.textures.height)}},this.draw.rocket=function(options){this.frameIndex=0,this.tickCount=0,this.numberOfFrames=7,this.frameSpeed=2,this.update=function(options){with(options){var imgWidth=width*this.numberOfFrames;"left"===state?this.frameIndex=6:"leftTop"===state?this.frameIndex=7:"top"===state?this.frameIndex=0:"rightTop"===state?this.frameIndex=1:"right"===state?this.frameIndex=2:"rightBottom"===state?this.frameIndex=3:"bottom"===state?this.frameIndex=4:"leftBottom"===state&&(this.frameIndex=5),context.drawImage(image,this.frameIndex*width,0,width,height,-25,-20,width,height)}}},this.draw.generalDrawImage=function(){this.update=function(options){with(options)context.drawImage(image,Math.floor(Math.floor(posX+imagePosX)-image.width/2-offsetX),Math.floor(Math.floor(posY+imagePosY)-offsetY),Math.floor(image.width+scaleBefore+scaleX),Math.floor(image.height+scaleBefore+scaleY))}},this.draw.monsterSlime=function(){this.frame=0,this.tick=0,this.numberOfFrames=3,this.frameSpeed=35,this.update=function(options){with(options){if("idle"===state||"attack"===state){this.tick++;var frameIdle=2;this.tick>this.frameSpeed&&this.frame<frameIdle&&(this.tick=0,this.frame+=1,this.frame>=frameIdle&&(this.frame=0)),"attack"===state?this.frameSpeed=15:this.frameSpeed=35}else"hit"===state?(this.frame=2,this.tick=0):(this.frame=0,this.tick=0);context.drawImage(image,this.frame*width/this.numberOfFrames,0,width/this.numberOfFrames,height+8,-20,-20,width/this.numberOfFrames,height)}}},this.draw.monsterJump=function(){this.frameB=0,this.tickB=0,this.nofFrameB=4,this.fSpeedB=8,this.update=function(options){with(options){if("idle"===state){this.tickB+=1;var imgWidth=width*this.nofFrameB;this.tickB>this.fSpeedB&&this.frameB<this.nofFrameB?(this.tickB=0,this.frameB+=1):this.frameB*width>=imgWidth&&(this.frameB=0)}else"hit"===state?(this.frameB=4,this.tickB=0):(this.frameB=0,this.tickB=0);needClear&&(this.frameB=4),context.drawImage(image,this.frameB*width,0,width,height,-20,-20,width,height)}}},this.draw.monsterGeneral=function(){this.state="",this.repeat=!0,this.install=!1,this.width=0,this.height=0,this.frameindexWidth=0,this.frameindexHeight=0,this.indexHeight=0,this.frameindexAbsolute=0,this.frameStartFrom=0,this.levelFrames=8,this.levelFramePerState=0,this.levelFrameUpdate=0,this.tick=0,this.numberOfFrames=9,this.totalOfFrames=72,this.frameSpeed=5,this.tickHeight=0,this.opacity=1,this.frameFn=function(){if(this.tick+=1,this.tick>this.frameSpeed&&this.frameindexWidth<this.numberOfFrames)this.tick=0,this.frameindexWidth++,this.frameindexAbsolute++;else if(this.frameindexWidth>this.levelFrameUpdate&&this.repeat){this.tickHeight>1&&(this.frameindexAbsolute=this.frameStartFrom,this.frameindexHeight=this.indexHeight-this.height,this.tickHeight=0),this.frameindexWidth=this.frameStartFrom,this.frameindexHeight+=this.height,this.tickHeight++;var t=this.height*(this.levelFramePerState+1)-this.height;this.frameindexHeight>t&&(this.frameindexHeight=t)}else this.frameindexWidth>this.levelFrameUpdate&&!this.repeat&&(this.frameindexAbsolute<this.numberOfFrames&&(this.frameindexHeight+=this.height),this.frameindexWidth=this.frameStartFrom,this.tickHeight++);!this.repeat&&this.frameindexAbsolute>=this.numberOfFrames&&(this.frameindexWidth=this.levelFrameUpdate)},this.draw=function(t,e){t.context.drawImage(t.image,e*t.image.width/(this.totalOfFrames/this.levelFrames),this.frameindexHeight,this.width,this.height,-this.width/2+t.additionalBoundsWidthValue,-160+t.additionalBoundsHeightValue,this.width,this.height)},this.update=function(t){if(this.install){this.state!==t.state&&"walk"===t.state?(this.indexHeight=0,this.frameindexHeight=0,this.frameSpeed=t.walkFrameSpeed,this.levelFramePerState=0,this.repeat=!0):this.state!==t.state&&"idle"===t.state?(this.indexHeight=1*this.height,this.frameindexHeight=this.indexHeight,this.frameSpeed=2,this.levelFramePerState=1,this.repeat=!0):"attack"===t.state&&this.state!==t.state?(this.indexHeight=2*this.height,this.frameindexHeight=this.indexHeight,this.frameSpeed=2,this.levelFramePerState=2,this.repeat=!0):"die"===t.state&&this.state!==t.state?(this.indexHeight=3*this.height,this.frameindexHeight=this.indexHeight,this.frameSpeed=2,this.levelFramePerState=3,this.repeat=!1):"jump"===t.state&&this.state!==t.state&&(this.indexHeight=4*this.height,this.frameindexHeight=this.indexHeight,this.frameSpeed=4,this.levelFramePerState=4,this.repeat=!1),this.state!==t.state&&(this.tickHeight=this.tick=this.frameindexAbsolute=this.frameindexWidth=0,this.state=t.state);var e=this.frameindexWidth>this.levelFrameUpdate?0:this.frameindexWidth;this.frameFn(),"die"===t.state?(this.opacity>0?this.opacity-=.02:this.opacity=0,t.context.globalAlpha=t.opacity?t.opacity:this.opacity,this.draw(t,e),t.context.globalAlpha=1):this.draw(t,e)}else this.totalOfFrames=t.totalOfFrames,this.levelFrames=this.totalOfFrames/9,this.width=Math.floor(t.width/(this.totalOfFrames/this.levelFrames)),this.height=t.height/this.levelFrames,this.levelFrameUpdate=this.totalOfFrames/this.levelFrames-1,t.width&&(this.install=!0)}},this.draw.mapMark=function(t){this.mapSize=200,this.posX=0,this.posY=0,this.positionX=0,this.positionY=0,this.screenWidthMax=0,this.screenWidthMin=0,this.screenHeightMax=0,this.screenHeightMin=0,this.render={red:{textures:"",src:scope.path+"/dot-red.png"},purple:{textures:"",src:scope.path+"/dot-purple.png",oval:!0},blue:{textures:"",src:scope.path+"/dot-blue.png"},orange:{textures:"",src:scope.path+"/dot-orange.png"},arrow:{textures:"",src:scope.path+"/arrow map.png"},help:{textures:"",src:scope.path+"/help.png"},info:{textures:"",src:scope.path+"/info.png"}},this.isInside=function(t,e,a){return this.posX=this.positionX+e/t.scaleSize,this.posY=this.positionY+a/t.scaleSize,this.posX<this.screenWidthMax-t.center.x-15&&this.posX>this.screenWidthMin-t.center.x&&this.posY>this.screenHeightMax-t.center.y&&this.posY<this.screenHeightMin-t.center.y},this.updateTest=1,this.posTemp={x:-100,y:-100},this.updatePos={x:0,y:0},this.delayTick=100,this.heightPos=0,this.moveY=0,this.update=function(t){if(!this.install){for(var e in this.heightPos=550,this.positionY=10,this.screenHeightMax=0,this.screenHeightMin=this.mapSize-20,this.render)scope.getTexture(this.render[e],this.render[e].src);t.quest&&(this.updatePos.x=t.pos.x,this.updatePos.y=t.pos.y),this.install=!0}if(this.screenWidthMax=scope.browserWidthUpdate,this.screenWidthMin=scope.browserWidthUpdate-this.mapSize,this.positionX=t.screenSizeX-this.mapSize-10,this.isInside(t,t.pos.x,t.pos.y)){if(t.quest){this.updatePos={x:t.pos.x,y:t.pos.y};var a=this.render[t.colorTarget]}else a=this.render[t.color];if("purple"===t.color)var i=this.mapSize/2-a.textures.height/2;else i=this.posY+t.center.y+a.textures.height/2;t.context.drawImage(a.textures,Math.floor(this.posX+t.center.x),i,a.textures.width,a.textures.height)}else if(t.quest){var s=scope.moveVector2dWithVelocity(t.characterPos,this.updatePos,this.updateTest,!0),n=(a=this.render[t.color],s.vector),r=s.angle;this.isInside(t,this.updatePos.x,this.updatePos.y)?(this.posTemp.x=Math.floor(this.posX+t.center.x),this.posTemp.y=Math.floor(this.posY+t.center.y),this.updatePos.x=t.pos.x,this.updatePos.y=t.pos.y,this.updateTest=1):(this.updatePos.x=this.updatePos.x+n.x,this.updatePos.y=this.updatePos.y+n.y,this.updateTest--),t.context.save(),scope.rotateGeometry(t.context,this.posTemp.x,this.posTemp.y,16,12,r),t.context.drawImage(a.textures,this.posTemp.x,this.posTemp.y,a.textures.width,a.textures.height),t.context.restore()}}},this.draw.map=function(){this.heightPos=0,this.widthPos=0,this.mapSize=200,this.install=!1,this.positionX=0,this.moveY=0,this.delayTick=100,this.update=function(t){this.install?(this.delayTick&&(this.moveY=scope.AyD.value()[0].position.y-scope.oval.value.position.y,this.heightPos=t.posY/4-this.moveY/4-this.mapSize,this.delayTick--),this.positionX=t.screenSizeX-this.mapSize,t.context.drawImage(t.textures,Math.floor(-t.posX/4-t.center.x),Math.floor(this.heightPos+-t.posY/4+t.center.y),Math.floor(this.mapSize*t.scaleSize),Math.floor(this.mapSize*t.scaleSize),Math.floor(this.positionX),0,this.mapSize,this.mapSize)):this.install=!0}},this.draw.monsterHorn=function(){this.state="",this.frameIndex=0,this.frameStartFrom=0,this.tick=0,this.numberOfFrames=7,this.totalOfFrames=7,this.frameSpeed=10,this.height=0,this.frameFn=function(t){this.tick+=1;var e=t*this.numberOfFrames;this.tick>this.frameSpeed&&this.frameIndex<this.numberOfFrames?(this.tick=0,this.frameIndex++):this.frameIndex*t>=e&&(this.frameIndex=this.frameStartFrom),this.frameIndex>=this.totalOfFrames&&(this.frameIndex=this.frameStartFrom)},this.update=function(options){with(options)"walk"===state&&this.state!==state?(this.numberOfFrames=4,this.frameStartFrom=0,this.frameSpeed=10,this.frameIndex=0,this.state=state):"hit"===state&&this.state!==state?(this.numberOfFrames=1,this.frameStartFrom=4,this.state=state):"idle"===state&&this.state!==state&&(this.frameIndex=4,this.numberOfFrames=7,this.frameStartFrom=5,this.frameSpeed=17,this.state=state),this.frameFn(width),context.drawImage(image,this.frameIndex*width/this.totalOfFrames,0,width/this.totalOfFrames,height,-20,-20,width/this.totalOfFrames,height)}},this.draw.greenDragon=function(options){this.frameIndex=0,this.tickCount=0,this.numberOfFrames=3,this.frameSpeed=5,this.update=function(options){with(options){this.tickCount+=1;var imgWidth=width*this.numberOfFrames;this.tickCount>this.frameSpeed&&this.frameIndex<this.numberOfFrames?(this.tickCount=0,this.frameIndex+=1):this.frameIndex*width>=imgWidth&&(this.frameIndex=0),context.drawImage(image,this.frameIndex*width,0,width,height,-55,-50,width,height)}}},this.draw.ellipseMagicSpell=function(options){this.update=function(options){with(options)context.drawImage(image,0,0,image.width,image.height,posX-image.width/4-resize/2,posY,image.width/2+resize,image.height/2+small/2)}},this.drawIceBeamMagicSpell=function(option){this.update=function(options){with(options)context.drawImage(image,0,0,image.width,image.height,posX-image.width/4-resize/2,posY,image.width/2+resize,image.height/2+small/4)}},this.draw.hitNumber=function(options){this.frameIndex=0,this.tickCount=0,this.numberOfFrames=10,this.update=function(options,object){with(options)if("block"!==options.state){var imgWidth=width*this.numberOfFrames;"1"===state?this.frameIndex=0:"2"===state?this.frameIndex=1:"3"===state?this.frameIndex=2:"4"===state?this.frameIndex=3:"5"===state?this.frameIndex=4:"6"===state?this.frameIndex=5:"7"===state?this.frameIndex=6:"8"===state?this.frameIndex=7:"9"===state?this.frameIndex=8:"0"===state?this.frameIndex=9:"+"===state&&(this.frameIndex=10),context.drawImage(image,Math.floor(this.frameIndex*width),0,width,height,Math.floor(posX-scaleY/2),posY+additionalBoundsValue,width+scaleY,height+scaleX)}else context.drawImage(image,Math.floor(Math.floor(posX)-width/2),Math.floor(Math.floor(posY+additionalBoundsValue)),width+scaleY,height+scaleY)}}},Za.MbT=function(){var t=this;this.screenTransition=function(e,a,i,s){var n={loading:function(e,a,i,s){this.renderVal=function(e,a,i){this.loop=function(e,a){for(var i=0;i<e.length;i++)"progress-val"===e[i].className?t.text(e[i],a+"%"):"progress-in"===e[i].className&&(e[i].style.width=a+"%")},"open"===e?this.loop(a,i):this.loop(a,0)},"open"===e?(t.loading.style.display="block",this.renderVal(e,s,Math.floor(i/a*100))):"close"===e&&(t.loading.style.display="none",this.renderVal(e,s))},status:function(e){for(var a=t.loading.getElementsByTagName("div"),i=0;i<a.length;i++)if("status"===a[i].className){t.text(a[i],e);break}}},r=t.slice(t.loading.getElementsByTagName("span"));if("download"===e){var o=[];e=t.hEP.value[a],s=t.staticGeometry.storage.get(a),a=t.staticGeometry.storageMap.get(a);var l=d.manualPng,c=d.manualAudio,h=Modernizr.audio.ogg?".ogg":Modernizr.audio.mp3?".mp3":".wav",p=function(t){for(var e=0;e<o.length;e++)if(o[e].render&&o[e].src===t)return!1;return!0},g=0,m=0;for(x in e)if("content"===x){t:for(B in e[x])if(B in e[x])if(/staticName/i.test(B))for(var u in e[x][B]){var f=e[x][B][u],v={};for(var b in v.textures={src:f.src},t.getTexture(v,f.src,"textureNeedChange|"+f.src),t.extend(f,v),v.textures.pairTextures)/left|right/i.test(b)&&o.push({pairTextures:!0,location:b,render:v.textures.pairTextures,img:v.textures.pairTextures[b],src:v.textures.pairTextures[b].src})}else{if(!(f=e[x][B].render?e[x][B].render.sprite.texture||"undefined":e[x][B].src)||!p(f))continue t;if(void 0!==f){var S=new Image;S.scr=f,e[x][B].src?o.push({render:e[x][B].render.sprite,img:S,src:f}):((v={}).renderBody={textures:"",src:f},t.extend(e[x][B],v),o.push({render:v,img:S,src:f}))}}}else t:for(B in e[x])if(B in e[x]){if(!(f=e[x][B].src)||!p(f))continue t;f&&((S=new Image).scr=f,o.push({render:e[x][B],img:S,src:f}))}for(var x=0,B=s;x<B.length;x++)(f=B[x].render.src)&&p(f)&&void 0!==f&&((S=new Image).scr=f,o.push({render:B[x].render,img:S,src:f}));for(x=0,B=a;x<B.length;x++)f=B[x].render.src,(v={}).renderBody={textures:"",src:f},(S=new Image).scr=f,o.push({render:v,img:S,src:f});for(x=0,B=l;x<B.length;x++)src=d.urlData+"/bitmap/2d/"+B[x]+".png",v={},p(src)&&(v.textures={src:src},(S=new Image).scr=src,o.push({render:v,img:S,src:src}));for(x=0,B=c;x<B.length;x++)o.push({src:d.urlData+"/bitmap/2d/audio/"+B[x]+h});n.status("Loading Assets");var k=o.length,y=[],w=function(e,a){var i=new createjs.LoadQueue;i.addEventListener("fileload",function(t,e){for(var a=0,i=o;a<i.length;a++)if(i[a].src===t){var s=i[a].src.split("/");i[a].name=s[s.length-1].split(".")[0],i[a].result=e.result;break}g++,n.loading("open",k,g,r)}.bind(this,e)),i.addEventListener("fileerror",function(e,i){t.removeClass(t.qs("preload-alert"),"hidden"),y.push(e),a&&(o.length<g&&g++,t.removeClass(t.qs("btn-pre-cnt-btn"),"hidden"),t.removeClass(t.qs("btn-pre-cnt-li"),"hidden"))}.bind(this,e)),i.addEventListener("error",function(e,i){t.removeClass(t.qs("preload-alert"),"hidden"),y.push(e),a&&(o.length<g&&g++,t.removeClass(t.qs("btn-pre-cnt-btn"),"hidden"),t.removeClass(t.qs("btn-pre-cnt-li"),"hidden"))}.bind(this,e)),i.loadFile(e)};for(n.loading("open",k,0,r),x=0,B=o;x<B.length;x++)"undefined"!==B[x].src?w(B[x].src):(g++,o.splice(x,1));t.JngT.value=function(){ g = 0;for( var  ii = 0, jj = o; ii < jj.length; ii++){ if( jj[ ii ].src !== 'undefined' ){ w( jj[ ii ].src ,!0) }}};var imgTot = 0;for( var  ii = 0, jj = o; ii < jj.length; ii++){ if ( jj[ ii ].render ){ imgTot++;}}var M=setInterval(function(){var e=o.length;if(g+t.Jdh.value.current>=e+t.Jdh.value.total || Math.floor( ( g / e ) * 100 ) >= 99 )for(var a=0,s=o;a<s.length;a++)if(s[a].render&&s[a].img.complete&&"undefined"!==s[a].src&&(s[a].pairTextures?(s[a].render[s[a].location],s[a].result):s[a].render.src&&(s[a].render.textures=s[a].result),++m>=imgTot)){owlDATA.assets=o,clearInterval(M),i&&i.call(!0);break}},1e3)}else"build-map"===e?n.status("Building a map"):"move-character"===e&&(n.status("Summoing character"),"open"===a?n.loading("open",100,100,r):"close"===a&&n.loading("close",100,100,r))},this.toggleButton=function(){setTimeout(function(){var e=t.slice(t.qsAll("switch-control"));t.qs("bar-hp"),t.qs("bar-mp");for(var a=t.REq.value,i=0,s=e.length;i<s;i++){var n=t.getFirstChild(e[i]),r=t.getFirstChild(n);n=t.sibling(n,"next"),a.setting.effect?(r.style.left="35px",t.text(n,"ON"),t.ufR.value.effect=!0,n.style.marginRight="-40px"):(r.style.left="0px",t.text(n,"OFF"),t.ufR.value.effect=!1,n.style.marginRight="-50px")}for(i=0,s=e.length;i<s;i++)t.Ge(e[i],t.CursorEndEvent,function(e){var i=t.getFirstChild(e);e=t.getFirstChild(i);var s=i.getBoundingClientRect();i=t.sibling(i,"next"),Math.abs(s.left-t.DJF.value.pos.mousedown.x)>s.width/2?(e.style.left=s.width/2-5+"px",t.text(i,"ON"),t.ufR.value.effect=!0,a.setting.effect=!0,i.style.marginRight="-40px"):(e.style.left="0px",t.text(i,"OFF"),t.ufR.value.effect=!1,a.setting.effect=!1,i.style.marginRight="-50px")}.bind(this,e[i]))},1e3)},this.dragBar=function(){var e=t.slice(t.qsAll("bar-control")),a="",i="",s="",n=!1,r="",o=function(){var e=t.DJF.value.pos.mousemove.x;if(e>a.left&&e<a.right){var n=Math.round(a.right)-Math.round(a.left);currentLength=Math.round(e)-Math.round(a.left),length=Math.round(100*currentLength/n)+1,charparams=t.REq.value,s.style.width=0>length?0:length+"%",i.style.left=e-a.left+"px","hp"===r?(e=charparams.maxHealth,charparams.setting.healthPercentage=length,charparams.maxHealthCure=Math.round(e*length/100)):(e=charparams.maxMp,charparams.setting.mpPercentage=length,charparams.maxMpCure=Math.round(e*length/100))}};setTimeout(function(){var l=t._hsQ.value(),c=l?t.qs("tab-performance-mb"):t.controlContainer;l&&t.qs("tab-performance-mb").appendChild(t.qs("performance-detail")),l=t.qs("bar-hp");var h=t.qs("bar-mp"),p=t.REq.value,g=p.setting.healthPercentage,d=p.setting.mpPercentage;for(l.style.width=p.setting.healthPercentage+"%",h.style.width=p.setting.mpPercentage+"%",p.maxHealthCure=Math.round(p.maxHealth*g/100),p.maxMpCure=Math.round(p.maxMp*d/100),l=0,h=e.length;l<h;l++)t.Ge(e[l],t.CursorStartEvent,function(t){if(!n){var e=t.querySelectorAll("div");a=t.getBoundingClientRect(),i=e[e.length-1],s=e[0],r=/bar-hp/i.test(s.className)?"hp":"mp",n=!0,o()}}.bind(t,e[l]));t.Ge(c,t.CursorMoveEvent,function(t){n&&o()}),t.Ge(c,t.CursorEndEvent,function(t){n=!1})},1e3)},this.scrollSlide=function(){var e=scope.slice(scope.qsAll("box-quest")),a={firstLoad:!1,checkOverflow:function(t,e){for(var a=0,i=e.length;a<i;a++)e[a].getBoundingClientRect().bottom>t.bottom&&(e[a].style.display="none")},attachEvent:function(e,a){scope.that(e).use("Ge",[scope.CursorMoveEvent,function(e,a,i,s){if(t.gJE.value){for(var n=a.getElementsByTagName("li"),r=e.getBoundingClientRect(),o=0,l=n.length;o<l;o++)n[o].style.display="block";var c=e.offsetHeight,h=a.offsetHeight+15,p=t.DJF.value.pos.mousemove,g=scope.sibling(a,"next"),d=function(t){return 3*Math.abs(t/2/100*h)},m=function(t){return t/2/100*c*3};newVal=p.y,newVal>i.oldVal?i.moveVal>=0&&i.moveVal<=h&&i.moveValInPercent<h-c&&Math.abs(i.moveVal++):i.moveVal>=0&&i.moveVal<=h&&Math.abs(i.moveVal--),(i.moveVal<0||i.moveValInPercent<0)&&(i.moveVal=0),i.oldVal=p.y,i.moveValInPercent=d(i.moveVal),moveScroll=m(i.moveVal),widthScroll=c-function(){var t,e=0,a=0;if(!t)for(;a<h-c;)a=d(++e),t=m(e);return t}(),scope.css(a,{transform:"0px,"+-i.moveValInPercent+"px,0px"}),scope.css(g,{transform:"0px,"+moveScroll+"px,0px",height:widthScroll+"px",opacity:"0.5",transition:"opacity 0.5s linear"}),this.checkOverflow(r,n)}else a.setAttribute("style","")}.bind(this,e,a,{oldVal:0,newVal:0,moveVal:0,moveValInPercent:0,inPercent:0,moveScroll:0,widthScroll:0})]),scope.Ge(e,scope.CursorEndEvent,function(t){scope.sibling(t,"next").style.opacity=0}.bind(this,a)),scope.Ge(e,scope.CursorLeaveEvent,function(t){scope.sibling(t,"next").style.opacity=0}.bind(this,a))},fn:function(){for(var t=0,a=e.length;t<a;t++){var i=scope.getFirstChild(e[t]),s=e[t].getBoundingClientRect(),n=i.getElementsByTagName("li");this.checkOverflow(s,n),this.firstLoad||this.attachEvent(e[t],i)}this.firstLoad=!0}};a.fn(),this.scrollSlideParams=a},this.textDialog=function(e){clearTimeout(t.UiW.value.timeout),clearInterval(t.UiW.value.interval),scope.UiW.value.state=!1;var a=t.qs("body-dialog"),i=t.qs("left-dialog"),s=t.qs("right-dialog"),n="innerText"in a?"innerText":"textContent",r=0,o=function(e){e.avatarPosition&&(t.qs("avatar-position").className="avatar-position "+e.avatarPosition+" "+e.avatarBackground,t.text(t.qs("title-dialog"),e.avatarName),t.text(t.qs("count-dialog"),r+1+"  / "+t.UiW.value.dialogCnt.length))},l=function(){t.UiW.value.state||(t.UiW.value.timeout=setTimeout(function(){var e=t.UiW.value.dialogCnt,i=e[r];o(i),t.UiW.value.state=!0;var s=i.text.split(","),c=s[0].split(" "),h="";a[n]="",t.UiW.value.interval=setInterval(function(){c.length||h.length?""!==h&&h.length?t.text(a,'"'+a[n].split('"').join("")+h.splice(0,1)+'"'):(h=c[0].split(""),t.text(a,a[n]+" "+h.splice(0,1)),c.splice(0,1)):s.length?(s.splice(0,1),s.length&&((c=s[0].split(" ")).unshift(", "),t.text(t.qs("count-dialog"),r+1+"  / "+e.length))):(clearInterval(t.UiW.value.interval),t.UiW.value.state=!1,e.length-1>r&&(r++,l()))},50)},1e3))};t.UiW.value.dialogCnt=e,l(),t.Ge(i,"click",function(e){0<=r-1&&(r--,e=t.UiW.value.dialogCnt[r],o(e),t.text(a,e.text),clearTimeout(t.UiW.value.timeout),clearInterval(t.UiW.value.interval))}),t.Ge(s,"click",function(e){r+1<=scope.UiW.value.dialogCnt.length-1&&(r++,e=t.UiW.value.dialogCnt[r],o(e),t.text(a,e.text),clearTimeout(t.UiW.value.timeout),clearInterval(t.UiW.value.interval))})}},Za.CkS=function(t){var e=this,a=function(t,a){for(var i=a.position,s=[],n=[],r=0;r<t.length;r++){var o=t[r].position;o=Math.round(e.distanceAndAngleBetweenTwoPoints(i.x,i.y,o.x,o.y).distance),n.push({path:t[r],distance:o}),s.push(o)}var l;s=s.sort(function(t,e){return t-e});t:for(l in s)for(var c in n){if("Object"==typeof s[l])continue t;s[l]===n[c].distance&&(s[l]=n[c].path)}return s};this.AI={},this.AI.sortestEnemy=function(t,i,s){return s?s.orderByDir?(t=a(t,{position:{x:0,y:0}}),e.tTH(1,0)&&t||t.reverse()):void 0:a(t,i)},this.AI.orderPath=function(t){if(e.activeMapContent=e.hEP.value[e.ThQ.value],e.activeMapContent.content.staticOriGroupPathPoints)return a(e.activeMapContent.content.staticOriGroupPathPoints,t)},this.AI.pathFinding=function(){this.initialPathFinding=new function(){this.temp="",this.getPath=!1,this.tick=10,this.active=!0,this.update=function(t,e){if(this.tick--,0>this.tick){var a=this.temp;if(a){var i=Math.abs(a.x-t);if(a=Math.abs(a.y-e),5>i&&5>a?this.getPath++:this.getPath=0,5<this.getPath)return this.getPath=0,this.active=!0}this.temp={x:t,y:e},this.tick=10}return!1}}}},Za.UyT=function(){var t=this;this.components={},this.components.monster=function(){this.objectGetDamage=function(e,a,i,s,n,r){return this.health=0>n?0:this.health-e,r&&this.hitNumber.push(new t.hitNumber(e)),this.turnState=t.tTH(600,500),s!==this.boss.label&&(this.partyRandomHelp(),this.hitterNotTarget(s),!0)},this.displayBar=function(){this.label===t.jgeE.value?(this.installHealthGUI.state=!1,this.installHealthGUI.state||(this.installHealthGUI.fn(this.health,this.maxHealth),this.installHealthGUI.state=!0),t.HdWP.value(t.context,this.health,this.maxHealth,this.hpSize,this.object.position.x,this.object.bounds.min.y-(this.object.additionalBoundsValue?this.object.additionalBoundsValue:0))):this.installHealthGUI.state=!1},this.stat=function(){var e=t.monsterGetDamage.value.get(this.label);if(e&&e.length)for(var a=0,i=e.length;a<i;a++)if(this.health){i=Math.round(e[a].damage);var s=e[a].debuff,n=e[a].status,r=e[a].selfAbilities,o=e[a].attackerAbilities,l=e[a].attacker,c=e[a].hitType,h=Math.round(this.health)-i;e.splice(a,1),damageState=!0,selfLen=r.length,attackerLen=o.length,hitNumberState=!0,a=!1;for(var p=0,g=(e=this.parentObject.attackerAbilities(this.monsterParameters)).length;p<g;p++)if("avoid"===e[p]){a=!0;break}if(a)this.hitNumber.push(new t.hitNumber("miss")),hitNumberState=damageState=!1;else if(selfLen)for(e=0,a=selfLen;e<a;e++)"block"===r[e]&&(t.pAo("shiled-blocking"),this.hitNumber.push(new t.hitNumber("block")),hitNumberState=damageState=!1);if(attackerLen)for(p=0,g=attackerLen;p<g;p++)"stun"===o[p]?(this.attackerEffect.stun.state=!0,this.attackerEffect.stun.tick=100,hitNumberState=!1,this.hitNumber.push(new t.hitNumber("stun"))):damageState&&"critical"===o[p]&&(hitNumberState=!1,i*=2,this.hitNumber.push(new t.hitNumber(i,"critical")));return damageState&&"attack"===n&&(i="hitNormal"===c?this.parentObject.abilityDefense(this.monsterParameters,i):this.parentObject.abilityMagicDefense(this.monsterParameters,i),this.objectGetDamage(i,s,n,l,h,hitNumberState),t.pAo(["stab"])),"attack"!==this.behave&&(this.attacker=l,this.setTarget()),l!==this.object.bossLabel&&("oval"!==this.character.label&&this.buffEffecedAdd(),this.pitboss&&(this.object.attacker=this.attacker,this.object.needHelp=!0),!0)}},this.buffEffectedGUI=new function(){this.storage=new t.jfE.value,this.update=function(){if(this.storage.storage.length){var e=this.storage.storage,a=e.length,i=22;1===a&&(i=0);for(var s=0;s<a;s++){var n=e[s].status;n.drawFn.update({context:t.context,image:n.image,posX:n.target.x-i*s,posY:n.boundMin.y-n.boundY,imagePosY:n.imagePosY,imagePosX:n.imagePosX,scaleX:n.scaleX,scaleY:n.scaleY,offsetX:n.offsetX,offsetY:n.offsetY,scaleBefore:n.scaleBefore})}}}},this.installHealthGUI=new function(){this.state=!1,this.fn=function(e,a){t.removeClass(t.qs("monster-bar"),"hidden");var i=t.qs("health-full-bar"),s=t.qs("healthbar");t.css(s,{width:e/a*i.clientWidth+"px"})}}},this.components.monsterDungeon=function(){this.remove=!1,this.activeFrame={frame:"",tick:0,audio:""},this.parentObject=this.pointMove=this.boss="",this.character=t.oval.value,this.objTranslate=t.ufR.value,this.isArcherOrMage=this.object=this.attacker="",this.ArcherOrMage={distanceUpdate:!1,maxState:"",currentState:0},this.hpSize=this.label="",this.install=!1,this.monsterAttribute=!0,this.moveSpeed=1,this.moveState=50,this.moveIdle=15,this.moveStrict=!1,this.idleAttackWalk=t.tTH(35,5),this.randState=this.rand=0,this.behave="walk",this.behaveRandom=10,this.behaveState=!0,this.attackDelay=this.attackTick=this.tick=0,this.attackRangeX=300,this.attackRangeY=-300,this.vector={x:0,y:0},this.stateBack="",this.stateBackTick=50,this.isTranslate=!0,this.turnState=-1,this.turn="right",this.hitNumber=[],this.pathStateBack="",this.pathTick=0,this.pathRange=1,this.nextPath=this.nextPathBack=0,this.dirPathBack=!1,this.objectPointing={objTranslate:t.ufR.value,position:{x:0,y:0},translate:function(){this.objTranslate.staticObjStateX&&(this.objTranslate.moveLeft?this.position.x+=this.objTranslate.staticObjMoveX:this.objTranslate.moveRight&&(this.position.x+=this.objTranslate.staticObjMoveX)),this.objTranslate.staticObjStateY&&(this.objTranslate.moveUp?this.position.y+=this.objTranslate.staticObjMoveY:this.objTranslate.moveDown&&(this.position.y+=-this.objTranslate.staticObjMoveY))}},this.isPathfindActive=!1,this.engineCollide=function(){var e=this;t.Events.on(t.engine,"collisionStart",function(t){for(var a=0,i=(t=t.pairs).length;a!=i;++a){var s=t[a],n="Body"!==s.bodyB.label||s.bodyB.outterWall?s.bodyB.label:s.bodyB.parent.label;("Body"!==s.bodyA.label||s.bodyA.outterWall?s.bodyA.label:s.bodyA.parent.label)!==e.label&&n!==e.label||(e.initialPathFinding.active=!1)}})},this.addSpeed=function(){return"attack"===this.behave?2.5:2},this.moveLeft=function(){var e=this.object.initialName+"-left.png";this.turn="left",this.object.additionalBoundsWidthValue=Math.abs(this.object.additionalBoundsWidthValue),this.moveSpeed=-Math.abs(this.addSpeed()),t[this.object.stateStorage].value.set(this.label,"textureNeedChange|"+t.path+"/"+e)},this.moveRight=function(){var e=this.object.initialName+"-right.png";this.turn="right",this.object.additionalBoundsWidthValue=-Math.abs(this.object.additionalBoundsWidthValue),this.moveSpeed=Math.abs(this.addSpeed()),t[this.object.stateStorage].value.set(this.label,"textureNeedChange|"+t.path+"/"+e)},this.pathBack=[],this.itemTrajectory=function(e,a,i,s){this.parent=s,this.install=!1,this.x=0,this.y=-2,this.turn="",this.deltaX=this.deltaY=this.vx=this.vy=0,this.gravity=.03,this.deg=0,this.characterGetHit=!1,this.posHit=0,this.isTrajectory=!0,this.angle=0,this.speed=12,this.item=t.createItem.value(e,a,i),this.life=100,this.pass=0,this.angleSpeed=.03,this.acceleration=function(){this.vy+=this.gravity,this.x=this.speed,this.y+=this.vy},this.update=function(e,a,i,s,n,r,o){if(!this.install){if(void 0===n.position)return t.World.remove(t.engine.world,this.item),!0;t.Body.setPosition(this.item,{x:e,y:a}),t.Composite.addBody(t.engine.world,this.item),t.hSdP.value();var l,c=n.position.y-a;100>=c?l=18:100<c&&130>=c?l=19:130<c&&180>c?l=15.5:180<c&&(l=12.5),this.item.isStatic=!0,this.deltaX=e,this.deltaY=a,this.angle=i,this.speed=(n.position.x-e)/(this.parent.dungeonAttackRange-100)*l,this.turn=s,this.angleSpeed=o||this.angleSpeed,this.install=!0}return this.life--,0>this.life||r&&r?(t.World.remove(t.engine.world,this.item),!0):(this.item.bounds.max.y<n.bounds.max.y&&this.isTrajectory?(e=n.position,i=Math.abs(e.x-this.item.position.x),a=this.item.position,n=n.bounds.min.y-n.additionalBoundsValue-this.item.bounds.min.y,!this.characterGetHit&&60>i&&40>n&&this.parent.character.statParameters&&(this.parent.parentObject.characterDamagePool(this.parent.attacker,this.parent.monsterParameters,this.parent.character,this.parent.object),this.characterGetHit=!0),this.acceleration(),n=a.x+this.x,i=a.y+this.y,this.characterGetHit&&this.pass?(this.x=this.posHit,this.y=e.y+100,this.item.force.x=this.x,this.item.force.y=this.y):(t.Body.setPosition(this.item,{x:n,y:i}),this.posHit=a.x,this.angle+="right"===this.turn?this.angleSpeed:-this.angleSpeed,this.item.angle=this.angle,this.prevX=n,this.prevY=i),this.pass++):this.isTrajectory=!1,!1)}},this.trajectoriesUpdate=[],this.behaveRandomFn=function(e){var a=t.tTH(1,0);0===(a=e||a)?(this.object.behave=this.behave="walk",t[this.object.stateStorage].value.set(this.label,"walk")):1===a&&(this.turnState=t.tTH(200,50),this.object.behave=this.behave="idle",t[this.object.stateStorage].value.set(this.label,"idle")),this.pitboss&&(this.object.attacker=!1,this.object.needHelp=!1),this.behaveState=!0,this.behaveRandom=t.tTH(15,10),this.stateBack=!0,this.bugAttacker=!1,this.object.walkFrameSpeed=this.walkNormalSpeed,this.tempTarget.huntTarget=this.tempTarget.init=!0,this.attackTick=0,this.idleAttackWalk=t.tTH(35,5),this.ArcherOrMage.maxState=t.tTH(5,2),this.ArcherOrMage.currentState=0,this.object.selected=!1},this.posCapture={position:{x:0,y:0}},this.isInitialPathFinding=!1,this.needPathFinding=function(e){if(this.moveStrict)return!0;if(!this.pathState&&this.initialPathFinding.update(Math.round(this.object.position.x),Math.round(this.object.position.y)))e=t.AI.orderPath(this.object),this.nextPath>e.length-1&&(this.nextPath=0),this.pathObject=e[this.nextPath],this.isPathfindActive=this.pathState=!0,this.pathObject.position.x<this.object.position.x?this.moveLeft():this.moveRight();else{if(!this.pathState)return this.isPathfindActive=!1,!0;if(this.posCapture.position.x=this.pathObject.position.x,this.posCapture.position.y=this.pathObject.position.y,this.pathTick--,0>this.pathTick&&!e)this.initialPathFinding.update(Math.round(this.object.position.x),Math.round(this.object.position.y))||(this.pathState=!1,this.posCapture.position.y=0),this.pathTick=t.tTH(20*this.pathRange,10*this.pathRange),this.pathRange++;else{var a=t.moveVector2dWithVelocity(this.object,this.posCapture,2);t.Body.setPosition(this.object,{x:this.object.position.x+Math.round(a.x),y:this.object.position.y+Math.round(a.y)});var i=Math.abs(this.pathObject.position.x-this.object.position.x),s=Math.abs(this.pathObject.position.y-this.object.position.y);e&&(1>i&&1>s||this.initialPathFinding.update(Math.round(this.object.position.x),Math.round(this.object.position.y)))?(this.pathState=!1,this.nextPath++,this.nextPath>t.AI.orderPath(this.object).length-1&&(this.nextPath=0)):setTimeout(function(){10>i&&10>s&&this.nextPath++}.bind(this),100)}}return!1},this.forceSwitchBitmap=function(){"right"===this.turn&&/left/i.test(this.object.bitmap)&&this.moveRight(),"left"===this.turn&&/right/i.test(this.object.bitmap)&&this.moveLeft()},this.updateBossTickBack=!1,this.updateIntervalBack=600,this.backDir=function(t,e,a){t<-a?(this.moveLeft(),this.vector.x=-1):t>a&&(this.moveRight(),this.vector.x=1),e>a?this.vector.y=.5:e<-a&&(this.vector.y=-.5)},this.findBodies=function(e){for(var a=0,i=t.Composite.allBodies(t.engine.world);a<i.length;a++)if(i[a].label===e)return i[a];return!1},this.AIParty=function(e){if("attack"!==this.behave){if(e.pions)e=[e].concat(e.pions);else{var a=this.findBodies(e.bossLabel);e=a?[e].concat(a.pions):[e]}for(e=t.AI.sortestEnemy(e,this.object),a=0;a<e.length;a++)if("attack"!==e[a].behave&&!e[a].selected)return e[a].selected=!0,e[a];return objectTarget=e[t.tTH(e.length-1,0)],objectTarget.selected=!0,objectTarget}},this.setTarget=function(){for(var e=0,a=t.Composite.allBodies(t.engine.world);e<a.length;e++)if(a[e].label===this.attacker){a[e].selected=!1,this.character=a[e],this.moveDir(Math.round(this.character.position.x-this.object.position.x));break}},this.hitterNotTargetTick=0,this.hitterNotTarget=function(e){this.attacker!==e&&0===this.hitterNotTargetTick&&(this.hitterNotTargetTick=t.tTH(5,2)),0<this.hitterNotTargetTick&&(this.hitterNotTargetTick--,1===this.hitterNotTargetTick&&(this.attacker=e,this.setTarget()))},this.partyRandomHelpTick=0,this.partyRandomHelp=function(){if(0===this.partyRandomHelpTick&&(this.partyRandomHelpTick=t.tTH(15,7)),0<this.partyRandomHelpTick&&(this.partyRandomHelpTick--,1===this.partyRandomHelpTick&&this.boss&&"attack"===this.behave)){for(var e=[this.boss].concat(this.boss.pions),a=0;a<e.length;a++)e[a].label!==this.object.label&&"attack"!==e[a].behave||e.splice(a,1);e.length&&(e=e[t.tTH(e.length-1,0)]).rigBody&&(e.rigBody.attacker=this.attacker,e.rigBody.character=this.character,e.rigBody.behave="attack",e.rigBody.object.behave="attack",e.rigBody.moveDir(Math.round(e.rigBody.character.position.x-e.rigBody.object.position.x)),e.rigBody.object.selected=!1,e.rigBody.behaveState=!0)}},this.bossNeedHelp=function(){if(this.boss&&this.boss.attacker&&"pointing"!==this.behave){if("die"===this.boss.attacker)this.pointMove=this.objSpawn=this.boss.setObjectSpawn,this.boss="",this.object.behave=this.behave="attack";else if(this.boss.needHelp&&"attack"!==this.behave){this.attacker=this.boss.attacker,this.setTarget();var e=this.AIParty(this.character);this.character=e,this.moveDir(Math.round(this.character.position.x-this.object.position.x)),this.attacker=e.label,this.object.behave=this.behave="attack",this.boss.needHelp=!1}this.updateBossTickBack=!0}else this.updateBossTickBack&&(this.stateBackTick=t.tTH(150,50),this.updateBossTickBack=!1)},this.forceGravity=!1,this.requireInstall=function(e,a,i,s,n,r,o){this.x=a,this.y=i,this.object=s,this.isArcherOrMage=/Archer|Mage/i.test(this.object.initialName),this.ArcherOrMage.maxState=t.tTH(3,1),this.object.statParameters=this.monsterParameters,this.label=s.label,this.rand=n,this.items=r,this.parentObject=e,this.boss=!!o&&o||"",this.object.bossLabel=this.boss.label,this.monsterParameters.object=this.object,this.attacker=this.character.label,this.pointMove=this.boss?this.boss:this.objSpawn,this.pathObject=this.character,this.engineCollide(),this.object.behave=this.behave="idle",this.forceGravity=!!this.object.forceGravity&&this.object.forceGravity,t.monsterParameters.value.set(this.label,this.monsterParameters),t.Body.setPosition(s,{x:a,y:i}),t[this.object.stateStorage].value.set(this.label,"idle"),this.boss&&(this.boss.pions||(this.boss.pions=[]),this.boss.pions.push(this.object)),this.turnState=t.tTH(600,100),this.moveRight(),this.disableExtendMap||((e={})[this.label]=this.object,t.extend(t.hEP.value[this.location].content,e)),this.object.rigBody=this,this.install=!0},this.characterNotExist=function(){this.character.deleted?(this.spell&&(t.oval.value.attacker=!1,t.oval.value.needHelp=!1),this.character={},this.character.position={x:0,y:0},this.character.bounds={max:{x:0,y:0},min:{x:0,y:0}},this.attacker=!1,this.behaveRandomFn(1)):this.character.label||(this.attacker=!1,this.character.label="dummy",this.behaveRandomFn(1))},this.tempTarget={position:{x:0,y:0},init:!0,huntTarget:!0,pathFinding:!1},this.moveDir=function(t){0<t?this.moveRight():this.moveLeft()},this.randomAttacking=t.tTH(50,10),this.areaDamageHitter=[],this.areaDamageFn=function(){this.areaDamageHitter.length=0;var e=this.object.position,a=0,i=t.EdAj.value.storage;t:for(;a<i.length;a++){for(var s=0,n=this.areaDamageHitter;s<n.length;s++)if(i[a].status.label===n[s])break t;e.x>i[a].status.bounds.min.x&&e.x<i[a].status.bounds.max.x&&e.y>i[a].status.bounds.min.y&&e.y<i[a].status.bounds.max.y&&(i[a].status.monsterParameters.push(this.monsterParameters),this.areaDamageHitter.push(i[a].status.label))}},this.toAggresive=function(){if(this.aggresive&&"attack"!==this.behave&&!this.spell){var e=[];if(this.aggresive instanceof Array)for(var a=0,i=t.Composite.allBodies(t.engine.world);a<i.length;a++)for(var s=0,n=this.aggresive.length;s<n;s++)-1!==i[a].label.indexOf(this.aggresive[s])&&e.push(i[a]);else"die"!==(a=t.oval.value).behave&&(e=[a].concat(a.pions));e.length&&(targetEnemy=t.AI.sortestEnemy(e,this.object)[0],350>t.distanceAndAngleBetweenTwoPoints(this.object.position.x,this.object.position.y,targetEnemy.position.x,targetEnemy.position.y).distance&&(this.character=targetEnemy,this.moveDir(Math.round(this.character.position.x-this.object.position.x)),this.attacker=targetEnemy.label,this.object.behave=this.behave="attack"))}},this.attackerEffect={stun:{tick:100,state:!1,effect:"idle"}},this.attackerEffectFn=function(e){if(this.attackerEffect.stun.state){if(0<this.attackerEffect.stun.tick)return this.attackerEffect.stun.tick--,!/textureNeedChange|idle/i.test(e)&&t[this.object.stateStorage].value.set(this.label,"idle"),!1;this.attackerEffect.stun.state=!1,this.attackerEffect.stun.tick=100}return!0},this.hitNumberFn=function(){if(this.hitNumber.length)for(var e=0;e<this.hitNumber.length;e++)this.hitNumber[e].update(t.context,this.object)&&this.hitNumber.splice(e,1)},this.buffEffecedAdd=function(e){if(void 0===e)var a=this.character.rigBody.monsterParameters,i=a.buffSkill;var s=this.object.additionalBoundsValue?this.object.additionalBoundsValue:0,n=t.cKs();if(e){var r=!0;a=function(t,e){for(var a=this.buffAffected,i=0;i<a.length;i++)if(a[i].skill===t){if(!e)return!0;e.call(a[i])}if(this.object.skillEffected)for(a=this.object.skillEffected,i=0;i<a.length;i++)if(a[i]===t)return!0}.bind(this);var o=function(e){return e={textures:"",src:t.path+e},t.getTexture(e,e.src),e};if("aquaSpirit"===e.skill){if(a(e.skill,function(t){t&&(t.tick=e.tick,r=!1)}),r){this.buffAffected.push({skill:e.skill,tick:e.tick,id:n});var l=o("/aqualHealSmall.png")}}else"burningEffect"===e.skill?(a(e.skill)&&(r=!1),r&&(this.buffAffected.push({skill:e.skill,tick:e.skillParams.tick,id:n,tickDelay:e.skillParams.tickDelay,tickDelayUpdate:e.skillParams.tickDelayUpdate,damageMin:e.skillParams.damageMin,damageMax:e.skillParams.damageMax}),l=o("/burningEffectSmall.png"))):"lightningShock"===e.skill&&(a(e.skill)&&(r=!1),r&&(this.buffAffected.push({skill:e.skill,tick:e.skillParams.tick,id:n}),this.attackerEffect.stun.state=!0,this.attackerEffect.stun.tick=e.skillParams.tick,l=o("/lightningShockSmall.png")));r&&this.buffEffectedGUI.storage.set(n,{name:e.skill,image:l.textures,drawFn:new t.draw.generalDrawImage,boundY:s,imagePosY:-42,imagePosX:0,scaleBefore:0,scaleX:0,scaleY:0,offsetX:.1,offsetY:.1,boundMin:this.object.bounds.min,target:this.object.position})}else{r=!1;var c,h=function(t){if(this.object.skillEffected)for(var e=this.object.skillEffected,a=0;a<e.length;a++)if(e[a]===t)return!0;for(e=this.buffAffected,a=0;a<e.length;a++)if(e[a].skill===t)return!0}.bind(this);o=function(e){return e={textures:"",src:t.path+e},t.getTexture(e,e.src),e};t:for(c in i){if("burningEffect"===c&&!i[c].active){if(h(c))continue t;this.buffAffected.push({skill:i[c].name,tick:i[c].tick,id:n,tickDelay:i[c].tickDelay,tickDelayUpdate:i[c].tickDelayUpdate,damageMin:i[c].damageMin,damageMax:i[c].damageMax,monsterParams:a}),i[c].active=!0,l=o("/burningEffectSmall.png");var p=i[c].name;r=!0,t.pAo("evil-swish");break}if("bindingRoot"===c&&!i[c].active){if(h(c))continue t;this.buffAffected.push({skill:"bindingRoot",tick:i[c].tick,id:n,monsterParams:a}),this.moveStrict=!0,i[c].active=!0,l=o("/bindingrootSmall.png"),p=c,r=!0;break}if("lightningShock"===c&&!i[c].active){if(h(c))continue t;this.buffAffected.push({skill:c,tick:i[c].tick,id:n}),this.attackerEffect.stun.state=!0,this.attackerEffect.stun.tick=i[c].tick,r=!0,p=c,l=o("/lightningShockSmall.png")}}r&&(this.object.skillEffected=[p],i[p].active=!0,this.buffEffectedGUI.storage.set(n,{name:p,image:l.textures,drawFn:new t.draw.generalDrawImage,boundY:s,imagePosY:-42,imagePosX:0,scaleBefore:0,scaleX:0,scaleY:0,offsetX:.1,offsetY:.1,boundMin:this.object.bounds.min,target:this.object.position}))}},this.buffAffected=[],this.buffAffectedFn=function(){if(this.buffAffected.length)for(var e=this.buffAffected,a=function(t){if(this.object.skillEffected){objEffected=this.object.skillEffected;for(var e=0;e<objEffected.length;e++)if(objEffected[e]===t.skill){objEffected.splice(e,1);break}}if(t.monsterParams){e=t.monsterParams.activeSkill;for(var a=0;a<e.length;a++)if(objEffected[a]===t.skill)return!0;e.push(t.skill)}return!0}.bind(this),i=0;i<e.length;i++){var s=e[i];if(s.tick--,0>s.tick)"bindingRoot"===s.skill?(a(s),this.characterParameters.health&&(this.moveStrict=!1)):"aquaSpirit"!==s.skill&&("burningEffect"===s.skill?a(s):"lightningShock"===s.skill&&a(s)),this.buffEffectedGUI.storage.remove(s.id),e.splice(i,1);else if("burningEffect"===s.skill&&(s.tickDelay--,0>s.tickDelay)){var n=t.tTH(s.damageMax,s.damageMin);n=0<(n-=t.tTH(this.monsterParameters.magicDefenseMax,this.monsterParameters.magicDefenseMax))?n:Math.round(t.tTH(40,1)/2),tempHealth=this.health-n,this.health&&(this.hitNumber.push(new t.hitNumber(n)),this.health=0>tempHealth?0:this.health-n),s.tickDelay=s.tickDelayUpdate}}},this.buffSkillFn=function(){var t=this.monsterParameters,e=t.activeSkill;if(e.length){var a=t.buffSkill,i=0;t:for(;i<e.length;i++){var s=a[e[i]];if(s.delay--,0>s.delay)for(var n=0;n<e.length;n++)if(e[n]===s.name){s.delay=s.delayUpdate,s.active=!1,e.splice(n,1);continue t}}}0<t.castedDelay&&t.castedDelay--},this.generalAIBehaviours=function(e){this.bossNeedHelp(),this.characterNotExist(),this.buffSkillFn(),this.buffAffectedFn(),this.buffEffectedGUI.update(),this.tick++,this.turnState--;var a=t[this.object.stateStorage].value.get(this.label);if(!/back|attack/i.test(this.behave)&&this.tick>this.moveState+this.moveIdle&&(this.tick=0,this.behaveRandom--,0>this.behaveRandom&&this.behaveRandomFn()),-1===this.location.indexOf("Dungeon")){if("walk"===this.behave)!/textureNeedChange|walk/i.test(a)&&t[this.object.stateStorage].value.set(this.label,"walk"),0>this.turnState&&("left"===this.turn?this.moveLeft():"right"===this.turn&&this.moveRight(),this.turn="left"===this.turn?"right":"left",this.turnState=t.tTH(600,200),this.moveState=50,this.behaveState=!0,this.object.walkFrameSpeed=this.walkNormalSpeed),t.Body.translate(this.object,{x:this.moveSpeed,y:0});else if("pointing"===this.behave){this.objectPointing.translate(),!/textureNeedChange|walk/i.test(a)&&t[this.object.stateStorage].value.set(this.label,"walk"),e=t.moveVector2dWithVelocity(this.object,this.objectPointing,2);var i=this.object.position.x+Math.round(e.x),s=Math.abs(Math.round(this.objectPointing.position.x-this.object.position.x)),n=!0;20>s&&(n=!1),n?t.Body.setPosition(this.object,{x:i,y:this.object.position.y}):this.behaveRandomFn(1)}else if("attack"===this.behave){var r=this.character.position;i=this.object.position,s=Math.round(r.x-i.x);var o=Math.round(r.y-i.y);n=o>this.attackRangeY&&o<-this.attackRangeY&&Math.abs(s)<this.dungeonAttackRange,this.attackerEffectFn(a)&&(0<s?("right"!==this.turn||this.behaveState)&&this.moveRight():("left"!==this.turn||this.behaveState)&&this.moveLeft(),Math.abs(s)<this.dungeonAttackRange&&(n||e&&e.attackRange)?0>this.attackDelay?(/textureNeedChange|attack/i.test(a)||(t[this.object.stateStorage].value.set(this.label,"attack"),this.randomAttacking=t.tTH(100,30),this.attackFrame&&(i=this.attackFrame[t.tTH(this.attackFrame.length,1)-1],this.activeFrame.frame=i.frame,this.activeFrame.tick=0,this.activeFrame.audio=i.audio?i.audio[t.tTH(i.audio.length,1)-1]:"")),this.attackFrame?this.activeFrame.tick++:this.attackTick--,i=function(){if(!this.attackFrame)return 0>this.attackTick;for(var t=0,e=this.activeFrame.frame;t<e.length;t++)if(this.activeFrame.tick===e[t]||this.activeFrame.tick>=this.attackTick)return!0}.call(this),e&&e.trajectory&&i?this.activeFrame.tick>=this.attackTick?(this.attackTick=30,this.attackDelay=t.tTH(90,80),this.turnState=t.tTH(600,300),this.tempTarget.pathFinding=!1,this.attackFrame||e.trajectory.call(this)):e.trajectory.call(this):i&&(this.activeFrame.tick>=this.attackTick?(this.attackTick=30,this.attackDelay=t.tTH(90,80),this.turnState=t.tTH(600,300),this.tempTarget.pathFinding=!1,this.attackFrame||this.parentObject.characterDamagePool(this.attacker,this.monsterParameters,this.character,this.object)):(this.activeFrame.audio&&t.pAo(this.activeFrame.audio),this.parentObject.characterDamagePool(this.attacker,this.monsterParameters,this.character,this.object)))):(!/textureNeedChange|idle/i.test(a)&&t[this.object.stateStorage].value.set(this.label,"idle"),this.attackDelay--,this.attackTick=30):(this.randomAttacking--,0>this.randomAttacking&&(!/textureNeedChange|walk/i.test(a)&&t[this.object.stateStorage].value.set(this.label,"walk"),t.Body.translate(this.object,{x:this.moveSpeed,y:0}),this.attackTick=30,this.object.walkFrameSpeed=this.walkAttackSpeed)),0>this.turnState&&!n&&(this.object.behave=this.behave="walk",t[this.object.stateStorage].value.set(this.label,"walk")),this.behaveState=!1)}}else{r=this.character.position,i=this.object.position,s=Math.round(r.x-i.x),n=(o=Math.round(r.y-i.y))>this.attackRangeY&&o<-this.attackRangeY&&Math.abs(s)<this.dungeonAttackRange,r=this.pointMove.position.x-i.x;var l=this.pointMove.position.y-i.y,c=-600<r&&600>r&&-600<l&&600>l;if("back"===this.behave){if(!this.moveStrict){!/textureNeedChange|walk/i.test(a)&&t[this.object.stateStorage].value.set(this.label,"walk");var h,p,g=this.boss?this.boss:this.objSpawn;this.stateBack&&!this.isPathfindActive&&(this.stateBack=!1,e=t.moveVector2dWithVelocity(this.object,g,0),t[this.object.stateStorage].value.set(this.label,"walk"),-600>r?this.moveLeft():600<r&&this.moveRight()),n=function(){this.isPathfindActive=!0,this.pathBack[this.nextPathBack].position.x<this.object.position.x?this.moveLeft():this.moveRight()}.bind(this),e=function(){for(var e in h=t.AI.orderPath(g,this.character),p=t.AI.orderPath(this.object),h)if(p[0].label===h[e].label){this.pathBack=h.slice(0,e),this.pathBack.unshift(g);break}}.bind(this),!this.pathStateBack||this.initialPathFinding.update(Math.round(i.x),Math.round(i.y))?(e(),this.pathStateBack=!0,this.nextPathBack=this.pathBack.length-1,n()):this.pathStateBack?(s=Math.abs(this.pathBack[this.nextPathBack].position.y-i.y),10>Math.abs(this.pathBack[this.nextPathBack].position.x-i.x)&&10>s&&(this.nextPathBack--,void 0===this.pathBack[this.nextPathBack]&&(this.nextPathBack=this.pathBack.length-1),n(),0===this.nextPathBack&&(this.pathStateBack=!1),e()),this.needPathFinding(!0)?(this.dirPathBack&&(this.dirPathBack=!1,n()),e=t.moveVector2dWithVelocity(this.object,this.pathBack[this.nextPathBack],2),t.Body.setPosition(this.object,{x:this.object.position.x+e.x,y:this.object.position.y+e.y})):this.dirPathBack=!0):(this.isPathfindActive=!1,e=t.moveVector2dWithVelocity(this.object,g,3),t.Body.setPosition(this.object,{x:this.object.position.x+e.x,y:this.object.position.y+e.y})),c&&(this.behaveState=!0,this.behaveRandomFn())}}else if("turn"===a)t[this.object.stateStorage].value.set(this.label,"walk"),this.object.behave=this.behave="walk",/left|right/i.test(this.object.outterWall)?(this.vector.y=0<this.vector.y?-.5:0>this.vector.y?.5:0,this.vector.x=0<this.vector.x?-1:0>this.vector.x?1:0,"right"===this.turn?this.moveLeft():this.moveRight(),this.object.outterWall=""):this.vector.y=0<this.vector.y?-.5:0>this.vector.y?.5:0;else if("idle"===this.behave)!/textureNeedChange|idle/i.test(a)&&t[this.object.stateStorage].value.set(this.label,"idle");else if("pointing"===this.behave)this.objectPointing.translate(),!/textureNeedChange|walk/i.test(a)&&t[this.object.stateStorage].value.set(this.label,"walk"),e=t.moveVector2dWithVelocity(this.object,this.objectPointing,2),i=this.object.position.x+Math.round(e.x),e=this.object.position.y+Math.round(e.y),s=Math.abs(Math.round(this.objectPointing.position.x-this.object.position.x)),o=Math.abs(Math.round(this.objectPointing.position.y-this.object.position.y)),n=!0,20>s&&20>o&&(n=!1),n?t.Body.setPosition(this.object,{x:i,y:e}):this.behaveRandomFn(1);else if("walk"===this.behave)!/textureNeedChange|walk/i.test(a)&&t[this.object.stateStorage].value.set(this.label,"walk"),0>this.turnState&&(i=t.tTH(1,0)?-1:1,e=parseFloat(t.tTH(1,0)?-t.LcQ(.9,.1):t.LcQ(.9,.1)).toFixed(1),n=Math.abs(1-(0<i)?Math.abs(e):-Math.abs(e)),e=this.forceGravity?0:e,this.vector={x:parseFloat(i+(0<i?n:-n)/2),y:parseFloat(e)},this.moveDir(i),this.turnState=t.tTH(600,400),this.moveState=50,this.behaveState=this.stateChange=!0,this.object.walkFrameSpeed=this.walkNormalSpeed),this.moveStrict||t.Body.setPosition(this.object,{x:this.object.position.x+this.vector.x,y:this.object.position.y+this.vector.y}),this.stateBackTick--,c||0!==this.stateBackTick?-1>this.stateBackTick&&!c&&this.backDir(r,l,600):(this.object.behave=this.behave="back",this.behaveState=!1,this.object.walkFrameSpeed=this.walkAttackSpeed),this.stateChange=!0;else if("attack"===this.behave&&this.attackerEffectFn(a)){!this.isPathfindActive&&this.tempTarget.huntTarget&&(0<s?("right"!==this.turn||this.behaveState)&&this.moveRight():("left"!==this.turn||this.behaveState)&&this.moveLeft(),this.behaveState=!1);var d="oval"===this.character.label?this.character.bounds.max.y:this.character.bounds.max.y+10,m=this.object.bounds.max.y;Math.abs(s)<this.dungeonAttackRange&&Math.abs(o)<this.dungeonAttackRangeY.min&&!this.ArcherOrMage.distanceUpdate?(Math.abs(d<m+this.dungeonAttackRangeY.max)?(this.randomAttacking--,this.idleAttackWalk--,0>this.idleAttackWalk&&0>this.randomAttacking?(this.moveStrict||(t.Body.translate(this.object,{x:0,y:e=this.forceGravity?0:"left"===this.turn?this.moveSpeed:-this.moveSpeed}),this.initialPathFinding.update(Math.round(i.x),Math.round(i.y))&&(t.jgeE.value=""),this.object.walkFrameSpeed=this.walkAttackSpeed),!/textureNeedChange|walk/i.test(a)&&t[this.object.stateStorage].value.set(this.label,"walk")):!/textureNeedChange|idle/i.test(a)&&t[this.object.stateStorage].value.set(this.label,"idle")):(0>this.attackDelay?(/textureNeedChange|attack/i.test(a)||(this.behaveState=this.tempTarget.huntTarget=this.tempTarget.init=!0,t[this.object.stateStorage].value.set(this.label,"attack"),this.attackFrame&&(i=this.attackFrame[t.tTH(this.attackFrame.length,1)-1],this.activeFrame.frame=i.frame,this.activeFrame.tick=0,this.activeFrame.audio=i.audio?i.audio[t.tTH(i.audio.length,1)-1]:""),this.isArcherOrMage&&this.ArcherOrMage.currentState<this.ArcherOrMage.maxState&&100>(i=t.distanceAndAngleBetweenTwoPoints(this.object.position.x,this.object.position.y,this.character.position.x,this.character.position.y).distance)&&(this.ArcherOrMage.distanceUpdate=!0)),this.attackFrame?this.activeFrame.tick++:this.attackTick--,i=function(){if(!this.attackFrame)return 0>this.attackTick;for(var t=0,e=this.activeFrame.frame;t<e.length;t++)if(this.activeFrame.tick===e[t]||this.activeFrame.tick>=this.attackTick)return!0}.call(this),e&&e.trajectory&&i?this.activeFrame.tick>=this.attackTick?(this.attackTick=30,this.attackDelay=t.tTH(90,80),this.turnState=t.tTH(600,300),this.tempTarget.pathFinding=!1,this.attackFrame||e.trajectory.call(this)):(e.trajectory.call(this),this.activeFrame.audio&&t.pAo(this.activeFrame.audio)):i&&(this.activeFrame.tick>=this.attackTick?(this.attackTick=30,this.attackDelay=t.tTH(90,80),this.turnState=t.tTH(600,300),this.tempTarget.pathFinding=!1,this.attackFrame||this.parentObject.characterDamagePool(this.attacker,this.monsterParameters,this.character,this.object)):(this.activeFrame.audio&&t.pAo(this.activeFrame.audio),this.parentObject.characterDamagePool(this.attacker,this.monsterParameters,this.character,this.object)))):(!/textureNeedChange|idle/i.test(a)&&t[this.object.stateStorage].value.set(this.label,"idle"),this.attackDelay--,0>=this.attackTick&&(this.attackTick=30)),0>this.idleAttackWalk&&(this.idleAttackWalk=t.tTH(35,15))),this.pathState=!1,this.posCapture.position.y=0,this.pathRange=1,this.nextPath=0):(this.randomAttacking--,this.idleAttackWalk--,0>this.randomAttacking&&0>this.idleAttackWalk?(/textureNeedChange|walk/i.test(a)||(this.isArcherOrMage||(this.behaveState=this.tempTarget.huntTarget=!0),t[this.object.stateStorage].value.set(this.label,"walk")),this.needPathFinding()?(!this.isArcherOrMage||this.initialPathFinding.update(Math.round(i.x),Math.round(i.y))||this.tempTarget.pathFinding?(this.ArcherOrMage.distanceUpdate&&(this.ArcherOrMage.distanceUpdate=!1,this.ArcherOrMage.currentState=this.ArcherOrMage.maxState+1),this.tempTarget=this.character,this.tempTarget.init=!0,this.tempTarget.pathFinding=!0):this.tempTarget.init&&(e=t.tTH(this.dungeonAttackRange-50,this.dungeonAttackRange-250),x="right"===this.turn?this.character.position.x-e:this.character.position.x+e,y=this.character.position.y,this.tempTarget={prevPosition:{x:this.character.position.x,y:this.character.position.y},position:{x:x,y:y},init:!1,huntTarget:!1,pathFinding:!1},this.moveDir(Math.round(x-i.x))),this.tempTarget.init||(this.objTranslate.staticObjStateX&&(this.tempTarget.position.x+=this.objTranslate.staticObjMoveX),"up"===this.objTranslate.staticObjStateY?this.tempTarget.position.y+=this.objTranslate.staticObjMoveY:"down"===this.objTranslate.staticObjStateY&&(this.tempTarget.position.y-=this.objTranslate.staticObjMoveY),(i=this.ArcherOrMage.distanceUpdate?150<(i=t.distanceAndAngleBetweenTwoPoints(this.tempTarget.prevPosition.x,this.tempTarget.prevPosition.y,this.object.position.x,this.object.position.y).distance):10>(i=t.distanceAndAngleBetweenTwoPoints(this.object.position.x,this.object.position.y,this.tempTarget.position.x,this.tempTarget.position.y).distance))&&(this.ArcherOrMage.currentState++,this.ArcherOrMage.distanceUpdate=!1,this.tempTarget=this.character,this.tempTarget.init=!0,this.tempTarget.pathFinding=!1)),e=t.moveVector2dWithVelocity(this.object,this.tempTarget,3),equalY=Math.round(d)===Math.round(m),e.y=this.forceGravity?0:equalY?0:e.y,this.moveStrict||t.Body.setPosition(this.object,{x:this.object.position.x+Math.round(e.x),y:this.object.position.y+Math.round(e.y)})):this.isArcherOrMage&&(this.tempTarget=this.character,this.tempTarget.init=!0,this.tempTarget.pathFinding=!0),0>=this.attackTick&&(this.attackTick=30),this.object.walkFrameSpeed=this.walkAttackSpeed):!/textureNeedChange|idle/i.test(a)&&t[this.object.stateStorage].value.set(this.label,"idle")),0>this.turnState&&!n&&(this.object.behave=this.behave="walk",t[this.object.stateStorage].value.set(this.label,"walk")),this.stateBack=!0}this.updateIntervalBack--,0>this.updateIntervalBack&&this.boss&&!c&&!/back|attack/i.test(this.behave)&&(this.object.behave=this.behave="back",this.behaveState=!1,this.updateIntervalBack=600,this.object.walkFrameSpeed=this.walkAttackSpeed,this.backDir(r,l,600))}this.health||this.hitNumber.length||(setTimeout(function(){if(this.trajectoriesUpdate.length)for(var e=0;e<this.trajectoriesUpdate.length;e++)this.trajectoriesUpdate[e].update(0,0,0,0,this.turn,this.character,!0)&&this.trajectoriesUpdate.splice(e,1);if(this.boss&&this.boss.pions&&this.boss.pions.length){e=0;for(var a=this.boss.pions.length;e<a;e++)if(this.boss.pions[e].label===this.object.label){this.boss.pions.splice(e,1);break}}this.object.deleted=!0,this.pitboss&&(this.object.attacker="die",this.object.setObjectSpawn=this.objSpawn,this.object.deleted=!0),t.World.remove(t.engine.world,this.object),t.addClass(t.qs("monster-bar"),"hidden"),delete t.hEP.value[this.location].content[this.label],t.jgeE.value="",t.monsterParameters.value.remove(this.label),t.monsterGetDamage.value.remove(this.label),t[this.object.stateStorage].value.remove(this.label),this.monsterAttribute&&(t.EOd.value(this.object.initialName),this.items&&this.items(this.parentObject,this.object,this.monsterParameters))}.bind(this),1e3),this.remove=!0,t[this.object.stateStorage].value.set(this.label,"die"),this.object.behave=this.behave="die",this.audioDie&&this.audioDie.length&&t.pAo(this.audioDie),!/sekleton/i.test(this.monsterParameters.object.label)&&this.monsterAttribute&&t.FwWW.value(this.monsterParameters,this.character.label))}},this.components.items=function(){this.itemTemp=[],this.item=new function(){this.create=function(e,a,i,s,n){this.object=new t.createItem.value(s.name,s.width,s.height),this.object.isStatic=!0,this.firstload=function(){return t.Body.setPosition(this.object,{x:e,y:a}),t.YFjd.value.set(this.object.label,{tick:3600,fn:function(){t.World.remove(t.engine.world,this.object)}.bind(this)}),null}.call(this),this.character=t.oval.value,this.update=function(e,a){var s=e.position,r=a.position,o=Math.abs(s.y-r.y);if(40>Math.abs(s.x-r.x)&&40>o){if(e.itemVal&&(t.pAo("Pickup_Gold_04"),t.Tnm.value({title:"regular-title",text:{white:"Accured",chocolate:" "+e.itemVal+" ",gold:i}})),t.EOd.value(i.toLowerCase()),n)r=n.parent,s=n.initial;else switch(r="dropMonster",i.toLowerCase()){case"ness scale":s="nessScale";break;case"ness fang":s="nessFang";break;case"queen ness scale":s="nessQueenScale";break;case"meat":s="meat";break;case"gall boar fang":s="gallBoarFang";break;case"nortus green scale":s="nortusGreenScale";break;case"nortus red scale":s="nortusRedScale";break;case"light soul":s="lightSoul";break;case"basic magical plant":s="basicMagicPlant";break;case"basic herb plant":s="basicHerbPlant";break;case"goblin elixir":s="goblinElixir";break;case"bedrock meat":s="bedrockMeat";break;case"bedrock bone":s="bedrockBone";break;case"bedrock fang":s="bedrockFang";break;case"lapis fragment":s="lapisFragment";break;case"nortus tail heart":s="nortusTailHeart";break;case"nortus red tail scale":s="nortusRedTailScale";break;case"nortus green tail scale":s="nortusGreenTailScale";break;case"tainted gem":s="taintedGem";break;case"tainted soul":s="taintedSoul";break;default:s=""}return t.YFjd.value.remove(e.label),t.ifE.value({parent:r,initial:s,value:e.itemVal}),t.World.remove(t.engine.world,e),!0}return!1}}},this.coin=new function(){this.create=function(e,a,i){this.object=new t.createItem.value("Ness Scale",74,68),this.firstload=function(){return this.object.isStatic=!0,t.Body.setPosition(this.object,{x:e,y:a}),t.YFjd.value.set(this.object.label,{tick:3600,fn:function(){t.World.remove(t.engine.world,this.object)}.bind(this)}),null}.call(this),this.character=t.oval.value,this.update=function(e,a){var i=e.position,s=a.position,n=t.REq.value,r=i.y;return rangeX=Math.abs(i.x-s.x),rangeY=Math.abs(r-s.y),40>rangeX&&40>rangeY&&(e.coinVal&&(n.soulPoint+=e.coinVal,t.pAo("Pickup_Gold_04"),t.Tnm.value({title:"regular-title",text:{white:"Accured",chocolate:" "+e.coinVal+" ",gold:"Soul Cristals"}})),t.World.remove(t.engine.world,e),!0)}}}},this.components.companions=function(){this.triggerMonsterFn=function(e){for(var a=t.ThQ.value,i=function(t){switch(e){case"area":t.areaDamageFn();break;case"aggresive":t.toAggresive()}},s=0,n=this.objSpawnMonster;s<n.length;s++)for(var r=n[s],o=0;o<r.length;o++){var l=r[o];if(l)if(l.monsters){if(a===l.location)for(var c=0;c<l.monsters.length;c++)i(l.monsters[c].play)}else i(l.play)}},this.abilityBlock=function(t){var e=[];if(t.abilitySkill)for(var a in t=t.abilitySkill)"block"===a&&100*Math.random()<=t[a]&&e.push(a);return e},this.abilityMagicDefense=function(e,a){var i=a;return e.abilitySkill&&e.abilitySkill.magicDefense&&(i=e.abilitySkill.magicDefense,i=0<(i=a-a*(i=t.tTH(i.max,i.min))/100)?i:Math.round(t.tTH(40,1)/2)),Math.round(i)},this.abilityDefense=function(e,a){var i=a;return e.abilitySkill&&e.abilitySkill.defense&&(i=e.abilitySkill.defense,i=0<(i=a-a*(i=t.tTH(i.max,i.min))/100)?i:Math.round(t.tTH(40,1)/2)),Math.round(i)},this.attackerAbilities=function(t){var e=[];if(t.modifierAbilities)for(var a in t=t.modifierAbilities)100*Math.random()<=t[a]&&e.push(a);return e},this.monsterDamagePool=function(e,a,i,s){if(i=i.statParameters,s=s.label,"melee"===a.attackType)var n=a.attackMax,r=a.attackMin;else"long-range"===a.attackType&&(n=a.attackRangeMax,r=a.attackRangeMin);var o=i.defenseMax,l=i.defenseMin;n=t.tTH(n,r),n-=r=t.tTH(o,l),i=this.abilityBlock(i),a=this.attackerAbilities(a),n=0<n?n:Math.round(t.tTH(40,1)/2),e&&(void 0===(r=t.monsterGetDamage.value.get(e))&&(t.monsterGetDamage.value.storage=[],t.monsterGetDamage.value.set(e,[]),r=t.monsterGetDamage.value.get(e)),r.push({damage:n,debuff:"",status:"attack",selfAbilities:i,attackerAbilities:a,attacker:s}))}},this.components.initArmored=function(e){return function(a){a.spell&&(this.spell=e.spell,this.itemLabel=a.itemLabel,this.disableExtendMap=!0),this.aggresive=e.aggresive,this.audioDie=e.audioDie,this.attackFrame=e.attackFrame,this.pitboss=a.pitboss,this.location=a.location,this.objSpawn=a.objSpawn,this.dungeonAttackRange=e.attackRange,this.dungeonAttackRangeY={max:-30,min:30},this.walkAttackSpeed=1,this.walkNormalSpeed=2,this.health=this.maxHealth=e.maxHealth,this.monsterParameters={name:e.name,level:e.level,range:e.attackRange,attackRangeMax:e.attackRangeMax,attackRangeMin:e.attackRangeMin,attackMax:e.attackMax,attackMin:e.attackMin,defenseMax:e.defenseMax,defenseMin:e.defenseMin,magicDefenseMax:e.magicDefenseMax,magicDefenseMin:e.magicDefenseMin,modifierAbilities:{},activeSkill:[],castedDelay:200,buffSkill:function(){var a,i={};for(a in e.buffSkill)i[e.buffSkill[a]]=new t.Dye.value[e.buffSkill[a]];return i}(),abilitySkill:e.abilitySkill,coin:t.monsterAttribute.value(e.level,"soul")||t.tTH(15,5),item:e.item||"",exp:t.monsterAttribute.value(e.level,"exp")||t.tTH(25,50),maxHealth:e.maxHealth,mp:e.mp,attackType:"melee",object:""},this.statInitial=function(){this.hpSize=e.hpBar,(stat=this.stat(this.hpSize))&&("back"===this.behave&&(this.pathState=!1,this.posCapture.position.y=0,this.pathRange=1,this.nextPath=0),this.object.behave=this.behave="attack",this.stateBackTick=t.tTH(200,50))},this.update=function(e,a,i,s,n,r,o){return this.install||(t.extend(this,new t.components.monster,!0),t.extend(this,new t.components.monsterDungeon,!0),t.extend(this,new t.AI.pathFinding,!0),this.requireInstall(e,a,i,s,n,r,o)),this.statInitial(),this.generalAIBehaviours(),this.remove}}},this.components.initSpear=function(e){return function(a){this.audioDie=e.audioDie,this.attackFrame=e.attackFrame,this.pitboss=a.pitboss,this.location=a.location,this.objSpawn=a.objSpawn,this.dungeonAttackRange=e.attackRange,this.dungeonAttackRangeY={max:-30,min:30},this.aggresive=e.aggresive,this.walkAttackSpeed=1,this.walkNormalSpeed=2,this.health=this.maxHealth=e.maxHealth,this.monsterParameters={name:e.name,level:e.level,range:e.attackRange,attackRangeMax:e.attackRangeMax,attackRangeMin:e.attackRangeMin,attackMax:e.attackMax,attackMin:e.attackMin,defenseMax:e.defenseMax,defenseMin:e.defenseMin,magicDefenseMax:e.magicDefenseMax,magicDefenseMin:e.magicDefenseMin,modifierAbilities:e.modifierAbilities?e.modifierAbilities:{},activeSkill:[],castedDelay:200,buffSkill:function(){var a,i={};for(a in e.buffSkill)i[e.buffSkill[a]]=new t.Dye.value[e.buffSkill[a]];return i}(),abilitySkill:e.abilitySkill,coin:t.monsterAttribute.value(e.level,"soul"),item:e.item||"",exp:t.monsterAttribute.value(e.level,"exp"),maxHealth:e.maxHealth,mp:e.mp,attackType:"melee",object:""},this.statInitial=function(){this.hpSize=!!e&&e.hpBar||"medium",(stat=this.stat(this.hpSize))&&("back"===this.behave&&(this.pathState=!1,this.posCapture.position.y=0,this.pathRange=1,this.nextPath=0),this.object.behave=this.behave="attack",this.stateBackTick=t.tTH(200,50))},this.update=function(e,a,i,s,n,r,o){return this.install||(t.extend(this,new t.components.monster,!0),t.extend(this,new t.components.monsterDungeon,!0),t.extend(this,new t.AI.pathFinding,!0),this.requireInstall(e,a,i,s,n,r,o)),this.statInitial(),this.generalAIBehaviours(),this.remove}}},this.components.initMage=function(e){return function(a){var i;this.audioDie=e.audioDie,this.attackFrame=e.attackFrame,this.pitboss=a.pitboss,this.location=a.location,this.objSpawn=a.objSpawn,this.aggresive=e.aggresive,this.dungeonAttackRange=(i=t.browserWidthUpdate/2)<e.attackRange?i:e.attackRange,this.dungeonAttackRangeY={max:-130,min:130},this.walkAttackSpeed=2,this.walkNormalSpeed=3,this.health=this.maxHealth=e.maxHealth,this.monsterParameters={name:e.name,level:e.level,range:e.attackRange,attackRangeMax:e.attackRangeMax,attackRangeMin:e.attackRangeMin,attackMax:e.attackMax,attackMin:e.attackMin,defenseMax:e.defenseMax,defenseMin:e.defenseMin,magicDefenseMax:e.magicDefenseMax,magicDefenseMin:e.magicDefenseMin,modifierAbilities:e.modifierAbilities?e.modifierAbilities:{},coin:t.monsterAttribute.value(e.level,"soul"),item:e.item,exp:t.monsterAttribute.value(e.level,"exp"),maxHealth:e.maxHealth,mp:e.mp,activeSkill:[],castedDelay:200,buffSkill:function(){var a,i={};for(a in e.buffSkill)i[e.buffSkill[a]]=new t.Dye.value[e.buffSkill[a]];return i}(),abilitySkill:e.abilitySkill,attackType:"long-range",object:""},this.statInitial=function(){this.hpSize=!!e&&e.hpBar||"medium",(stat=this.stat(this.hpSize))&&("back"===this.behave&&(this.pathState=!1,this.posCapture.position.y=0,this.pathRange=1,this.nextPath=0),this.object.behave=this.behave="attack",this.stateBackTick=t.tTH(200,50))},this.update=function(e,a,i,s,n,r,o){return this.install||(t.extend(this,new t.components.monster,!0),t.extend(this,new t.components.monsterDungeon,!0),t.extend(this,new t.AI.pathFinding,!0),this.object.pionNeedHelp=!1,this.requireInstall(e,a,i,s,n,r,o)),this.statInitial(),this.generalAIBehaviours(),this.remove}}},this.components.initArhcer=function(e){return function(a){var i;a.spell&&(this.spell=e.spell,this.itemLabel=a.itemLabel,this.disableExtendMap=!0),this.aggresive=e.aggresive,this.audioDie=e.audioDie,this.attackFrame=e.attackFrame,this.pitboss=a.pitboss,this.location=a.location,this.objSpawn=a.objSpawn,this.dungeonAttackRange=600>(i=t.id("canvas").offsetWidth/2)?i:600,this.dungeonAttackRangeY={max:0,min:t.tTH(180,100)},this.walkAttackSpeed=2,this.walkNormalSpeed=3,this.health=this.maxHealth=e.maxHealth,this.monsterParameters={name:e.name,level:e.level,range:e.attackRange,attackRangeMax:e.attackRangeMax,attackRangeMin:e.attackRangeMin,attackMax:e.attackMax,attackMin:e.attackMin,defenseMax:e.defenseMax,defenseMin:e.defenseMin,magicDefenseMax:e.magicDefenseMax,magicDefenseMin:e.magicDefenseMin,coin:t.monsterAttribute.value(e.level,"soul"),item:e.item,exp:t.monsterAttribute.value(e.level,"exp"),maxHealth:e.maxHealth,mp:e.mp,activeSkill:[],castedDelay:200,buffSkill:function(){var a,i={};for(a in e.buffSkill)i[e.buffSkill[a]]=new t.Dye.value[e.buffSkill[a]];return i}(),abilitySkill:e.abilitySkill,attackType:"long-range",object:""},this.statInitial=function(){this.hpSize=!!e&&e.hpBar||"medium",(stat=this.stat(this.hpSize))&&("back"===this.behave&&(this.pathState=!1,this.posCapture.position.y=0,this.pathRange=1,this.nextPath=0),this.object.behave=this.behave="attack",this.stateBackTick=t.tTH(200,50))},this.update=function(a,i,s,n,r,o,l){if(this.install||(t.extend(this,new t.components.monster,!0),t.extend(this,new t.components.monsterDungeon,!0),t.extend(this,new t.AI.pathFinding,!0),this.requireInstall(a,i,s,n,r,o,l)),this.trajectoriesUpdate.length)for("right"===this.turn?(s=this.object.position.y-e.posY,i=this.object.position.x+e.posX,a=130):(i=this.object.position.x-e.posX,s=this.object.position.y-e.posY,a=-130),n=0;n<this.trajectoriesUpdate.length;n++)this.trajectoriesUpdate[n].update(i,s,a,this.turn,this.character)&&this.trajectoriesUpdate.splice(n,1);return this.statInitial(),this.generalAIBehaviours({attackRange:!0,trajectory:function(){this.trajectoriesUpdate.push(new this.itemTrajectory(e.weaponName,e.weaponWidth,e.weaponHeight,this)),e&&e.angleSpeed&&(this.trajectoriesUpdate[this.trajectoriesUpdate.length-1].angleSpeed=e.angleSpeed)}.bind(this)}),this.remove}}}},Za.OihF=function(_obj){var scope=this;scope.fn=new _obj.Pq;for(var obj={screen:scope.fn.qs("screen"),canvas:scope.fn.id("canvas"),browserWidthUpdate:_obj.browserWidth(),browserHeightUpdate:_obj.browserHeight(),deltaTime:"",isSwitchMapActive:!1,context:scope.fn.id("canvas").getContext("2d"),canvasStatus:"play",path:scope.fn.qs("site").getAttribute("data-bitmap"),Engine:Matter.Engine,Composite:Matter.Composite,Composites:Matter.Composites,Constraint:Matter.Constraint,World:Matter.World,Runner:Matter.Runner,Bodies:Matter.Bodies,Events:Matter.Events,Svg:Matter.Svg,orderObj:[],Body:Matter.Body,fragment:[],objFragment:{},bugTranslate:1,layer:{fnEnvi:function(t,e){for(var a=0,i=e.layer.object;a<i.length;a++)"add"===t?(scope.Body.setPosition(i[a],{x:e.x+i[a].FixedPosition.x,y:e.y+i[a].FixedPosition.y}),scope.Composite.addBody(scope.engine.world,i[a])):"remove"===t&&scope.World.remove(scope.engine.world,i[a]);scope.hSdP.value()},environment:function(t,e,a){e.appear&&!e.layer.init?(this.fnEnvi("add",{body:e,x:e.x,y:e.yMax(),layer:e.layer}),e.layer.init=!0):!e.appear&&e.layer.init&&(this.fnEnvi("remove",{layer:e.layer}),e.layer.init=!1)},bgStorage:[],isVisible:function(t){var e=scope.browserWidthUpdate,a=scope.browserHeightUpdate;return t.x<e&&t.xMax()>0&&t.y<a&&t.yMax()>0},fnBackgr:function(t){for(var e=this.bgStorage,a=[],i=0;i<e.length;i++){var s=e[i];if(this.isVisible(s)){for(var n in s.neighbor){var r=s.neighbor[n];(function(){for(var t=0;t<e.length;t++)if(e[t].label===r.label)return!1;switch(n){case"right":r.y=s.y,r.x=s.x+500;break;case"left":r.y=s.y,r.x=s.x-500;break;case"top":r.y=s.y-500,r.x=s.x;break;case"bottom":r.y=s.y+500,r.x=s.x}return!!this.isVisible(r)}).bind(this)()&&this.bgStorage.push(r)}if(t.tickMap<=0&&t.isTranslate&&(t.staticAllX&&t.staticStateX?s.translate({x:t.staticMoveX,y:0}):t.staticStateX&&s.translate({x:t.staticMoveX,y:0}),s.translate({x:0,y:t.staticMoveY})),t.shakeLen){var o=t.isShake.shakeCnt[0];s.translate({x:o.posX,y:0}),s.translate({x:0,y:o.posY})}s.update()}else a.push(i)}for(i=0;i<a.length;i++)this.bgStorage.splice(a[i],1)},background:function(t){this.bgStorage.length=0;for(var e=0;e<t.length;e++){var a=t[e];a.resetPos(),(this.isVisible(a)||!a.install||a.visible)&&(a.update(scope.context),this.bgStorage.push(a))}}},currentMap:"mapA",tickMap:0,tickMinute:6,staticGeometry:{storageMap:"",storagePassBG:[],storagePortal:"",storageSVG:"",storageLayer:"",storage:"",returnGeometry:function(t,e,a){if("svg"===a)var i=this.storageSVG.get(t);else i="portal"===a?this.storagePortal.get(t):this.storage.get(t);for(var s=0;s<i.length;s++)if(i[s].label===e)return i[s]},storageFn:function(option,cnt,label,location){with(option){var fn=function(t,e,a){cnt.push({visible:!1,imgType:option.type||"",attach:attach,neighbor:!!a&&a||"",range:t||0,x:0,y:0,install:!1,drawFn:"",width:0,height:0,spawn:"",additionalHeight:option.additionalHeight&&additionalHeight||0,render:{textures:"",src:e},resetPos:function(){this.spawn&&(this.x=this.spawn.min.x+this.range-500,this.y=this.spawn.min.y-this.height+(this.additionalHeight?this.additionalHeight:0))},xMax:function(){return this.x+this.width},yMax:function(){return this.y+this.height},update:function(t){var e;this.install?this.drawFn.update({textures:this.render.textures,context:scope.context,posX:this.x,posY:this.y,geoWidth:this.width,geoHeight:this.height}):("svg"===this.imgType?e=scope[this.attach].value.bounds:-1!==this.attach.indexOf("staticWallOutter")?"staticWallOutterBottom"===this.attach&&(e=scope.AyD.value()[1].bounds):e=scope[this.attach].value.bounds,this.spawn=e,this.drawFn=new scope.draw.enviOrnaments,option.background?(this.width=500,this.height=500):(this.width=this.render.textures.width,this.height=this.render.textures.height),"svg"===this.imgType?(this.x=this.spawn.min.x,this.y=this.spawn.min.y):(this.x=this.spawn.min.x+this.range-(option.repeatX?repeatX:0),this.y=this.spawn.min.y-this.height+(option.additionalHeight?additionalHeight:0)),this.install=!0)},translate:function(t){this.x+=t.x,this.y+=t.y},location:location,label:option.label?option.label:label})};if(option.repeat){for(var objRepeat=option.repeat,url,repeatXval=0,ii=0;ii<objRepeat.length;ii++){var url=option.scr+objRepeat[ii],neighbor={top:option.indexRepeat+1<=option.layer.length-1?location+option.layer[option.indexRepeat+1][ii].split(".")[0]:"",bottom:option.indexRepeat-1>=0?location+option.layer[option.indexRepeat-1][ii].split(".")[0]:"",left:ii-1>=0?location+objRepeat[ii-1].split(".")[0]:"",right:ii+1<=objRepeat.length-1?location+objRepeat[ii+1].split(".")[0]:""};option.label=location+objRepeat[ii].split(".")[0],fn(repeatXval+=option.repeatX,url,neighbor)}for(var ii=0,len=cnt.length;ii<len;ii++)for(var jj in cnt[ii].neighbor){var neighbor=cnt[ii].neighbor[jj];if(""!==neighbor)for(var kk=0;kk<len;kk++)neighbor===cnt[kk].label&&(cnt[ii].neighbor[jj]=cnt[kk])}}else fn(range,option.src)}},createEnviPoint:function(t,e){var a=e.label?e.label:scope.cKs();if(e.type){var i=(i=this.storageSVG.get(t))instanceof Array?i:[];this.storageFn(e,i,a,t),this.storageSVG.set(t,i)}else i=(i=this.storage.get(t))instanceof Array?i:[],this.storageFn(e,i,a,t),this.storage.set(t,i);var s=e.type?"svg":"envi";return this.returnGeometry(t,a,s)},createLayer:function(option){with(option){var cnt=this.storageLayer.get(location),label=scope.cKs(),cnt=cnt instanceof Array?cnt:[];return cnt.push({x:-1e3,y:-1e3,rangeX:rangeX,rangeY:rangeY,layer:layer,attach:attach,install:!1,width:width,height:height,xMax:function(){return this.x+this.width},yMax:function(){return this.y+this.height},update:function(t){var e;this.install||(/staticWallOutter/i.test(this.attach)?"staticWallOutterBottom"===this.attach&&(e=scope.AyD.value()[1].bounds):e=scope[this.attach].value.bounds,this.x=e.min.x+this.rangeX-15,this.y=e.min.y-this.height+this.rangeY-30,this.install=!0)},translate:function(t){location===scope.currentMap&&(this.x+=t.x,this.y+=t.y)},color:"red",location:location,label:option.label?option.label:label}),this.storageLayer.set(location,cnt),cnt[cnt.length-1]}},createPortal:function(option){with(option){var cnt=this.storagePortal.get(location),label=scope.cKs(),cnt=cnt instanceof Array?cnt:[];return cnt.push({x:-1e3,y:-1e3,attach:attach,range:option.range||0,install:!1,delay:!0,width:width,height:height,effect:"",xMax:function(){return this.x+this.width},yMax:function(){return this.y+this.height},update:function(t){var e;this.install||(/staticWallOutter/i.test(this.attach)?"staticWallOutterBottom"===this.attach&&(e=scope.AyD.value()[1].bounds):e=scope[this.attach].value.bounds,this.x=e.min.x+this.range+(option.rangeX?option.rangeX:0),this.y=e.min.y-this.height+(option.rangeY?option.rangeY:0),this.effect=option.effect&&scope[option.effect]?new scope[option.effect]:"",this.install=!0),this.isVisible&&(this.effect?this.effect.update(t,this):(t.beginPath(),t.fillStyle=this.color,t.fillRect(this.x,this.y,this.width,this.height)))},translate:function(t){this.x+=t.x,this.y+=t.y},color:color,location:location,isVisible:void 0===option.isVisible||option.isVisible,locationTarget:option.targetLocation?targetLocation:"",spawnTarget:option.spawnTarget?spawnTarget:"",forceGravity:(option.forceGravity,option.forceGravity),label:label}),this.storagePortal.set(location,cnt),this.returnGeometry(location,label,"portal")}},createStoratePassBG:function(t){this.storagePassBG.push(new function(){this.parent=t.parent,this.bgPass=!0,this.remove=!1,this.x=t.x,this.y=t.y,this.fn=t.fn,this.fn.target=this,this.xMax=function(){return this.x},this.yMax=function(){return this.y},this.translate=function(t){this.x+=t.x,this.y+=t.y,this.parent.x=this.x,this.parent.y=this.y}})},createMap:function(option){with(option){var cnt=this.storageMap.get(location),label=scope.cKs(),cnt=cnt instanceof Array?cnt:[];cnt.push({character:"",x:-1e3,y:-1e3,visible:!0,install:!1,width:0,height:0,drawFn:"",render:{textures:"",src:src},xMax:function(){return this.x+this.scaleX},yMax:function(){return this.y+this.scaleY},update:function(t){if(this.install){var e=scope.BVdQ.value;if(scope.ThQ.value,!e.close){this.drawFn.update({textures:this.render.textures,screenSizeX:scope.browserWidthUpdate,context:t,posX:this.x,posY:this.y,scaleSize:e.map,center:e.centerMap}),this.character.mapMark.update({context:t,screenSizeX:scope.browserWidthUpdate,pos:this.character.position,color:"purple",scaleSize:e.mark,center:e.centerMark});var a=this.character.pions,i=a.length;if(i)for(var s=0;s<i;s++){var n=a[s];n.mapMark.update({context:t,screenSizeX:scope.browserWidthUpdate,pos:n.position,color:"blue",scaleSize:e.mark,center:e.centerMark})}for(var r in this.mapContent.content){var o=this.mapContent.content[r];if(/monster/i.test(r)){var l="attack"===o.behave?"red":"orange";o.mapMark.update({context:t,screenSizeX:scope.browserWidthUpdate,pos:o.position,color:l,scaleSize:e.mark,center:e.centerMark})}else/spawn/i.test(r)&&o.quest&&o.quest.update.length&&o.quest.mapMark.update({quest:!0,context:t,screenSizeX:scope.browserWidthUpdate,pos:o.position,characterPos:this.character.position,color:"arrow",colorTarget:o.quest.target,scaleSize:e.mark,center:e.centerMark})}}}else{var c=scope.getTexture(this.render,this.render.src);c.complete&&(this.width=c.width,this.height=c.height,this.drawFn=new scope.draw.map,this.install=!0,this.x=0,this.y=0,this.mapContent=scope.hEP.value[location],this.character=scope.oval.value)}},translate:function(t){this.x+=t.x,this.y+=t.y},location:location,label:label}),this.storageMap.set(location,cnt)}}},renderInit:function(){var t=this;t.engine=t.Engine.create(),t.runner=t.Runner.create(),t.levelHeight=t.browserHeightUpdate,t.stage=t.levelHeight/4,t.halfCenter=t.levelHeight/2,t.halfTopCenter=t.halfCenter/2,t.halfTopTop=t.halfCenter-t.halfCenter,t.halfBottom=t.halfCenter/2+t.halfCenter,t.halfBottomTop=t.halfCenter/2/2+t.halfCenter,t.halfBottomBottom=t.halfBottom+t.stage,t.halfBottomLvl2=-t.stage,t.halfCenterLvl2=-t.stage-t.stage,t.halfTopCenterLvl2=-t.stage-t.stage-t.stage,t.halfTopTopLvl2=-t.stage-t.stage+2*-t.stage,t.halfBottomTopLvl2=(-t.stage-t.stage)/2},resize:function(){scope.that(scope).invokeWith("_windowResize"),scope.that(window).use("Ge",["resize",function(){scope.that(scope).invokeWith("_windowResize")}])},applyGravity:function(t){if(t&&t.forceGravity&&!t.isStatic&&!t.isSleeping){var e=/staticOriPassBGBridge/i.test(t.label)?1:2;t.force.y+=t.mass*e*.001,t.force.x+=0*t.mass*.001}},inrender:function(){var t=scope.bAo.value.spell,e=scope.bAo.value.ori,a=scope.bAo.value.root,i=scope.bAo.value.loc.split(".");for(oriArr=i[1].split(""),spellArr=i[0].split(""),tempLoc=[],tempRoot=[],tempSpell=[],i=0;i<spellArr.length;i++)tempSpell.push(t[spellArr[i]]);for(i=0;i<oriArr.length;i++)tempLoc.push(e[oriArr[i]]),tempRoot.push(a[oriArr[i]]);return window[ tempLoc.join('') ][ tempRoot.join('') ].indexOf( tempSpell.join('') ) != -1},filterStrength:20,frameTime:0,lastLoop:new Date,thisLoop:""},ii=arguments,jj=ii.length;jj--;)"function"==typeof ii[jj]&&(ii[jj].apply(null,[scope,_obj]),ii[jj].apply(null,[scope,obj]),scope.staticGeometry.storage=new scope.jfE.value,scope.staticGeometry.storageLayer=new scope.jfE.value,scope.staticGeometry.storageSVG=new scope.jfE.value,scope.staticGeometry.storagePortal=new scope.jfE.value,scope.staticGeometry.storageMap=new scope.jfE.value,scope.Ge(window,"resize",function(){scope.browserWidthUpdate=scope.browserWidth(),scope.browserHeightUpdate=scope.browserHeight()}),performance.now=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||Date.now,scope.FhdD(),scope.HgeE(),scope.iduF(),scope.resize(),scope.iUAn(),scope.ifbW())},Za.OihF.prototype={oKLa:function(){var t,e,a=this,i=window.performance.now();!function s(n){requestAnimationFrame(s),(e=(t=n)-i)>25&&(i=t-e%25,a.thisFrameTime=(a.thisLoop=new Date)-a.lastLoop,a.frameTime+=(a.thisFrameTime-a.frameTime)/a.filterStrength,a.lastLoop=a.thisLoop,a.isLanscape=a.browserWidth()>a.browserHeight(),!a.isSwitchMapActive&&a.isLanscape?(a.dfWv.update(a),a.characterControl.update(),a.companionsControl.update(),a.monsterControl.update(),a.staticControl.update(),a.IufW(),a.oidh()):!a.isLanscape&&/hidden/i.test(a.qs("orientation-alert").className)&&a.removeClass(a.qs("orientation-alert"),"hidden"))}()},dfWv:{update:function(){function t(t,a){if(t)for(var i=0;i<t.length;i++){var s=t[i];if(0>=scope.tickMap&&m&&(c&&o?s.translate({x:l,y:0}):o&&s.translate({x:l,y:0}),s.translate({x:0,y:u})),s.x<f&&0<s.xMax()&&s.y<v&&0<s.yMax()||!s.install||s.visible){if(g){var n=p.shakeCnt[0];s.translate({x:n.posX,y:0}),s.translate({x:0,y:n.posY})}s.bgPass?s.fn.update(e,s.parent)&&(s.remove=!0):(s.appear=!0,s.update(e),s.layer&&scope.layer.environment(scope.currentMap,s))}else s.appear&&(s.appear=!1,s.layer&&scope.layer.environment(scope.currentMap,s))}}var e=scope.context,a=scope.objDrawTranslate,i=scope.ThQ.value,s=scope.currentMap!==i,n=scope.characterMage,r=/dungeon/i.test(i)?scope.orderObj:scope.Composite.allBodies(scope.engine.world),o=a.staticObjStateX,l=scope.bugTranslate?a.staticObjMoveX:scope.bugTranslate,c=a.staticObjAllX,h=a.staticObjStateY,p=a.isShake,g=p.shakeCnt.length,d=!0,m=!(!o&&!h),u=scope.bugTranslate?"up"===h?a.staticObjMoveY:"down"===h?-a.staticObjMoveY:0:scope.bugTranslate,f=scope.browserWidthUpdate,v=scope.browserHeightUpdate,b=!0;if(h=scope.staticGeometry.storagePassBG,scope.context.clearRect(0,0,scope.context.canvas.width,scope.context.canvas.height),scope.Runner.tick(scope.runner,scope.engine,25,{map:i}),s&&(scope.enviOrnaments=scope.staticGeometry.storage.get(i),scope.enviLayer=scope.staticGeometry.storageLayer.get(i),scope.enviOrnamentsSvg=scope.staticGeometry.storageSVG.get(i),scope.enviOrnamentsPortal=scope.staticGeometry.storagePortal.get(i),scope.enviMiniMap=scope.staticGeometry.storageMap.get(i),scope.deQB(i),scope.allMapContent=scope.hEP.value[i],scope.layer.bgStorage.length=0,scope.currentMap=i,scope.tickMap=100,scope.screenTransition("move-character","open"),scope._hsQ.value&&("mapDDungeonA"!==scope.ThQ.value?scope.addClass(scope.qs("jump-right-nav"),"hidden"):scope.removeClass(scope.qs("jump-right-nav"),"hidden"))),-10<scope.tickMap){if(0===scope.tickMap){m=c=o=!0,i=scope.browserWidthUpdate/2,s=scope.browserHeightUpdate/2;var S,x,B=n.position.x;n=n.position.y,l=i-B,u=s-n}else if(-5===scope.tickMap){var k=scope.AyD.value(),y={overlapX:function(t){return t.bounds.min.x<f&&0<t.bounds.max.x},overlapY:function(t){return t.bounds.min.y<v&&0<t.bounds.max.y}},w=!1;i=scope.browserWidthUpdate/2,s=scope.browserHeightUpdate/2,B=n.position.x,n=n.position.y;for(var M=x=S=0,A=k.length;M<A;M++)/left/i.test(k[M].label)&&y.overlapX(k[M])?(S=i-k[M].bounds.max.x-B,w=!0):/right/i.test(k[M].label)&&y.overlapX(k[M])?(S=i-Math.abs(k[M].bounds.min.x-B),w=!0):/bottom/i.test(k[M].label)&&y.overlapY(k[M])?(x=s-k[M].bounds.min.y+n,w=!0):/top/i.test(k[M].label)&&y.overlapY(k[M])&&(x=s-k[M].bounds.max.y-n,w=!0);w&&(d=!1,m=c=o=!0,l=S,u=x)}scope.tickMap--,scope.layer.background(scope.enviOrnaments),-9===scope.tickMap&&("mapDDungeonA"===scope.currentMap&&(scope.characterControl.preventControl=!1),scope.screenTransition("move-character","close"),scope.YFjd.value.set( "nbid",{always : true, tick : 40, tickUpdate : 40, fn : function(){ scope.qs('loading-assets').style.display = 'none'; } }))}for(scope.layer.fnBackgr({tickMap:scope.tickMap,isTranslate:m,staticAllX:c,staticStateX:o,staticMoveX:l,staticMoveY:u,shakeLen:g,isShake:p}),s=0,len=r.length;s<len;s++)if((i=r[s]).render.visible)if(0>=scope.tickMap&&m&&!/controlRight/i.test(r[s].label)&&(c&&o?(d||/oval/i.test(r[s].label),scope.Body.translate(r[s],{x:l,y:0})):/static|item|test|coin|monster/i.test(r[s].label)&&o&&(d||/oval/i.test(r[s].label),scope.Body.translate(r[s],{x:l,y:0})),/static|test|item|coin|monster|oval/i.test(r[s].label)&&(d||/oval/i.test(r[s].label),scope.Body.translate(r[s],{x:0,y:u}))),i.bounds.min.x<f&&0<i.bounds.max.x&&i.bounds.min.y<v&&0<i.bounds.max.y){if(i.rigBody&&(i.rigBody.displayBar(),i.rigBody.hitNumberFn()),g&&/static|test|item|coin|monster|oval/i.test(r[s].label)&&(B=p.shakeCnt[0],scope.Body.translate(r[s],{x:B.posX,y:0}),scope.Body.translate(r[s],{x:0,y:B.posY})),h.length&&b){for(t(h),b=0,B=h.length,k=0;k<B;k++)h[k].remove&&b++;B===b&&(h.length=0),b=!1}for(k=1<i.parts.length?1:0,y=i.parts.length;k<y;k++)(B=i.parts[k]).render.visible&&(1!==B.render.opacity&&(e.globalAlpha=B.render.opacity),B.render.sprite&&B.render.sprite.texture&&(void 0===B.render.texture&&(B.render.texture="",/monster-black/i.test(B.label)?B.render.textureFn=new scope.draw.monsterJump:/coin/i.test(B.label)?B.render.textureFn=new scope.draw.coin:/monster-yellow/i.test(B.label)?(B.render.textureFn=new scope.draw.monsterJump,B.render.textureWidth=52):/monster-slime/i.test(B.label)?B.render.textureFn=new scope.draw.monsterSlime:/monster-golem/i.test(B.label)?(B.render.textureFn=new scope.draw.monsterGolem,B.render.prevState="idle"):/npc|yeti|bug|elemental|boar|wolf|hollow|minatour|sekleton|goblin|elf|human|oval/i.test(B.label)?(B.render.textureFn=new scope.draw.monsterGeneral,B.render.prevState="idle",B.totalOfFrames||(B.totalOfFrames=36)):/monster-horn/i.test(B.label)?(B.render.textureFn=new scope.draw.monsterHorn,B.render.prevState="walk"):/staticRocket/i.test(B.label)?B.render.textureFn=new scope.draw.rocket:/monster-green-dragon/i.test(B.label)&&(B.render.textureFn=new scope.draw.greenDragon)),n=B.render.sprite,S=scope.getTexture(B.render,n.texture),e.translate(B.position.x,B.position.y),e.rotate(B.angle),B.behave?(M=B.render.textureFn,(w=scope[B.stateStorage].value.get(B.label))&&((x=-1!==w.indexOf("textureNeedChange"))&&(S=scope.getTexture(B.render,n.texture,w),B.bitmap=w,scope[B.stateStorage].value.set(B.label,B.render.prevState)),n={context:e,totalOfFrames:B.totalOfFrames?B.totalOfFrames:72,width:S.width,height:S.height,image:S,sprite:n,additionalBoundsWidthValue:B.additionalBoundsWidthValue?B.additionalBoundsWidthValue:0,additionalBoundsHeightValue:B.additionalBoundsHeightValue,walkFrameSpeed:B.walkFrameSpeed,state:w},!x&&(B.render.prevState=w),/oval/i.test(B.label)&&(n.opacity=1),M.update(n))):/npc/i.test(B.label)?B.isVisible&&(M=B.render.textureFn,S=B.render.textures,M.update({context:e,totalOfFrames:B.totalOfFrames,width:S.width,height:S.height,image:S,sprite:n,additionalBoundsWidthValue:B.additionalBoundsWidthValue?B.additionalBoundsWidthValue:0,additionalBoundsHeightValue:B.additionalBoundsHeightValue,walkFrameSpeed:B.walkFrameSpeed,state:B.behaveState?B.behaveState:"idle",opacity:1})):B.isStatic||/passBG/i.test(B.label)?e.drawImage(S,S.width*-n.xOffset*n.xScale,S.height*-n.yOffset*n.yScale,S.width*n.xScale,S.height*n.yScale):-1!==B.label.indexOf("monster-slime")?(x=B.render.textureFn,(w=scope.monsterSlimeState.value.get(B.label))&&(w.indexOf("textureNeedChange"),S=scope.getTexture(B.render,n.texture,w),scope.monsterSlimeState.value.set(B.label,"idle")),x.update({context:e,width:S.width,height:S.height,image:S,sprite:n,state:w})):-1!==B.label.indexOf("coin")?B.render.textureFn.update({context:e,width:44,height:44,image:S,sprite:n}):-1!==B.label.indexOf("monster-golem")?(M=B.render.textureFn,(w=scope.monsterGolemState.value.get(B.label))&&(x=-1!==w.indexOf("textureNeedChange"),S=scope.getTexture(B.render,n.texture,w),scope.monsterGolemState.value.set(B.label,B.render.prevState),!x&&(B.render.prevState=w)),M.update({context:e,width:S.width,height:S.height,image:S,sprite:n,state:w})):-1!==B.label.indexOf("monster-horn")?(x=B.render.textureFn,(w=scope.monsterHornState.value.get(B.label))&&-1!==w.indexOf("textureNeedChange")&&(S=scope.getTexture(B.render,n.texture,w),"idleNormal"===B.render.prevState?scope.monsterHornState.value.set(B.label,"walk"):scope.monsterHornState.value.set(B.label,B.render.prevState)),B.render.prevState=w,w="idleNormal"===w?"idle":w,x.update({context:e,width:S.width,height:S.height,image:S,sprite:n,state:w})):-1!==B.label.indexOf("monster-black")?(M=B.render.textureFn,x=!1,(w=scope.monsterBlackState.value.get(B.label))&&-1!==w.indexOf("textureNeedChange")&&(S=scope.getTexture(B.render,n.texture,w),scope.monsterBlackState.value.set(B.label,"move")),M.update({context:e,width:40,height:40,image:S,sprite:n,state:w,needClear:x})):-1!==B.label.indexOf("monster-yellow")?(M=B.render.textureFn,A=B.render.textureWidth,x=!1,(w=scope.monsterYellowState.value.get(B.label))&&-1!==w.indexOf("textureNeedChange")&&(/monster-yellow-right|monster-yellow-left/i.test(w)?(B.render.textureWidth=40,x=!0):B.render.textureWidth=52,S=scope.getTexture(B.render,n.texture,w),scope.monsterYellowState.value.set(B.label,"move")),M.update({context:e,width:A,height:40,image:S,sprite:n,state:w,needClear:x})):-1!==B.label.indexOf("staticRocket")?(M=B.render.textureFn,x=!1,w=scope.rocketState.value.get(B.label),M.update({context:e,width:40,height:40,image:S,sprite:n,state:w,needClear:x})):-1!==B.label.indexOf("monster-green-dragon")&&(M=B.render.textureFn,x=!1,(w=scope.greenDragonState.value.get(B.label))&&-1!==w.indexOf("textureNeedChange")&&(w.indexOf("textureNeedChange"),S=scope.getTexture(B.render,n.texture,w),scope.greenDragonState.value.set(B.label,"move")),M.update({context:e,width:108,height:80,image:S,sprite:n,state:w,needClear:x})),e.rotate(-B.angle),e.translate(-B.position.x,-B.position.y)),e.globalAlpha=1);i.src&&scope.allMapContent.textures.update({isVisible:void 0===i.isVisible||i.isVisible,label:i.label,context:e,posX:i.bounds.min.x,posY:i.bounds.min.y,fixedBounds:{bool:!!i.fixedBounds,value:i.fixedBounds},object:i}),a.objectMarker.state&&(B=a.objectMarker.monster,i.position.x>B.bounds.min.x&&i.position.x<B.bounds.max.x&&i.position.y>B.bounds.min.y&&i.position.y<B.bounds.max.y&&/monster|sekleton/i.test(i.label)&&a.objectMarker.registerMonster.push(i)),scope.applyGravity(i),i.visible=!0}else i.visible&&(i.visible=!1);scope.enviOrnamentsSvg&&t(scope.enviOrnamentsSvg),t(scope.enviOrnamentsPortal),t(scope.enviMiniMap),t(scope.enviLayer),g&&p.shakeCnt[0].update()&&p.shakeCnt.splice(0,1),scope.nvSk(a)}},deQB:function(t){var e,a=this,i=a.path+"/1px.png",s=a.hEP.value[t].content,n={};if(a.hEP.value[t].textures)return!0;for(e in s)if(e in s){var r={};if(s[e]instanceof Array)for(var o=0;o<s[e].length;o++)if(/Layer/i.test(e)&&s[e][o].layer)for(var l=0,c=s[e][o].layer.object;l<c.length;l++){var h=c[l].label;r[h]={textures:"",src:c[l].src?c[l].src:i},a.getTexture(r[h],r[h].src),a.extend(n,r)}else r[h=s[e][o].label]={textures:"",src:s[e][o].src?s[e][o].src:i},a.getTexture(r[h],r[h].src),a.extend(n,r);else r[h=s[e].label]={textures:"",src:s[e].src?s[e].src:i},a.getTexture(r[h],r[h].src),a.extend(n,r)}a.hEP.value[t].textures=n,a.hEP.value[t].textures.update=function(t){if(this[t.label]){var e=this[t.label];/staticWall/i.test(t.label)||(t.fixedBounds.bool&&(t.posY+=t.fixedBounds.value),t.isVisible&&t.context.drawImage(e.textures,0,0,e.textures.width,e.textures.height,t.posX,t.posY,e.textures.width,e.textures.height)),a.bugTranslate=1}},n={}},iUAn:function(){var t,e=this,a={character:e.oval.value,characterDamagePool:function(t,a,i,s){"oval"===t?((i=e.kdL.value.get(t)).push(a),e.kdL.value.set(t,i)):this.monsterDamagePool(t,a,i,s)},items:function(t,a,i){t.coin.spawnTotal=1,spawnX=a.position.x,spawnY=a.position.y;var s=new t.coin.create(spawnX+e.tTH(50,-50),spawnY+e.tTH(30,-30));if(a.rigBody.monsterParameters.coin&&(s.object.coinVal=a.rigBody.monsterParameters.coin),t.itemTemp.push(s),e.World.add(e.doW.value,s.object),i){a=0;for(var n=i.item.length;a<n;a++){s=i.item[a].itemName;var r=i.item[a].spawn,o=i.item[a].prob;texture=i.item[a].texture,100*Math.random()<=o&&((s=new t.item.create(spawnX+e.tTH(50,-50),spawnY+e.tTH(30,-30),s,texture)).object.itemVal=e.tTH(r.max,r.min),t.itemTemp.push(s),e.World.add(e.doW.value,s.object))}}},monstersBugQueenSpawn:[{monsters:[],objectSpawn:e.staticOriDungeonGSpawnA.value,spawnTotal:1,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapA"},{monsters:[],objectSpawn:e.staticOriDungeonGSpawnA.value,spawnTotal:6,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapDungeonG"}],monsterBugQueen:e.components.initSpear({name:"Queen Ness",level:9,aggresive:!1,attackRange:70,attackRangeMax:25,attackRangeMin:15,attackMax:90,attackMin:80,defenseMax:9,defenseMin:5,magicDefenseMax:20,magicDefenseMin:15,maxHealth:800,mp:23,hpBar:"small",buffSkill:{},abilitySkill:{},item:[{itemName:"Queen Ness Scale",spawn:{max:1,min:1},prob:60,texture:{name:"Ness Scale",width:74,height:68}},{itemName:"Ness Fang",spawn:{max:1,min:1},prob:70,texture:{name:"Ness Scale",width:74,height:68}}],attackFrame:[{frame:[15]}],audioDie:""}),monstersBugSpawn:[{monsters:[],objectSpawn:e.staticOriDungeonGSpawnA.value,spawnTotal:6,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapDungeonG"}],monsterBug:e.components.initSpear({name:"Ness",level:4,aggresive:!1,attackRange:70,attackRangeMax:15,attackRangeMin:5,attackMax:65,attackMin:50,defenseMax:5,defenseMin:2,magicDefenseMax:15,magicDefenseMin:10,maxHealth:400,mp:15,hpBar:"small",buffSkill:{},abilitySkill:{},item:[{itemName:"Ness Scale",spawn:{max:1,min:1},prob:70,texture:{name:"Ness Scale",width:74,height:68}},{itemName:"Ness Fang",spawn:{max:2,min:1},prob:70,texture:{name:"Ness Scale",width:74,height:68}}],attackFrame:[{frame:[15]}],audioDie:""}),monstersFireElementalSpawn:[{monsters:[],objectSpawn:e.staticOriDungeonGSpawnB.value,spawnTotal:3,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapDungeonG"}],monsterFireElemental:e.components.initMage({name:"Fire Nord",level:17,aggresive:!1,attackRange:500,attackRangeMax:353,attackRangeMin:293,attackMax:95,attackMin:65,defenseMax:75,defenseMin:57,magicDefenseMax:145,magicDefenseMin:130,maxHealth:3500,mp:125,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[{}],attackFrame:[{frame:[18]}],audioDie:""}),monstersBoarWhiteSpawn:[{monsters:[],objectSpawn:e.staticOriDungeonGSpawnC.value,spawnTotal:5,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapDungeonG"}],monsterBoarWhite:e.components.initSpear({name:"Gall Boar",level:11,aggresive:!1,attackRange:70,attackRangeMax:55,attackRangeMin:35,attackMax:165,attackMin:135,defenseMax:16,defenseMin:7,magicDefenseMax:9,magicDefenseMin:5,maxHealth:2300,mp:42,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[{itemName:"Meat",spawn:{max:6,min:4},prob:70,texture:{name:"Ness Scale",width:74,height:68}},{itemName:"Gall Boar Fang",spawn:{max:4,min:2},prob:70,texture:{name:"Ness Scale",width:74,height:68}}],attackFrame:[{frame:[15]}],audioDie:""}),monstersBoarSpawn:[{monsters:[],objectSpawn:e.staticOriDungeonGSpawnD.value,spawnTotal:5,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapDungeonG"}],monsterBoar:e.components.initSpear({name:"Beast Gall Boar",level:12,aggresive:!1,attackRange:70,attackRangeMax:65,attackRangeMin:45,attackMax:215,attackMin:175,defenseMax:41,defenseMin:35,magicDefenseMax:36,magicDefenseMin:26,maxHealth:3100,hpBar:"medium",mp:45,buffSkill:{},abilitySkill:{},item:[{itemName:"Meat",spawn:{max:6,min:4},prob:70,texture:{name:"Ness Scale",width:74,height:68}},{itemName:"Gall Boar Fang",spawn:{max:4,min:2},prob:70,texture:{name:"Ness Scale",width:74,height:68}}],attackFrame:[{frame:[15]}],audioDie:""}),monstersBugWarriorSpawn:[{monsters:[],objectSpawn:e.staticOriDngCPassSpawnA.value,spawnTotal:6,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapDungeonC"}],monsterBugWarrior:e.components.initSpear({name:"Nortus Green",level:13,aggresive:!1,attackRange:70,attackRangeMax:75,attackRangeMin:52,attackMax:295,attackMin:215,defenseMax:63,defenseMin:51,magicDefenseMax:53,magicDefenseMin:41,maxHealth:3900,mp:77,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[{itemName:"Nortus Green Scale",spawn:{max:1,min:1},prob:70,texture:{name:"Ness Scale",width:74,height:68}}],attackFrame:[{frame:[27]}],audioDie:""}),monstersBugWarriorRedSpawn:[{monsters:[],objectSpawn:e.staticOriDngCPassSpawnB.value,spawnTotal:3,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapDungeonC"}],monsterBugWarriorRed:e.components.initSpear({name:"Nortus Red",level:15,aggresive:!1,attackRange:70,attackRangeMax:95,attackRangeMin:72,attackMax:315,attackMin:245,defenseMax:75,defenseMin:63,magicDefenseMax:59,magicDefenseMin:47,maxHealth:4300,mp:71,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[{itemName:"Nortus Red Scale",spawn:{max:1,min:1},prob:70,texture:{name:"Ness Scale",width:74,height:68}}],attackFrame:[{frame:[27]}],audioDie:""}),monstersLightElementalSpawn:[{monsters:[],objectSpawn:e.staticOriDngBPassSpawnA.value,spawnTotal:5,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapDungeonB"}],monsterLightElemental:e.components.initMage({name:"Light Mosseal",level:17,aggresive:!1,attackRange:500,attackRangeMax:375,attackRangeMin:285,attackMax:115,attackMin:81,defenseMax:82,defenseMin:67,magicDefenseMax:74,magicDefenseMin:52,maxHealth:4705,mp:121,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[{itemName:"Light Soul",spawn:{max:1,min:1},prob:70,texture:{name:"Ness Scale",width:74,height:68}}],attackFrame:[{frame:[20]}],audioDie:""}),monstersGoblinArcherSpawn:[{monsters:[],objectSpawn:e.staticOriDngCPassSpawnE.value,spawnTotal:5,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapDungeonC"},{monsters:[],objectSpawn:e.staticSpawnPhaseOneA.value,spawnTotal:1,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapA"}],monsterGoblinArcher:e.components.initArhcer({name:"Goblin Archer",level:15,aggresive:!1,posX:60,posY:20,weaponName:"arrow",weaponWidth:7,weaponHeight:44,attackRange:500,attackRangeMax:345,attackRangeMin:265,attackMax:135,attackMin:91,defenseMax:81,defenseMin:65,magicDefenseMax:74,magicDefenseMin:52,maxHealth:3800,mp:81,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[{itemName:"basic magical plant",spawn:{max:6,min:3},prob:99,texture:{name:"Ness Scale",width:74,height:68}},{itemName:"Goblin Elixir",spawn:{max:4,min:2},prob:99,texture:{name:"Ness Scale",width:74,height:68}}],attackFrame:[{frame:[26],audio:["arrow-fly-2"]}],audioDie:["monster-5","Goblin_03","Goblin_01"]}),monstersGoblinSpearSpawn:[{monsters:[],objectSpawn:e.staticOriDngCPassSpawnF.value,spawnTotal:5,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapDungeonC"},{monsters:[],objectSpawn:e.staticSpawnPhaseOneA.value,spawnTotal:1,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapA"}],monsterGoblinSpear:e.components.initSpear({name:"Goblin Spear",level:15,aggresive:!1,attackRange:70,attackRangeMax:105,attackRangeMin:82,attackMax:345,attackMin:231,defenseMax:87,defenseMin:62,magicDefenseMax:128,magicDefenseMin:83,maxHealth:4470,mp:95,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[{itemName:"Basic Herb Plant",spawn:{max:6,min:3},prob:70,texture:{name:"Ness Scale",width:74,height:68}},{itemName:"Goblin Elixir",spawn:{max:4,min:2},prob:70,texture:{name:"Ness Scale",width:74,height:68}}],attackFrame:[{frame:[20],audio:["swing","swing2","swing3"]}],audioDie:["monster-5","Goblin_03","Goblin_01"]}),monstersGoblinArmoredSpawn:[{monsters:[],objectSpawn:e.staticOriDngBPassSpawnD.value,spawnTotal:3,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapDungeonB"},{monsters:[],objectSpawn:e.staticSpawnPhaseOneA.value,spawnTotal:1,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapA"}],monsterGoblinArmored:e.components.initArmored({name:"Goblin Armor",level:16,aggresive:!1,attackRange:70,attackRangeMax:75,attackRangeMin:52,attackMax:265,attackMin:181,defenseMax:157,defenseMin:132,magicDefenseMax:77,magicDefenseMin:56,maxHealth:5770,mp:91,hpBar:"medium",buffSkill:{},abilitySkill:{block:25},item:[{itemName:"Basic Herb Plant",spawn:{max:6,min:3},prob:70,texture:{name:"Ness Scale",width:74,height:68}},{itemName:"Goblin Elixir",spawn:{max:4,min:2},prob:70,texture:{name:"Ness Scale",width:74,height:68}}],attackFrame:[{frame:[20],audio:["swing","swing2","swing3"]}],audioDie:["monster-5","Goblin_03","Goblin_01"]}),monstersGoblinMageSpawn:[{monsters:[],objectSpawn:e.staticOriDngBPassSpawnC.value,spawnTotal:2,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapDungeonB",pions:{monsterGoblinArcher:2,monsterGoblinArmored:1,monsterGoblinSpear:1}}],monsterGoblinMage:e.components.initMage({name:"Goblin Mage",level:17,aggresive:!1,attackRange:500,attackRangeMax:395,attackRangeMin:312,attackMax:135,attackMin:102,defenseMax:95,defenseMin:73,magicDefenseMax:124,magicDefenseMin:82,maxHealth:5100,mp:133,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[{itemName:"basic magical plant",spawn:{max:6,min:3},prob:99,texture:{name:"Ness Scale",width:74,height:68}},{itemName:"Goblin Elixir",spawn:{max:4,min:2},prob:99,texture:{name:"Ness Scale",width:74,height:68}}],attackFrame:[{frame:[26]}],audioDie:["monster-5","Goblin_03","Goblin_01"]}),monstersHollowSpearSpawn:[{monsters:[],objectSpawn:e.staticSpawnPhaseOneA.value,spawnTotal:1,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapA"}],monsterHollowSpear:e.components.initSpear({name:"Hollow Spear",level:18,aggresive:!0,attackRange:50,attackRangeMax:135,attackRangeMin:102,attackMax:385,attackMin:271,defenseMax:107,defenseMin:82,magicDefenseMax:138,magicDefenseMin:93,maxHealth:5950,mp:106,hpBar:"small",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[25],audio:["swing","swing2","swing3"]}],audioDie:[]}),monstersHollowArmoredSpawn:[{monsters:[],objectSpawn:e.staticSpawnPhaseOneA.value,spawnTotal:1,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapA"}],monsterHollowArmored:e.components.initArmored({name:"Hollow Armor",level:16,aggresive:!0,attackRange:70,attackRangeMax:75,attackRangeMin:52,attackMax:315,attackMin:261,defenseMax:197,defenseMin:162,magicDefenseMax:143,magicDefenseMin:112,maxHealth:6970,mp:93,hpBar:"small",buffSkill:{},abilitySkill:{block:25},item:[],attackFrame:[{frame:[25],audio:["swing","swing2","swing3"]}],audioDie:["monster-5","Goblin_03","Goblin_01"]}),monstersHollowArcherBSpawn:[{monsters:[],objectSpawn:e.staticSpawnPhaseOneA.value,spawnTotal:1,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapA"}],monsterHollowArcherB:e.components.initArhcer({name:"Hollow Archer",level:19,aggresive:!0,posX:34,posY:15,weaponName:"arrowD",weaponWidth:6,weaponHeight:37,attackRange:500,attackRangeMax:389,attackRangeMin:283,attackMax:155,attackMin:109,defenseMax:103,defenseMin:75,magicDefenseMax:158,magicDefenseMin:113,maxHealth:5830,mp:111,hpBar:"small",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[28],audio:["arrow-fly-2"]}],audioDie:[]}),monstersHollowArcherSpawn:[{monsters:[],objectSpawn:e.staticSpawnPhaseOneA.value,spawnTotal:1,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapA"}],monsterHollowArcher:e.components.initArhcer({name:"Hollow Boomber",level:19,aggresive:!0,posX:20,posY:50,weaponName:"boom",weaponWidth:16,weaponHeight:20,angleSpeed:.3,attackRange:500,attackRangeMax:399,attackRangeMin:273,attackMax:145,attackMin:119,defenseMax:109,defenseMin:77,magicDefenseMax:163,magicDefenseMin:118,maxHealth:5990,mp:117,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[23],audio:["arrow-fly-2"]}],audioDie:[]}),monstersHollowMageSpawn:[{monsters:[],objectSpawn:e.staticOriDngAPassSpawnB.value,spawnTotal:1,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapDungeonA",pions:{monsterHollowSpear:1,monsterHollowArmored:1,monsterHollowArcherB:1}},{monsters:[],objectSpawn:e.staticOriDngAPassSpawnC.value,spawnTotal:1,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapDungeonA",pions:{monsterHollowSpear:1,monsterHollowArmored:1,monsterHollowArcher:1}}],monsterHollowMage:e.components.initMage({name:"Hollow Mage",level:20,aggresive:!0,attackRange:500,attackRangeMax:435,attackRangeMin:372,attackMax:175,attackMin:152,defenseMax:135,defenseMin:93,magicDefenseMax:164,magicDefenseMin:112,maxHealth:6300,mp:187,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[20]}],audioDie:[]}),monstersBoarJrSpawn:[{monsters:[],objectSpawn:e.staticOriMapAADngBPassSpawnC.value,spawnTotal:5,reSpawnTick:1500,reSpawnTickFixed:1500,install:!1,location:"mapAADungeonB"},{monsters:[],objectSpawn:e.staticOriMapAADngBPassSpawnE.value,spawnTotal:3,reSpawnTick:1500,reSpawnTickFixed:1500,install:!1,location:"mapAADungeonB"}],monsterBoarJr:e.components.initSpear({name:"Bedrock Cliff",level:17,aggresive:!1,attackRange:70,attackRangeMax:115,attackRangeMin:82,attackMax:335,attackMin:241,defenseMax:107,defenseMin:82,magicDefenseMax:122,magicDefenseMin:102,maxHealth:13350,mp:127,hpBar:"small",buffSkill:{},abilitySkill:{},item:[{itemName:"Bedrock Meat",spawn:{max:23,min:18},prob:70,texture:{name:"Ness Scale",width:74,height:68}},{itemName:"Bedrock Bone",spawn:{max:23,min:18},prob:70,texture:{name:"Ness Scale",width:74,height:68}},{itemName:"Bedrock Fang",spawn:{max:30,min:23},prob:86,texture:{name:"Ness Scale",width:74,height:68}}],attackFrame:[{frame:[18]}],audioDie:[]}),monstersWhiteBoarJrSpawn:[{monsters:[],objectSpawn:e.staticOriMapAADngBPassSpawnD.value,spawnTotal:5,reSpawnTick:1500,reSpawnTickFixed:1500,install:!1,location:"mapAADungeonB"},{monsters:[],objectSpawn:e.staticOriMapAADngBPassSpawnE.value,spawnTotal:3,reSpawnTick:1500,reSpawnTickFixed:1500,install:!1,location:"mapAADungeonB"}],monsterWhiteBoarJr:e.components.initSpear({name:"Bedrock Cliff",level:17,aggresive:!1,attackRange:70,attackRangeMax:111,attackRangeMin:84,attackMax:325,attackMin:231,defenseMax:127,defenseMin:92,magicDefenseMax:112,magicDefenseMin:91,maxHealth:13150,mp:124,hpBar:"small",buffSkill:{},abilitySkill:{},item:[{itemName:"Bedrock Meat",spawn:{max:23,min:18},prob:70,texture:{name:"Ness Scale",width:74,height:68}},{itemName:"Bedrock Bone",spawn:{max:23,min:18},prob:70,texture:{name:"Ness Scale",width:74,height:68}},{itemName:"Bedrock Fang",spawn:{max:30,min:23},prob:86,texture:{name:"Ness Scale",width:74,height:68}}],attackFrame:[{frame:[18]}],audioDie:[]}),monstersMinatourArcherSpawn:[{monsters:[],objectSpawn:e.staticOriMapAADngAPassSpawnF.value,spawnTotal:1,reSpawnTick:5e3,reSpawnTickFixed:5e3,install:!1,location:"mapAADungeonA"}],monsterMinatourArcher:e.components.initArhcer({name:"Minotaur Archer",level:21,aggresive:!0,posX:80,posY:70,weaponName:"arrowC",weaponWidth:9,weaponHeight:53,attackRange:500,attackRangeMax:445,attackRangeMin:352,attackMax:195,attackMin:162,defenseMax:145,defenseMin:108,magicDefenseMax:189,magicDefenseMin:135,maxHealth:12700,mp:168,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[22],audio:["arrow-fly-2"]}],audioDie:[]}),monstersMinatourSpearSpawn:[{monsters:[],objectSpawn:e.staticOriMapAADngAPassSpawnF.value,spawnTotal:1,reSpawnTick:5e3,reSpawnTickFixed:5e3,install:!1,location:"mapAADungeonA"}],monsterMinatourSpear:e.components.initSpear({name:"Minotaur Spear ",level:21,aggresive:!0,attackRange:50,attackRangeMax:135,attackRangeMin:102,attackMax:223,attackMin:153,defenseMax:153,defenseMin:92,magicDefenseMax:187,magicDefenseMin:138,maxHealth:12645,mp:168,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[10,17],audio:["swing","swing2","swing3"]}],audioDie:[]}),monstersMinatourArmoredSpawn:[{monsters:[],objectSpawn:e.staticOriMapAADngAPassSpawnE.value,spawnTotal:2,reSpawnTick:5e3,reSpawnTickFixed:5e3,install:!1,location:"mapAADungeonA"}],monsterMinatourArmored:e.components.initArmored({name:"Manatour Spear",level:21,aggresive:!0,attackRange:100,attackRangeMax:125,attackRangeMin:109,attackMax:355,attackMin:313,defenseMax:234,defenseMin:189,magicDefenseMax:217,magicDefenseMin:168,maxHealth:16500,mp:165,hpBar:"medium",buffSkill:{},abilitySkill:{block:20},item:[],attackFrame:[{frame:[20],audio:["swing","swing2","swing3"]}],audioDie:[]}),monstersMinatourMageSpawn:[{monsters:[],objectSpawn:e.staticOriMapAADngAPassSpawnC.value,spawnTotal:1,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapAADungeonA",pions:{monsterMinatourSpear:1,monsterMinatourArmored:1,monsterMinatourArcher:1}},{monsters:[],objectSpawn:e.staticOriMapAADngAPassSpawnD.value,spawnTotal:1,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapAADungeonA",pions:{monsterMinatourSpear:1,monsterMinatourArmored:1,monsterMinatourArcher:1}}],monsterMinatourMage:e.components.initMage({name:"Manatour Mage",level:23,aggresive:!0,attackRange:500,attackRangeMax:475,attackRangeMin:418,attackMax:205,attackMin:209,defenseMax:155,defenseMin:103,magicDefenseMax:224,magicDefenseMin:162,maxHealth:15764,mp:225,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[25]}],audioDie:[]}),monstersGoblinWarriorArcherSpawn:[{monsters:[],objectSpawn:e.staticOriDngDPassSpawnB.value,spawnTotal:3,reSpawnTick:5e3,reSpawnTickFixed:5e3,respawnLimit:1,install:!1,location:"mapDungeonD"}],monsterGoblinWarriorArcher:e.components.initArhcer({name:"High Goblin Archer",level:22,aggresive:["elf","oval","human"],posX:80,posY:70,weaponName:"arrowC",weaponWidth:9,weaponHeight:53,attackRange:500,attackRangeMax:452,attackRangeMin:369,attackMax:205,attackMin:172,defenseMax:225,defenseMin:188,magicDefenseMax:243,magicDefenseMin:205,maxHealth:17500,mp:175,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[25],audio:["arrow-fly-2"]}],audioDie:[]}),monstersGoblinWarriorSpearSpawn:[{monsters:[],objectSpawn:e.staticOriDngDPassSpawnC.value,spawnTotal:3,reSpawnTick:5e3,respawnLimit:1,reSpawnTickFixed:5e3,install:!1,location:"mapDungeonD"}],monsterGoblinWarriorSpear:e.components.initSpear({name:"High Goblin Spear",level:22,aggresive:["elf","oval","human"],attackRange:70,attackRangeMax:215,attackRangeMin:172,attackMax:472,attackMin:375,defenseMax:238,defenseMin:208,magicDefenseMax:249,magicDefenseMin:211,maxHealth:16300,mp:172,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[15],audio:["swing","swing2","swing3"]}],audioDie:[]}),monstersGoblinWarriorArmoredSpawn:[{monsters:[],objectSpawn:e.staticOriDngDPassSpawnD.value,spawnTotal:2,reSpawnTick:5e3,respawnLimit:1,reSpawnTickFixed:5e3,install:!1,location:"mapDungeonD"}],monsterGoblinWarriorArmored:e.components.initArmored({name:"High Goblin Spear",level:22,aggresive:["elf","oval","human"],attackRange:70,attackRangeMax:192,attackRangeMin:152,attackMax:365,attackMin:333,defenseMax:288,defenseMin:238,magicDefenseMax:279,magicDefenseMin:231,maxHealth:18300,mp:161,hpBar:"medium",buffSkill:{},abilitySkill:{block:20},item:[],attackFrame:[{frame:[15],audio:["swing","swing2","swing3"]}],audioDie:[]}),monstersGoblinWarriorMageSpawn:[{monsters:[],objectSpawn:e.staticOriDngDPassSpawnE.value,spawnTotal:1,reSpawnTick:5e3,reSpawnTickFixed:5e3,respawnLimit:1,install:!1,location:"mapDungeonD",pions:{monsterGoblinWarriorArcher:1,monsterGoblinWarriorSpear:1,monsterGoblinWarriorArmored:1}},{monsters:[],objectSpawn:e.staticOriDngDPassSpawnF.value,spawnTotal:1,reSpawnTick:5e3,reSpawnTickFixed:5e3,respawnLimit:1,install:!1,location:"mapDungeonD",pions:{monsterGoblinWarriorArcher:1,monsterGoblinWarriorSpear:1,monsterGoblinWarriorArmored:1}}],monsterGoblinWarriorMage:e.components.initMage({name:"High Goblin Mage",level:23,aggresive:["elf","oval","human"],attackRange:500,attackRangeMax:515,attackRangeMin:458,attackMax:255,attackMin:239,defenseMax:155,defenseMin:103,magicDefenseMax:314,magicDefenseMin:252,maxHealth:15900,mp:232,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[25]}],audioDie:[]}),monstersElfArcherSpawn:[],monsterElfArcher:e.components.initArhcer({name:"Elf Archer",level:22,aggresive:!1,posX:80,posY:70,weaponName:"arrow",weaponWidth:7,weaponHeight:44,attackRange:500,attackRangeMax:452,attackRangeMin:369,attackMax:205,attackMin:172,defenseMax:225,defenseMin:188,magicDefenseMax:243,magicDefenseMin:205,maxHealth:16500,mp:178,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[27],audio:["arrow-fly-2"]}],audioDie:[]}),monstersElfArmoredSpawn:[],monsterElfArmored:e.components.initArmored({name:"Elf Armor",level:22,aggresive:!1,attackRange:70,attackRangeMax:192,attackRangeMin:152,attackMax:365,attackMin:333,defenseMax:288,defenseMin:238,magicDefenseMax:279,magicDefenseMin:231,maxHealth:18300,mp:175,hpBar:"medium",buffSkill:{},abilitySkill:{block:20},item:[],attackFrame:[{frame:[18],audio:["swing","swing2","swing3"]}],audioDie:[]}),monstersElfSpearSpawn:[],monsterElfSpear:e.components.initSpear({name:"Elf Spear",level:22,aggresive:!1,attackRange:70,attackRangeMax:215,attackRangeMin:172,attackMax:238,attackMin:145,defenseMax:238,defenseMin:208,magicDefenseMax:249,magicDefenseMin:211,maxHealth:16300,mp:182,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[9,25],audio:["swing","swing2","swing3"]}],audioDie:[]}),monstersElfMageSpawn:[{monsters:[],objectSpawn:e.staticOriDngDPassSpawnB.value,spawnTotal:1,reSpawnTick:5e3,reSpawnTickFixed:5e3,install:!1,location:"mapDungeonD",pions:{monsterElfArmored:1,monsterElfArcher:1}},{monsters:[],objectSpawn:e.staticOriDngDPassSpawnE.value,spawnTotal:1,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapDungeonD",pions:{monsterElfArmored:1,monsterElfSpear:1}}],monsterElfMage:e.components.initMage({name:"Elf Mage",level:23,aggresive:!1,attackRange:500,attackRangeMax:515,attackRangeMin:458,attackMax:255,attackMin:239,defenseMax:155,defenseMin:103,magicDefenseMax:314,magicDefenseMin:252,maxHealth:15900,mp:275,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[15]}],audioDie:[]}),monstersHumanArcherSpawn:[],monsterHumanArcher:e.components.initArhcer({name:"Hunter Archer",level:22,aggresive:!1,posX:80,posY:70,weaponName:"arrow",weaponWidth:7,weaponHeight:44,attackRange:500,attackRangeMax:452,attackRangeMin:369,attackMax:205,attackMin:172,defenseMax:225,defenseMin:188,magicDefenseMax:243,magicDefenseMin:205,maxHealth:15500,mp:185,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[27],audio:["arrow-fly-2"]}],audioDie:[]}),monstersHumanArmoredSpawn:[],monsterHumanArmored:e.components.initArmored({name:"Hunter Armor",level:22,aggresive:!1,attackRange:70,attackRangeMax:192,attackRangeMin:152,attackMax:365,attackMin:333,defenseMax:288,defenseMin:238,magicDefenseMax:279,magicDefenseMin:231,maxHealth:18300,mp:163,hpBar:"medium",buffSkill:{},abilitySkill:{block:20},item:[],attackFrame:[{frame:[10,18],audio:["swing","swing2","swing3"]}],audioDie:[]}),monstersHumanMageSpawn:[{monsters:[],objectSpawn:e.staticOriDngDPassSpawnF.value,spawnTotal:1,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapDungeonD",pions:{monsterHumanArmored:1,monsterHumanArcher:1}}],monsterHumanMage:e.components.initMage({name:"Hunter Mage",level:23,aggresive:!1,attackRange:500,attackRangeMax:515,attackRangeMin:458,attackMax:255,attackMin:239,defenseMax:155,defenseMin:103,magicDefenseMax:314,magicDefenseMin:252,maxHealth:15900,mp:263,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[17]}],audioDie:[]}),monstersEarthElementalMageSpawn:[{monsters:[],objectSpawn:e.staticOriMapDDngAPassSpawnA.value,spawnTotal:2,reSpawnTick:500,reSpawnTickFixed:500,respawnLimit:1,forceGravity:!0,install:!1,location:"mapDDungeonA"},{monsters:[],objectSpawn:e.staticOriMapDDngAPassSpawnC.value,spawnTotal:2,reSpawnTick:500,reSpawnTickFixed:500,forceGravity:!0,respawnLimit:1,install:!1,location:"mapDDungeonA"}],monsterEarthElementalMage:e.components.initMage({name:"Garnet Mage",level:24,aggresive:!0,attackRange:500,attackRangeMax:562,attackRangeMin:489,attackMax:295,attackMin:232,defenseMax:315,defenseMin:253,magicDefenseMax:358,magicDefenseMin:295,maxHealth:28500,mp:293,hpBar:"big",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[20]}],audioDie:[]}),monstersEarthElementalMageBSpawn:[{monsters:[],objectSpawn:e.staticOriMapDDngAPassSpawnD.value,spawnTotal:2,reSpawnTick:500,reSpawnTickFixed:500,respawnLimit:1,forceGravity:!0,install:!1,location:"mapDDungeonA"},{monsters:[],objectSpawn:e.staticOriMapDDngAPassSpawnE.value,spawnTotal:2,reSpawnTick:500,reSpawnTickFixed:500,respawnLimit:1,forceGravity:!0,install:!1,location:"mapDDungeonA"}],monsterEarthElementalMageB:e.components.initMage({name:"Critine Mage",level:25,aggresive:!0,attackRange:500,attackRangeMax:575,attackRangeMin:499,attackMax:295,attackMin:232,defenseMax:325,defenseMin:263,magicDefenseMax:378,magicDefenseMin:315,maxHealth:30500,mp:307,hpBar:"big",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[20]}],audioDie:[]}),monstersWolfArcherSpawn:[],monsterWolfArcher:e.components.initArhcer({name:"Wolf Archer",level:26,aggresive:!0,posX:80,posY:30,weaponName:"boom",weaponWidth:16,weaponHeight:20,angleSpeed:.3,attackRange:500,attackRangeMax:605,attackRangeMin:529,attackMax:305,attackMin:262,defenseMax:375,defenseMin:283,magicDefenseMax:408,magicDefenseMin:345,maxHealth:32500,mp:208,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[25],audio:["arrow-fly-2"]}],audioDie:[]}),monstersWolfSpearSpawn:[],monsterWolfSpear:e.components.initSpear({name:"Wolf Spear",level:26,aggresive:!0,attackRange:100,attackRangeMax:311,attackRangeMin:277,attackMax:605,attackMin:529,defenseMax:382,defenseMin:298,magicDefenseMax:418,magicDefenseMin:365,maxHealth:33500,mp:218,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[20],audio:["swing","swing2","swing3"]}],audioDie:[]}),monstersWolfMageSpawn:[],monsterWolfMage:e.components.initMage({name:"Wolf Mage",level:26,aggresive:!0,attackRange:500,attackRangeMax:598,attackRangeMin:521,attackMax:305,attackMin:262,defenseMax:375,defenseMin:283,magicDefenseMax:438,magicDefenseMin:375,maxHealth:32800,mp:358,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[29]}],audioDie:[]}),monstersWolfArmoredSpawn:[],monsterWolfArmored:e.components.initArmored({name:"Wolf Armor",level:26,aggresive:!0,attackRange:70,attackRangeMax:275,attackRangeMin:222,attackMax:525,attackMin:453,defenseMax:412,defenseMin:333,magicDefenseMax:413,magicDefenseMin:353,maxHealth:35800,mp:232,hpBar:"medium",buffSkill:{},abilitySkill:{block:20},item:[],attackFrame:[{frame:[18],audio:["swing","swing2","swing3"]}],audioDie:[]}),monstersWolfHunterSpawn:[],monsterWolfHunter:e.components.initSpear({name:"Wolf Hunter",level:26,aggresive:!0,attackRange:100,attackRangeMax:311,attackRangeMin:277,attackMax:565,attackMin:489,defenseMax:372,defenseMin:268,magicDefenseMax:388,magicDefenseMin:335,maxHealth:33500,mp:247,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[20],audio:["swing","swing2","swing3"]}],audioDie:[]}),monstersWolfHummerSpawn:[{monsters:[],objectSpawn:e.staticOriDngHPassSpawnB.value,spawnTotal:1,reSpawnTick:500,reSpawnTickFixed:500,install:!1,location:"mapDungeonH",pions:{monsterWolfMage:1,monsterWolfSpear:1,monsterWolfArmored:1,monsterWolfArcher:1,monsterWolfHunter:1}}],monsterWolfHummer:e.components.initSpear({name:"Wolf Hummer",level:26,aggresive:!0,attackRange:70,attackRangeMax:311,attackRangeMin:277,attackMax:645,attackMin:559,defenseMax:402,defenseMin:328,magicDefenseMax:438,magicDefenseMin:385,maxHealth:36900,mp:254,hpBar:"big",buffSkill:{skill:"lightningShock"},abilitySkill:{},item:[{itemName:"Lapis Fragment",spawn:{max:1,min:1},prob:85,texture:{name:"Ness Scale",width:74,height:68}}],attackFrame:[{frame:[20],audio:["swing","swing2","swing3"]}],audioDie:[]}),monstersBugTailWarriorSpawn:[{monsters:[],objectSpawn:e.staticOriDngHPassSpawnD.value,spawnTotal:3,reSpawnTick:5e3,reSpawnTickFixed:5e3,install:!1,location:"mapDungeonH"}],monsterBugTailWarrior:e.components.initSpear({name:"Nortus Green Tail",level:24,aggresive:!0,attackRange:100,attackRangeMax:271,attackRangeMin:217,attackMax:495,attackMin:439,defenseMax:342,defenseMin:268,magicDefenseMax:388,magicDefenseMin:325,maxHealth:28500,mp:177,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[{itemName:"Nortus Green Tail Scale",spawn:{max:23,min:18},prob:70,texture:{name:"Ness Scale",width:74,height:68}},{itemName:"Nortus Tail Heart",spawn:{max:23,min:18},prob:70,texture:{name:"Ness Scale",width:74,height:68}}],attackFrame:[{frame:[27],audio:["swing","swing2","swing3"]}],audioDie:[]}),monstersBugTailWarriorRedSpawn:[{monsters:[],objectSpawn:e.staticOriDngHPassSpawnD.value,spawnTotal:3,reSpawnTick:5e3,reSpawnTickFixed:5e3,install:!1,location:"mapDungeonH"}],monsterBugTailWarriorRed:e.components.initSpear({name:"Nortus Red Tail",level:24,aggresive:!0,attackRange:100,attackRangeMax:271,attackRangeMin:217,attackMax:495,attackMin:439,defenseMax:342,defenseMin:268,magicDefenseMax:388,magicDefenseMin:325,maxHealth:28500,mp:179,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[{itemName:"Nortus Red Tail Scale",spawn:{max:23,min:18},prob:70,texture:{name:"Ness Scale",width:74,height:68}},{itemName:"Nortus Tail Heart",spawn:{max:23,min:18},prob:70,texture:{name:"Ness Scale",width:74,height:68}}],attackFrame:[{frame:[27],audio:["swing","swing2","swing3"]}],audioDie:[]}),monstersYetiAlphaSpawn:[{monsters:[],objectSpawn:e.staticOriDngHPassSpawnE.value,spawnTotal:3,reSpawnTick:2500,reSpawnTickFixed:2500,install:!1,location:"mapDungeonH"}],monsterYetiAlpha:e.components.initSpear({name:"Yeti Crasher",level:27,aggresive:!0,attackRange:100,attackRangeMax:341,attackRangeMin:307,attackMax:705,attackMin:624,defenseMax:449,defenseMin:361,magicDefenseMax:493,magicDefenseMin:427,maxHealth:41500,mp:231,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[{itemName:"Tainted Gem",spawn:{max:1,min:1},prob:70,texture:{name:"Ness Scale",width:74,height:68}}],attackFrame:[{frame:[20],audio:["swing","swing2","swing3"]}],audioDie:[]}),monstersYetiSpawn:[{monsters:[],objectSpawn:e.staticOriDngHPassSpawnF.value,spawnTotal:3,reSpawnTick:2500,reSpawnTickFixed:2500,install:!1,location:"mapDungeonH"}],monsterYeti:e.components.initSpear({name:"Yeti Crabble",level:27,aggresive:!0,attackRange:100,attackRangeMax:331,attackRangeMin:297,attackMax:695,attackMin:619,defenseMax:432,defenseMin:358,magicDefenseMax:488,magicDefenseMin:415,maxHealth:39900,mp:227,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[{itemName:"Tainted Soul",spawn:{max:1,min:1},prob:70,texture:{name:"Ness Scale",width:74,height:68}}],attackFrame:[{frame:[20],audio:["swing","swing2","swing3"]}],audioDie:[]}),monstersBeastElementalArmoredSpawn:[{monsters:[],objectSpawn:e.staticOriDngEPassSpawnB.value,spawnTotal:2,reSpawnTick:2500,reSpawnTickFixed:2500,respawnLimit:1,install:!1,location:"mapDungeonE",pions:{monsterBeastElementalSpear:1}},{monsters:[],objectSpawn:e.staticOriDngEPassSpawnC.value,spawnTotal:2,reSpawnTick:2500,reSpawnTickFixed:2500,respawnLimit:1,install:!1,location:"mapDungeonE",pions:{monsterBeastElementalSpear:1}},{monsters:[],objectSpawn:e.staticOriDngEPassSpawnD.value,spawnTotal:2,reSpawnTick:2500,reSpawnTickFixed:2500,respawnLimit:1,install:!1,location:"mapDungeonE",pions:{monsterBeastElementalSpear:1}},{monsters:[],objectSpawn:e.staticOriDngEPassSpawnE.value,spawnTotal:2,reSpawnTick:2500,reSpawnTickFixed:2500,respawnLimit:1,install:!1,location:"mapDungeonE",pions:{monsterBeastElementalSpear:1}},{monsters:[],objectSpawn:e.staticOriDngEPassSpawnF.value,spawnTotal:2,reSpawnTick:2500,reSpawnTickFixed:2500,respawnLimit:1,install:!1,location:"mapDungeonE",pions:{monsterBeastElementalSpear:1}}],monsterBeastElementalArmored:e.components.initArmored({name:"Tibias Armor",level:28,aggresive:!0,attackRange:100,attackRangeMax:311,attackRangeMin:257,attackMax:655,attackMin:579,defenseMax:532,defenseMin:460,magicDefenseMax:548,magicDefenseMin:475,maxHealth:49e3,mp:273,hpBar:"big",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[18],audio:["swing","swing2","swing3"]}],audioDie:[]}),monstersBeastElementalSpearSpawn:[],monsterBeastElementalSpear:e.components.initSpear({name:"Tibias Spear",level:28,aggresive:!0,attackRange:100,attackRangeMax:331,attackRangeMin:297,attackMax:695,attackMin:619,defenseMax:482,defenseMin:410,magicDefenseMax:523,magicDefenseMin:445,maxHealth:44e3,mp:259,hpBar:"big",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[21],audio:["swing","swing2","swing3"]}],audioDie:[]}),monstersHumanRoyalSpearSpawn:[],monsterHumanRoyalSpear:e.components.initSpear({name:"Royal Army Spear",level:28,aggresive:!0,attackRange:100,attackRangeMax:331,attackRangeMin:297,attackMax:695,attackMin:619,defenseMax:482,defenseMin:410,magicDefenseMax:523,magicDefenseMin:445,maxHealth:38e3,mp:261,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[17],audio:["swing","swing2","swing3"]}],audioDie:[]}),monstersHumanRoyalArmoredSpawn:[{monsters:[],objectSpawn:e.staticOriDngFPassSpawnB.value,spawnTotal:1,reSpawnTick:2500,reSpawnTickFixed:2500,respawnLimit:2,install:!1,location:"mapDungeonF",pions:{monsterHumanRoyalSpear:1,monsterHumanRoyalArcher:1}},{monsters:[],objectSpawn:e.staticOriDngFPassSpawnC.value,spawnTotal:1,reSpawnTick:2500,reSpawnTickFixed:2500,respawnLimit:2,install:!1,location:"mapDungeonF",pions:{monsterHumanRoyalSpear:1,monsterHumanRoyalArcher:1}},{monsters:[],objectSpawn:e.staticOriDngFPassSpawnD.value,spawnTotal:1,reSpawnTick:2500,reSpawnTickFixed:2500,respawnLimit:2,install:!1,location:"mapDungeonF",pions:{monsterHumanRoyalSpear:1,monsterHumanRoyalArcher:1}},{monsters:[],objectSpawn:e.staticOriDngFPassSpawnE.value,spawnTotal:1,reSpawnTick:2500,reSpawnTickFixed:2500,respawnLimit:2,install:!1,location:"mapDungeonF",pions:{monsterHumanRoyalSpear:1,monsterHumanRoyalArcher:1}}],monsterHumanRoyalArmored:e.components.initArmored({name:"Royal Army Armor",level:28,aggresive:!0,attackRange:100,attackRangeMax:311,attackRangeMin:257,attackMax:635,attackMin:559,defenseMax:532,defenseMin:460,magicDefenseMax:548,magicDefenseMin:475,maxHealth:42e3,mp:231,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[17],audio:["swing","swing2","swing3"]}],audioDie:[]}),monstersHumanRoyalArcherSpawn:[],monsterHumanRoyalArcher:e.components.initArhcer({name:"Royal Army Arhcer",level:28,aggresive:!0,posX:80,posY:70,weaponName:"arrowC",weaponWidth:9,weaponHeight:53,attackRange:500,attackRangeMax:685,attackRangeMin:629,attackMax:322,attackMin:239,defenseMax:462,defenseMin:490,magicDefenseMax:517,magicDefenseMin:445,maxHealth:37900,mp:252,hpBar:"medium",buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[23],audio:["arrow-fly-2"]}],audioDie:[]}),interval:5,spawnMonster:function(t,a,i,s,n,r,o,c){for(i=0;i<a.length;i++)if((s=a[i]).location===t)if(s.install)if(s.monsters.length)for(x=0;x<s.monsters.length;x++)s.monsters[x].play.update()&&s.monsters.splice(x,1);else s.reSpawnTick--,0>s.reSpawnTick&&(s.reSpawnTick=s.reSpawnTickFixed,s.currentRespawn?s.currentRespawn++:s.currentRespawn=1,!s.respawnLimit||s.currentRespawn<s.respawnLimit)&&(s.install=!1);else{for(var h,p,g=s.objectSpawn.position.x,d=s.objectSpawn.position.y,m=function(e){var a=this.variablesMonsterSpawn[t];e=e.split("monster").join("").toLowerCase();for(var i={},s=0,n=a.length;s<n;s++){var r=a[s];if(e===r[1].toLowerCase())return i.additionalBoundsValue=r[2],i.additionalBoundsWidthValue=r[3],i.additionalBoundsHeightValue=r[4],i}}.bind(this),u=0;u<s.spawnTotal;u++){if("monster-black"===n?(h=new this.monsterBlack(s.location,s.objectSpawn),p=e.staticMonsterBlack.value()):"monster-yellow"===n?(h=new this.monsterYellow(s.location,s.objectSpawn),p=e.staticMonsterYellow.value()):"monster-horn"===n?(h=new this.monsterHorn(s.location,s.objectSpawn),p=e.staticMonsterHorn.value()):"monster-slime"===n?(h=new this.monsterSlime(s.location,s.objectSpawn),p=e.staticMonsterSlime.value()):"green-dragon"===n?(h=new this.greenDragon(s.location,s.objectSpawn),p=e.staticGreenDragon.value()):"monster-golem"===n?(h=new this.monsterGolem(s.location,s.objectSpawn),p=e.staticMonsterGolem.value()):(h=new(this["monster"+e.ucFirst(n)])({location:s.location,objSpawn:s.objectSpawn,pitboss:!!s.pions}),p=e.staticGeneralMonster.value(n,r,o,c)),/dungeon/i.test(t)&&!s.forceGravity)var f=g+e.tTH(250,-250),v=d+e.tTH(250,-250);else f=g+=e.tTH(150,-150),v=d-100,s.forceGravity&&(p.forceGravity=!0,v=d);s.monsters.push({play:h,object:p,x:f,y:v})}for(h=s.monsters,u=0;u<s.spawnTotal;u++){v=h[u].x;var b=h[u].y,S=h[u].object;if(e.World.add(e.doW.value,S),"green-dragon"===n)h[u].play.update(this,v,b,s.objectSpawn,S,this.interval+=10,this.items);else if(h[u].play.update(this,v,b,S,this.interval+=10,this.items),s.pions)for(var x in s.pions){for(k=(f=p).position.x,y=f.position.y,monsterConstructor=this[x],staticMonsterConstructor="monsterBlack"===x?e.staticMonsterBlack.value:"monsterYellow"===x?e.staticMonsterYellow.value:e.staticGeneralMonster.value,pionsSpawnTotal=s.pions[x],l=[],interval=5,v=n,"monster-horn"!==n&&(v=(v=x.split("monster").join("")).charAt(0).toLowerCase()+v.slice(1)),b=0;b<pionsSpawnTotal;b++){S=new monsterConstructor({location:s.location,objSpawn:f,pitboss:!1});var B=m(x);if(B=staticMonsterConstructor(v,B.additionalBoundsValue,B.additionalBoundsWidthValue,B.additionalBoundsHeightValue),/dungeon/i.test(t))var k=g+e.tTH(250,-250),y=d+e.tTH(250,-250);else k=g+=e.tTH(150,-150),y=d-100;l.push({play:S,object:B,x:k+=e.tTH(250,-250),y:y-100})}for(B=l,k=0;k<pionsSpawnTotal;k++)v=B[k].x,b=B[k].y,S=B[k].object,e.World.add(e.doW.value,S),B[k].play.update(this,v,b,S,interval+=10,this.items,f),s.monsters.push(B[k]);l.length=0}}s.install=!0}},objSpawnMonster:"",variablesMonsterSpawn:{mapDungeonH:[["monstersWolfArcherSpawn","wolfArcher",75,20,50],["monstersWolfSpearSpawn","wolfSpear",75,0,-30],["monstersWolfMageSpawn","wolfMage",75,0,50],["monstersWolfArmoredSpawn","wolfArmored",75,0,50],["monstersWolfHunterSpawn","wolfHunter",75,20,30],["monstersWolfHummerSpawn","wolfHummer",95,0,-20],["monstersBugTailWarriorSpawn","bugTailWarrior",25,0,85],["monstersBugTailWarriorRedSpawn","bugTailWarriorRed",25,0,85],["monstersYetiAlphaSpawn","yetiAlpha",75,25,50],["monstersYetiSpawn","yeti",75,25,50]],mapDungeonG:[["monstersBoarSpawn","boar",0,0,120],["monstersBoarWhiteSpawn","boarWhite",0,0,120],["monstersFireElementalSpawn","fireElemental",45,0,75],["monstersBugSpawn","bug",-35,0,150],["monstersBugQueenSpawn","bugQueen",-15,0,130]],mapDungeonF:[["monstersHumanRoyalSpearSpawn","humanRoyalSpear",95,20,25],["monstersHumanRoyalArcherSpawn","humanRoyalArcher",95,26,25],["monstersHumanRoyalArmoredSpawn","humanRoyalArmored",95,0,0]],mapDungeonE:[["monstersBeastElementalArmoredSpawn","beastElementalArmored",75,0,30],["monstersBeastElementalSpearSpawn","beastElementalSpear",75,0,40]],mapDungeonD:[["monstersGoblinWarriorArcherSpawn","goblinWarriorArcher",55,0,45],["monstersGoblinWarriorSpearSpawn","goblinWarriorSpear",65,10,50],["monstersGoblinWarriorArmoredSpawn","goblinWarriorArmored",60,25,25],["monstersGoblinWarriorMageSpawn","goblinWarriorMage",65,0,55],["monstersElfArcherSpawn","elfArcher",75,25,35],["monstersElfArmoredSpawn","elfArmored",85,0,20],["monstersElfSpearSpawn","elfSpear",85,0,-25],["monstersElfMageSpawn","elfMage",85,25,45],["monstersHumanArcherSpawn","humanArcher",70,25,45],["monstersHumanArmoredSpawn","humanArmored",80,0,-10],["monstersHumanMageSpawn","humanMage",70,15,45]],mapDungeonC:[["monstersBugWarriorSpawn","bugWarrior",25,0,105],["monstersBugWarriorRedSpawn","bugWarriorRed",25,0,95],["monstersGoblinArcherSpawn","goblinArcher",30,20,85],["monstersGoblinSpearSpawn","goblinSpear",30,0,85]],mapDungeonB:[["monstersGoblinMageSpawn","goblinMage",50,0,65],["monstersGoblinArmoredSpawn","goblinArmored",30,10,85],["monstersGoblinArcherSpawn","goblinArcher",30,20,85],["monstersGoblinSpearSpawn","goblinSpear",30,0,85],["monstersLightElementalSpawn","lightElemental",45,0,75]],mapDungeonA:[["monstersHollowMageSpawn","hollowMage",55,20,65],["monstersHollowSpearSpawn","hollowSpear",25,20,95],["monstersHollowArmoredSpawn","hollowArmored",25,20,95],["monstersHollowArcherBSpawn","hollowArcherB",25,20,95],["monstersHollowArcherSpawn","hollowArcher",55,0,60]],mapDDungeonA:[["monstersEarthElementalMageSpawn","earthElementalMage",85,0,40],["monstersEarthElementalMageBSpawn","earthElementalMageB",85,0,45]],mapAADungeonB:[["monstersBoarJrSpawn","boarJr",-15,0,130],["monstersWhiteBoarJrSpawn","whiteBoarJr",-15,0,130]],mapAADungeonA:[["monstersMinatourArcherSpawn","minatourArcher",75,10,30],["monstersMinatourSpearSpawn","minatourSpear",75,0,0],["monstersMinatourArmoredSpawn","minatourArmored",85,0,15],["monstersMinatourMageSpawn","minatourMage",75,0,30]],mapA:[["monstersHumanArcherSpawn","humanArcher",70,25,45]]},monsterSpawnByMap:function(t,e,a){var i=this.variablesMonsterSpawn[t];if(i)for(var s=0,n=i.length;s<n;s++){var r=i[s];this.spawnMonster(t,this[r[0]],e,a,r[1],r[2],r[3],r[4])}},update:function(){if(this.monsterSpawnByMap(e.currentMap,this.character.position.x,this.character.position.y),this.itemTemp.length)for(var t=0;t<this.itemTemp.length;t++){var a=this.itemTemp[t];a.update(a.object,a.character)&&this.itemTemp.splice(t,1)}}},i=a.variablesMonsterSpawn,s=["sekletonArmored","sekletonArcher","mage-character"];for(t in i){for(var n={staticName:{}},r=0,o=i[t];r<o.length;r++){var l={};l.src=e.path+"/"+o[r][1]+"-right.png",n.staticName[o[r][1]]=l}for(r=0,o=s;r<o.length;r++)(l={}).src=e.path+"/"+o[r]+"-right.png",n.staticName[o[r]]=l;e.extend(e.hEP.value[t].content,n)}n=l=0,a.objSpawnMonster=function(){var t,e=[];for(t in a)/spawn/i.test(t)&&a[t]instanceof Array&&e.push(a[t]);return e}(),e.extend(a,new e.components.companions,!0),e.extend(a,new e.components.items,!0),e.monsterControl=a},ifbW:function(){var t=this,e={characterDamagePool:function(t,e,a,i){this.monsterDamagePool(t,e,a,i)},companions:[],monsterSekletonArmored:t.components.initArmored,monsterSekletonArcher:t.components.initArhcer,objSpawnMonster:"",create:function(e){var a=t.ThQ.value;if(e.summoner.pions)for(var i=e.summoner.pions,s=0,n=this.companions;s<n.length;s++)n[s].play.spell===e.spell&&this.deletePion(i,n[s]);for(var r in e.pions){i=e.summoner.position.x,s=e.summoner.position.y,n=e.summoner;var o=r.split("monster").join(""),l=0,c=0;"sekletonArcher"===(o=o.charAt(0).toLowerCase()+o.slice(1))?(c=l=60,additionalBoundsWidthValue=0):"sekletonArmored"===o&&(l=60,c=30,additionalBoundsWidthValue=0);for(var h=0;h<e.pions[r].value;h++){var p=new(this[r](e.pions[r].parameters[h]))({location:a,spell:e.spell,objSpawn:n,itemLabel:e.pions[r].itemLabel[h],pitboss:!1}),g=t.staticGeneralMonster.value(o,l,additionalBoundsWidthValue,c);if(/mapAADungeonA|mapDDungeonA/i.test(t.currentMap)){g.forceGravity=e.summoner.forceGravity;var d=i+t.tTH(50,-50),m=s}else/dungeon/i.test(a)?(d=i+t.tTH(250,-250),m=s+t.tTH(250,-250)):(d=i+=t.tTH(150,-150),m=s-100);t.World.add(t.doW.value,g),p.update(this,d,m,g,t.tTH(20,5),"",n),e.monsters.push({duration:e.durationTick,summoner:e.summoner,play:p,object:g,x:d,y:m,interval:t.tTH(20,5)})}for(i=0;i<e.monsters.length;i++)this.companions.push(e.monsters[i]);e.monsters.length=0}},deletePionBySpell:function(t){for(var e=0,a=this.companions;e<a.length;e++)a[e].play.spell===t&&(a[e].play.object.deleted=!0,a[e].play.maxHealth=0,a[e].play.health=0,a[e].play.monsterParameters.maxHealth=0,a.splice(a,1))},deletePion:function(t,e){for(var a=0;a<t.length;a++)if(t[a].label===e.play.object.label){e.play.object.deleted=!0,e.play.maxHealth=0,e.play.health=0,e.play.monsterParameters.maxHealth=0,t.splice(t,1);break}},update:function(){if(this.companions.length)for(var t=0;t<this.companions.length;t++){var e=this.companions[t];e.duration--,0>e.duration&&(e.play.object.deleted=!0,e.play.maxHealth=0,e.play.health=0,e.play.monsterParameters.maxHealth=0),e.play.update()&&(this.deletePion(e.summoner.pions,e),this.companions.splice(t,1))}}};e.objSpawnMonster=function(){var t,a=[];for(t in e)/companions/i.test(t)&&e[t]instanceof Array&&a.push(e[t]);return a}(),t.extend(e,new t.components.companions,!0),t.companionsControl=e},nvSk:function(t){if(t.objectMarker.state){for(var e,a,i=[],s=[],n=t.objectMarker.monster.position,r=0,o=t.objectMarker.registerMonster;r<o.length;r++){var l=o[r].position;l=Math.round(scope.distanceAndAngleBetweenTwoPoints(n.x,n.y,l.x,l.y).distance),i.push(l),s.push({distance:l,label:o[r].label,objMarker:o[r]})}for(i.sort(function(t,e){return t-e}),r=0;r<s.length;r++)if(s[r].distance===i[0]){e=s[r].label,a=s[r].objMarker;break}t.objectMarker.registerMonster=[],i=scope.characterControl,e?/sekleton/i.test(e)?i.pointingAnimate.initMb?i.pointingAnimate.moveEventMb(n):i.pointingAnimate.updateLoadingMb(a)&&i.pointingAnimate.startEventMb(n):(i.monsterTarget.value=e,i.monsterTarget=e,i.monsterParameters=scope.monsterParameters.value.get(e),scope.jgeE.value=e,i.pointingAnimate.initMb&&i.pointingAnimate.moveEventMb(n,a)):(i.pointingAnimate.initMb&&i.pointingAnimate.moveEventMb(n),i.pointingAnimate.drawLoadingMb.curPerc=0)}else(i=scope.characterControl.pointingAnimate).initMb&&(i.endEventMb(t.objectMarker.monster.position),i.drawLoadingMb.curPerc=0,i.initMb=!1)},UndW:function(t,e){var a=t;scope.ThQ.value=t,scope.enviOrnaments=scope.staticGeometry.storage.get(t),scope.enviLayer=scope.staticGeometry.storageLayer.get(t),scope.enviOrnamentsSvg=scope.staticGeometry.storageSVG.get(t),scope.enviOrnamentsPortal=scope.staticGeometry.storagePortal.get(t),scope.enviMiniMap=scope.staticGeometry.storageMap.get(t),scope.objDrawTranslate=scope.ufR.value,scope.characterMage=scope.oval.value,scope.deQB(t),scope.allMapContent=scope.hEP.value[t],scope.oKLa(),scope.preventBugLoad=!0,/dungeon/i.test(t)?scope.engine.world.gravity.y=0:scope.engine.world.gravity.y=1.7,scope.engine.world.gravity.x=0,scope.isSwitchMapActive=!0,scope.staticControl.installMapObject("mapA","remove"),scope.staticControl.installMapObject(t,"add"),scope.screenTransition("download",t,function(){if(setTimeout(function(){scope.isSwitchMapActive=!1},950),e){var i=e.charPoints.pathPoint,s=e.charPoints.userPoint,n=scope.hEP.value[t].content.staticOriGroupPathPoints[0].position;for(var r in scope.Body.setPosition(scope.characterMage,{x:s.x-(i.x-n.x),y:s.y-(i.y-n.y)}),e.charParams.rigBody=scope.characterControl,e.charParams.object=scope.characterMage,scope.REq.value=e.charParams,scope.FwWW.value(!1,!0),scope.nqAW.value.set("oval",e.charBag),scope.HiQx.value.storage=e.regMagicItem,scope.HYd.value.storage=e.charQuest,scope.E_D.value("load",e.charQuest),scope.itemShop.value.set("global",e.itemShop),scope.oval.value.forceGravity=e.charForceGravity,i=JSON.parse(e.charSkills),s=JSON.parse(e.systemSkills),i)i[r].loading=new scope.loadingAct(25,"rgba( 0, 0, 0, 0.7 )",i[r].tick),i[r].slotLocation&&(i[r].state=!0);for(r in s)s[r].loading=new scope.loadingAct(25,"rgba( 0, 0, 0, 0.7 )",s[r].tick);scope.NMns.value.set("oval",i),scope.csYe.value.skills=s,scope.YdJv(!0),scope.qeH_.value(),scope.dragBar(),scope.toggleButton(),function(){var t,e={hideShadowNpc:{title:"Be an 'Enchanter'",childQuest:"",fn:function(){scope.staticOriNpcPassSpawnB.value.isVisible=!1}},hideElementalNpc:{title:"Fire Elemental",childQuest:"",fn:function(){scope.staticOriNpcPassSpawnD.value.isVisible=!1}},bugQuestA:{title:"familiar",childQuest:"questB",fn:function(){scope.ZsYu.value.familiarQuestA()}},bugQuestB:{title:"Slay the Goblins",childQuest:"",fn:function(){var t=scope.staticOriPortalBmapDungeonG.value.attach;scope.staticOriPortalBmapDungeonG.value.isVisible=!0,scope[t].value.isVisible=!0}},goblinRaceQuestF:{title:"Talk to Elder Goblin",childQuest:"questF",fn:function(){var t=scope.staticOriPortalBmapDungeonC.value.attach;scope.staticOriPortalBmapDungeonC.value.isVisible=!0,scope[t].value.isVisible=!0}},bloodLichArcherQuestF:{title:"Archer Companion",childQuest:"",fn:function(){scope.ZsYu.value.bloodlicharcherQuestE()}},khalpartyQuestG:{title:"Khal Sign",childQuest:"questG",fn:function(){scope.ZsYu.value.khalQuestG()}},lapisQuestD:{title:"Lapis The Shining Gemstone",childQuest:"questD",fn:function(){scope.ZsYu.value.lapisQuestD()}}},i=scope.HYd.value.storage;for(t in scope.JhuQ(a),i){var s=i[t].status;if(s){for(var n in e)if(s.title.toLowerCase()===e[n].title.toLowerCase())if(s.isFinish)e[n].fn();else{var r,o=s.questTree;for(r in o)e[n].childQuest===r&&e[n].fn()}for(r in o=s.questTree)/npc/i.test(o[r].target)&&(scope[o[r].target].value.isVisible=!!s.active)}}}()}else scope.dragBar(),scope.toggleButton();scope.screenTransition("build-map")},!0),scope.jgeE.value="","mapDDungeonA"===scope.ThQ.value&&scope._hsQ.value&&scope.removeClass(scope.qs("jump-right-nav"),"hidden");var i=document.getElementById("fps");setInterval(function(){scope.hSdP.value(),scope.BegQ.value(),scope.monsterControl.triggerMonsterFn("aggresive"),scope.isLanscape&&scope.addClass(scope.qs("orientation-alert"),"hidden"),i.innerHTML=(1e3/scope.frameTime).toFixed(1)+" fps"},1e3)},JhuQ:function(t){if(scope.preventBugLoad)for(var e in(t=scope.hEP.value[t]).content)if(/staticOriPortal/i.test(e)&&scope[e]&&scope[e].value.attach){var a=(t=scope[e].value).attach;t.isVisible=!0,scope[a].value.isVisible=!0}},oidh:function(){for(var t=0,e=scope.YFjd.value.storage;t<e.length;t++)0<e[t].status.tick?e[t].status.tick--:e[t].status.always?(e[t].status.fn(),e[t].status.tick=e[t].status.tickUpdate):(e[t].status.fn(),e.splice(t,1))},YdJv:function(t){var e=this;t={object:e.oval.value,label:e.oval.value.label,staticWallOutter:e.AyD.value(),objTranslate:e.ufR.value,activeMap:"",dungeonActive:!1,container:e.canvas,moveSpeed:3,jumpSpeed:-22.5,mouseTempX:0,mouseTempY:0,mousePosX:0,mousePosY:0,moveX:3,moveStaticX:3,moveStaticY:2,moveLeft:!1,moveRight:!1,moveUp:!1,moveDown:!1,moveStrict:!1,translateLeft:!0,translateRight:!0,leftPass:!1,jump:!1,preventControl:!1,isTranslateY:!0,isAttacking:!1,monsterTarget:"",monsterParameters:"",hitNumber:[],loadingHpPotion:new e.loadingAct(25,"rgba( 255, 22, 22, 0.5 )"),hpTickState:!0,hpPotionUpdate:function(t){var a=e.slotButtonHp.getBoundingClientRect();return this.loadingHpPotion.update(e.context,a.left+(a.right-a.left)/2,a.bottom+(a.top-a.bottom)/2+1,t)},loadingMpPotion:new e.loadingAct(25,"rgba( 83, 83, 255, 0.5 )"),mpTickState:!0,isSkillActive:!1,isSkillCasting:!1,mpPotionUpdate:function(t){var a=e.slotButtonMp.getBoundingClientRect();return this.loadingMpPotion.update(e.context,a.left+(a.right-a.left)/2,a.bottom+(a.top-a.bottom)/2+1,t)},characterParameters:e.REq.value,buffDelay:0,buffAffected:[],buffGUI:function(t,a,i){if("add"===t)(t=document.createElement("div")).className="buff-skill "+i,t.id=a,a=document.createElement("span"),t.appendChild(a),e.buffBox.insertBefore(t,e.buffBox.firstChild);else if("remove"===t)for(i=e.slice(e.buffBox.getElementsByTagName("div")),t=0;t<i.length;t++)if(i[t].id===a){i[t].remove();break}},buffHeal:function(t){t=Math.round(parseInt(this.characterParameters.maxHealth)*(parseInt(t)/100)+e.tTH(15,0)),this.hitNumber.push(new e.hitNumber("+"+t,"heal")),this.characterParameters.health=this.characterParameters.health+t<this.characterParameters.maxHealth?this.characterParameters.health+t:Math.round(this.characterParameters.maxHealth),this.updateHpBar()},buffFn:function(){if(this.buffAffected.length)for(var t=this.buffAffected,a=function(t){if(this.object.skillEffected){objEffected=this.object.skillEffected;for(var e=0;e<objEffected.length;e++)if(objEffected[e]===t.skill){objEffected.splice(e,1);break}}if(t.monsterParams){e=t.monsterParams.activeSkill;for(var a=0;a<e.length;a++)if(objEffected[a]===t.skill)return!0;e.push(t.skill)}return!0}.bind(this),i=0;i<t.length;i++){var s=t[i];if(s.tick--,e.GusT.value.set(s.skill,{tick:s.tick,id:s.id}),0>s.tick)/bindingRoot|lightningShock/i.test(s.skill)?(this.moveSpeed=1<s.speedNormal?s.speedNormal:3,this.velocity=/dungeon/i.test(this.activeMap)?2:3,this.objTranslate.staticObjMoveY=this.velocity,"lightningShock"===s.skill&&(this.moveStrict=!1,e.BdWd.value("enable"),e.NTiq.value("enable")),a(s)):"aquaSpirit"===s.skill?s.remove=!0:"burningEffect"===s.skill&&a(s),this.buffGUI("remove",s.id),e.GusT.value.remove(s.skill),t.splice(i,1);else if("burningEffect"===s.skill){if(s.tickDelay--,0>s.tickDelay){var n=e.tTH(s.damageMax,s.damageMin),r=e.tTH(this.characterParameters.magicDefenseMax,this.characterParameters.magicDefenseMax);n=0<(n-=r)?n:Math.round(e.tTH(40,1)/2),tempHealth=this.characterParameters.health-n,this.characterParameters.health&&(this.hitNumber.push(new e.hitNumber(n)),this.characterParameters.health=0>tempHealth?0:this.characterParameters.health-n),s.tickDelay=s.tickDelayUpdate}}else if("aquaHeal"===s.skill)s.delay--,0>s.delay&&this.characterParameters.health&&this.characterParameters.health<this.characterParameters.maxHealth&&(this.buffHeal(s.healing),e.pAo("heartbeat-1"),s.delay=50);else if("aquaSpirit"===s.skill){if(s.delay--,48===s.delay&&this.characterParameters.health)s.areaDmg=e.staticAreaDmg.value(s,500,200),s.areaDmg.caster=this.object.label,e.World.add(e.engine.world,s.areaDmg),e.EdAj.value.set(s.areaDmg.label,s.areaDmg),e.Body.setPosition(s.areaDmg,{x:s.x,y:s.y});else if(46===s.delay&&this.characterParameters.health)e.companionsControl.triggerMonsterFn("area");else if(44===s.delay&&this.characterParameters.health){r=(n=e.EdAj.value.get(s.areaDmg.label)).monsterParameters;var o=this.object.position,l=!0,c=0,h=r.length;t:for(;c<h;c++){var p=r[c].object.rigBody,g=parseInt(p.maxHealth)*(parseInt(s.healing-2)/100)+e.tTH(15,0)-e.tTH(35,0);if(p.health<p.maxHealth&&/sekleton/i.test(p.label)){for(p.hitNumber.push(new e.hitNumber("+"+Math.round(g),"heal")),p.health+g<p.maxHealth?(p.health+=g,l&&(e.pAo("heartbeat-1"),l=!1)):p.health=p.maxHealth,g=p.buffAffected.length;g--;)if(p.buffAffected[g]===s.skill)continue t;p.buffEffecedAdd({skill:s.skill,tick:50})}}this.characterParameters.health<this.characterParameters.maxHealth&&o.x>n.bounds.min.x&&o.x<n.bounds.max.x&&o.y>n.bounds.min.y&&o.y<n.bounds.max.y&&(this.buffHeal(s.healing),l&&(e.pAo("heartbeat-1"),l=!1)),e.World.remove(e.engine.world,s.areaDmg),e.EdAj.value.remove(s.areaDmg.label)}else 0>s.delay&&(s.delay=50);s.effect.update(e.context,s.tick)}}},attackTolerance:function(){if(this.monsterParameters.object){var t=this.object.position.y-this.monsterParameters.object.position.y;return e.distanceAndAngleBetweenTwoPoints(this.object.position.x,this.object.position.y,this.monsterParameters.object.position.x,this.monsterParameters.object.position.y).distance<=this.characterParameters.range&&t>-e.stage/2}return!1},monsterGetDamageFn:function(t,a,i,s,n,r,o){var l=e.monsterGetDamage.value.get(t);void 0===l&&(e.monsterGetDamage.value.set(t,[]),l=e.monsterGetDamage.value.get(t)),l.push({damage:i,debuff:"",selfAbilities:n,attackerAbilities:r,status:a,attacker:s,hitType:o})},monsterSetFocus:function(){var t=this.monsterParameters.object.label;""===e.jgeE.value&&e.monsterParameters.value.get(t)&&(e.jgeE.value=this.monsterParameters.object.label)},calculateMonsterDamageWithSkill:function(t,a){var i=t.magicDefenseMax,s=t.magicDefenseMin,n=e.tTH(this.characterParameters.attackRangeMax,this.characterParameters.attackRangeMin);return i=e.tTH(i,s),0<(n=n+Math.round(n*this.characterParameters[a].damage/100)-i)||Math.round(e.tTH(40,1)/2),n},convertAttackCharacterSkillToDamage:function(t){var a=[];if(/fireball-acid-2|fireball-acid-3/i.test(t.skill)){if(!0===e.VOea.value.get("fireball-acid-2")||!0===e.VOea.value.get("fireball-acid-3")){this.isAttacking=!0,this.monsterSetFocus(),e.VOea.value.set("fireball-acid-2",!1),e.VOea.value.set("fireball-acid-3",!1);for(var i="fireball-acid-2"===t.skill?"fireBall2":"fireBall3",s=0,n=e.EdAj.value.storage;s<n.length;s++)if(n[s].status.caster===this.label&&"fireBallAcid3"===n[s].status.areaName){var r=n[s].status.monsterParameters;t=this.characterParameters[i].effect;for(var o=0;o<r.length;o++){var l=this.calculateMonsterDamageWithSkill(r[o],i),c=this.abilityBlock(r[o]);if(a=this.attackerAbilities(this.characterParameters),this.monsterGetDamageFn(r[o].object.label,"attack",l,this.label,c,a,"hitMagic"),a=r[o].object.rigBody,t)for(var h in t)100*Math.random()<=t[h].chance&&a.buffEffecedAdd({skill:t[h].name,skillParams:t[h]})}e.EdAj.value.remove(n[s].status.label)}}}else if("lightning"===t.skill)l=this.calculateMonsterDamageWithSkill(this.monsterParameters,"lightning"),c=this.abilityBlock(this.monsterParameters),a=this.attackerAbilities(this.characterParameters),this.monsterSetFocus(),this.monsterGetDamageFn(this.monsterTarget,"attack",l,this.object.label,c,a,"hitMagic"),e.VOea.value.set("lightning",!1);else if("lightning-strike"===t.skill)h=this.characterParameters.attackDelaySkill.lifeDrain,this.characterParameters.attackDelaySkill.lifeDrain++,e.VOea.value.get("lightning-strike")&&50<=h&&(l=this.calculateMonsterDamageWithSkill(this.monsterParameters,"lightningStrike"),this.characterParameters.attackDelaySkill.lifeDrain=0,c=this.abilityBlock(this.monsterParameters),this.monsterSetFocus(),this.monsterGetDamageFn(this.monsterTarget,"attack",l,this.object.label,c,a,"hitMagic"));else if("chain-lightning"===t.skill){if(i=t.target,a=t.activeSkill.delay,t.activeSkill.delay--,0===i.length)e.VOea.value.set("chain-lightning",!1);else if(0>a&&i.length){if(r=i[0].rigBody,t=this.characterParameters.chainLightning.effect,l=this.calculateMonsterDamageWithSkill(r.monsterParameters,"chainLightning"),c=this.abilityBlock(r.monsterParameters),a=this.attackerAbilities(this.characterParameters),this.monsterGetDamageFn(r.monsterParameters.object.label,"attack",l,this.label,c,a,"hitMagic"),this.monsterSetFocus(),i.splice(0,1),t)for(h in t)100*Math.random()<=t[h].chance&&r.buffEffecedAdd({skill:t[h].name,skillParams:t[h]});e.pAo("electric-shock"),e.pAo("monster-smash")}}else"life-drain"===t.skill?(h=this.characterParameters.attackDelaySkill.lifeDrain,this.characterParameters.attackDelaySkill.lifeDrain++,e.VOea.value.get("life-drain")&&50<=h&&(l=this.calculateMonsterDamageWithSkill(this.monsterParameters,"lifeDrainDmg"),this.characterParameters.attackDelaySkill.lifeDrain=0,c=this.abilityBlock(this.monsterParameters),e.pAo("electric-spark"),this.monsterSetFocus(),this.monsterGetDamageFn(this.monsterTarget,"attack",l,this.object.label,c,a,"hitMagic"))):"fireball-acid"===t.skill?e.VOea.value.get("fireball-acid")&&t.explode&&(l=this.calculateMonsterDamageWithSkill(this.monsterParameters,"fireBallDmg"),c=this.abilityBlock(this.monsterParameters),a=this.attackerAbilities(this.characterParameters),this.monsterSetFocus(),this.monsterGetDamageFn(this.monsterTarget,"attack",l,this.object.label,c,a,"hitMagic"),e.VOea.value.set("fireball-acid",!1)):"ice-beam"===t.skill&&e.VOea.value.get("ice-beam")&&(l=this.calculateMonsterDamageWithSkill(this.monsterParameters,"fireBallDmg"),c=this.abilityBlock(this.monsterParameters),a=this.attackerAbilities(this.characterParameters),this.monsterSetFocus(),this.monsterGetDamageFn(this.monsterTarget,"attack",l,this.object.label,c,a,"hitMagic"),e.VOea.value.set("ice-beam",!1),t.hit=!0);this.isAttacking=!0},convertAttackCharacterToDamage:function(){var t=this.characterParameters.attackRangeMax,a=this.characterParameters.attackRangeMin,i=this.monsterParameters.defenseMax,s=this.monsterParameters.defenseMin;e.distanceAndAngleBetweenTwoPoints(this.object.position.x,this.object.position.y,this.monsterParameters.object.position.x,this.monsterParameters.object.position.y),t=e.tTH(t,a),i=e.tTH(i,s),(this.isAttacking||this.isSkillActive)&&this.monsterDir(),this.attackTolerance()?this.isAttacking&&(t=0<(i=t-i)?i:Math.round(e.tTH(40,1)/2),i=this.abilityBlock(this.monsterParameters),s=this.attackerAbilities(this.characterParameters),this.setHelpToSummon(this.monsterParameters.object.label),this.monsterGetDamageFn(this.monsterTarget,"attack",t,this.object.label,i,s,"hitNormal")):this.isSkillActive||(e.jgeE.value="",this.isAttacking=!1,e[this.object.stateStorage].value.set(this.label,"idle"))},helpTick:1e3,setHelpToSummon:function(t){var e=!0;if(this.object.pions&&this.object.pions.length)for(var a=0,i=this.object.pions;a<i.length;a++)if(i[a].label===t){e=!1;break}e&&(this.helpTick=1e3,this.object.attacker=t,this.object.needHelp=!0)},characterGetDamage:e.kdL.value,convertAttackMonsterToDamage:function(){var t=this.characterGetDamage.get(this.object.label);if(t.length)for(var a=0;a<t.length;a++){if("melee"===t[a].attackType)var i=t[a].attackMax,s=t[a].attackMin;else"long-range"===t[a].attackType&&(i=t[a].attackRangeMax,s=t[a].attackRangeMin);var n=!0;if(t[a].buffSkill&&0>=t[a].castedDelay){var r,o=t[a].buffSkill,l=e.cKs(),c=function(e){if(t[a].castedDelay=200,this.object.skillEffected)for(var i=this.object.skillEffected,s=0;s<i.length;s++)if(i[s]===e)return!0;for(i=this.buffAffected,s=0;s<i.length;s++)if(i[s].skill===e)return!0;return!1}.bind(this);t:for(r in o){if("burningEffect"===r&&!o[r].active){if(c(r))continue t;this.buffAffected.push({skill:o[r].name,tick:o[r].tick,id:l,tickDelay:o[r].tickDelay,tickDelayUpdate:o[r].tickDelayUpdate,damageMin:o[r].damageMin,damageMax:o[r].damageMax,monsterParams:t[a]}),n=!1,o[r].active=!0,this.object.skillEffected=[r],this.buffGUI("add",l,o[r].name);break}if(/bindingRoot|lightningShock/i.test(r)&&!o[r].active&&this.moveSpeed){if(c(r))continue t;this.buffAffected.push({skill:r,speedAffected:o[r].speedMovement,speedNormal:this.moveSpeed,tick:o[r].tick,id:l,monsterParams:t[a]}),o[r].active=!0,n=!1,this.moveSpeed=o[r].speedMovement,this.velocity=0,this.objTranslate.staticObjMoveY=this.velocity,this.object.skillEffected=[r],this.buffGUI("add",l,o[r].name),"lightningShock"===r&&(this.moveStrict=!0,e.BdWd.value("disable"),e.NTiq.value("disable"));break}}}if(n){o=this.characterParameters.defenseMax,l=this.characterParameters.defenseMin,n=e.tTH(i,s),n=0<(n=0>=(n-=o=e.tTH(o,l))?0:n)?n:Math.round(e.tTH(40,1)/2),l=!1,c=0;for(var h=(o=this.attackerAbilities(this.characterParameters)).length;c<h;c++)if("avoid"===o[c]){l=!0;break}l?this.hitNumber.push(new e.hitNumber("miss")):t[a].object.deleted||(this.setHelpToSummon(t[a].object.label),0>(o=this.characterParameters.health-n)?(this.characterParameters.health&&(e.YFjd.value.set("reload",{tick:500,fn:function(){location.reload()}}),e.hDwB.value("YOUR CHARACTER HAS DIED",400)),this.characterParameters.health=0,this.updateHpBar(),e[this.object.stateStorage].value.set(this.label,"die"),this.moveStrict=!0,this.object.behave="die",t[a].object.rigBody.attacker=!1,t[a].object.rigBody.behaveState=!0,t[a].object.rigBody.behaveRandomFn(1)):(this.hitNumber.push(new e.hitNumber(n)),e.pAo(["stab"]),this.characterParameters.health-=n,this.characterParameters.health<this.characterParameters.maxHealthCure&&this.cureSelf(e.slotButtonHp,"healthpotion","hpTickState","hpPotionUpdate"),this.updateHpBar())),this.characterGetDamage.get(this.object.label).splice(a,1)}}if(this.hitNumber.length)for(r=0;r<this.hitNumber.length;r++)this.hitNumber[r].update(e.context,this.object)&&this.hitNumber.splice(r,1)},inventoryBag:e.nqAW.value.get(e.oval.value.label),cureSelf:function(t,a,i,s){var n=t.getElementsByTagName("div");if(n.length){n=n[0].getAttribute("label");for(var r=this.inventoryBag,o=e.qs("item-number",t),l=0;l<r.length;l++)if(r[l]&&r[l].label===n&&r[l].name===a&&this[i])if(this[s]("reset"),this[i]=!1,r[l].cooldown&&(this.loadingHpPotion.tick=r[l].cooldown),1<=r[l].quantity)"small"===r[l].size&&("healthpotion"===a&&this.characterParameters.health<this.characterParameters.maxHealthCure?(r[l].quantity--,this.characterParameters.health=this.characterParameters.health+r[l].cure<this.characterParameters.maxHealth?this.characterParameters.health+r[l].cure:this.characterParameters.maxHealth):this.characterParameters.mp<this.characterParameters.maxMpCure&&(r[l].quantity--,this.characterParameters.mp=this.characterParameters.mp+r[l].cure<this.characterParameters.maxMp?this.characterParameters.mp+r[l].cure:this.characterParameters.maxMp)),e.text(o,r[l].quantity),"healthpotion"===a?this.updateHpBar():"manapotion"===a&&this.updateMpBar();else{r.splice(l,1),t.innerHTML="",e.addClass(o,"hidden");var c=e._hsQ.value()?e.qs("bag-wrap-mb"):e.qs("bag-a");c=e.slice(c.getElementsByTagName("li"));for(var h=0;h<c.length;h++){var p=e.getFirstChild(c[h]);if(/health-potion|health-medium-potion|health-strong-potion|health-strong-potion/i.test(p.className)&&"healthpotion"===a||/mana-potion|mana-medium-potion|mana-strong-potion/i.test(p.className)&&"manapotion"===a){t.appendChild(p);break}}this[i]=!0}}},createUndead:function(t){var a=e._hsQ.value()?e.qs("familiar-box-mb"):e.qs("familia-box"),i=e.slice(a.getElementsByTagName("div"));a=e.nqAW.value.get(e.oval.value.label);var s={monsterSekletonArmored:{value:0,itemLabel:[],parameters:[]},monsterSekletonArcher:{value:0,itemLabel:[],parameters:[]}};undeadTempArr=[],undeadArr=[],this.object.attacker=!1,this.object.needHelp=!1;for(var n=0,r=i.length;n<r;n++){var o=i[n].getAttribute("label");o&&undeadTempArr.push(o)}for(undeadTempArr=e.iTs(undeadTempArr),i=0,n=a.length;i<n;i++)for(o=0;o<undeadTempArr.length;o++)a[i].label===undeadTempArr[o]&&undeadArr.push(a[i]);for(n=0;n<undeadArr.length;n++)for(r in s)if(undeadArr[n].companion===r){s[r].value++,s[r].parameters.push(undeadArr[n].familiar),s[r].itemLabel.push(undeadArr[n].label);break}for(n in s)s[n].value||delete s[n];(s.monsterSekletonArmored||s.monsterSekletonArcher)&&(e.pAo("teleport-swish"),e.FAuf.value("reset"),e.companionsControl.create({monsters:[],spell:"undead",summoner:this.object,durationTick:t.tickUpdate,pions:s}),e.FAuf.value("update"))},cntActiveSkill:[],registerSkill:function(t){for(var a=0;a<this.cntActiveSkill.length;a++)if(this.cntActiveSkill[a].name===t&&this.cntActiveSkill[a].skill.state)return!1;return this.cntActiveSkill.push({name:t,skill:e.Qge.value(t)}),this.cntActiveSkill[this.cntActiveSkill.length-1]},isSkillRegistered:function(t){for(var e=this.buffAffected,a=!0,i=0;i<e.length;i++)if(e[i].skill===t){a=!1;break}return a},characterSkills:e.NMns.value,skillUpdate:function(){var t=this.characterSkills.get("initial"),a=this.characterSkills.get(this.label);if(t.state&&this.characterParameters.health){for(var i=t.label,s=0;s<a.length;s++)if(a[s].label===i&&(/undead|aqua-heal|aqua-spirit/i.test(a[s].name)||this.attackTolerance())&&a[s].state&&0<this.characterParameters.mp){if(a[s].target=t.target,a[s].state=!1,a[s].loading||(a[s].loading=new e.loadingAct(25,"rgba( 0, 0, 0, 0.7 )",a[s].tick)),a[s].loading.update(e.context,-1e3,-1e3,"reset"),e.NMns.value.set("initial",{label:"",state:!1}),!/undead|aqua-heal|aqua-spirit/i.test(a[s].name)&&("left"===this.monsterDir()?this.changeLeftFn(!0):this.changeRightFn(!0)),i=a[s].mp,"fireball-acid-3"===a[s].name){var n=this.registerSkill("fireBallAcid3");if(n){for(e.VOea.value.set("fireball-acid-3","setAttack"),s=0;s<n.skill.length;s++)n.skill.fn.push({tick:n.skill.delay*(s+1),skill:new e.fireBallArea(this.object,this.monsterParameters.object,this.monsterDir(),this,"fireball-acid-3")});n.skill.state=!0,n.skill.monsterTarget=e.jgeE.value,e.pAo("Bassy_swoosh")}}else if("fireball-acid-2"===a[s].name)(n=this.registerSkill("fireBallAcid2"))&&(e.VOea.value.set("fireball-acid-2","setAttack"),n.skill.fn=new e.fireBallArea(this.object,this.monsterParameters.object,this.monsterDir(),this,"fireball-acid-2"),n.skill.state=!0,n.skill.monsterTarget=e.jgeE.value,e.pAo("Bassy_swoosh"));else if("undead"===a[s].name)this.createUndead(a[s]);else if("aqua-spirit"===a[s].name){s=e.kWdN.value.get("aqua-spirit"),n=this.isSkillRegistered(s.name);var r=e.cKs(),o=this.object.position.x,l=this.object.position.y;s={skill:s.name,healing:s.healing,tick:s.tick,delay:s.delay,effect:new e.lights(this.object),id:r,areaDmg:"",remove:!1,x:o,y:l},n&&(this.buffGUI("add",r,"aqua-spirit"),this.buffAffected.push(s),e.pAo("evil-crack"),o=this.object.position.x,l=this.object.position.y,e.staticGeometry.createStoratePassBG({target:this.object.position,x:o,y:l,parent:s,fn:new e.magicCircle({url:e.path+"/heal.png",scale:5,scaleBefore:-220,scaleLength:30,life:270,target:"",imagePosY:30,imagePosX:120})}))}else"aqua-heal"===a[s].name?(s=e.kWdN.value.get("aqua-heal"),n=this.isSkillRegistered(s.name),r=e.cKs(),n&&(e.pAo("healspell2"),this.buffGUI("add",r,"aqua-heal"),this.buffAffected.push({skill:s.name,healing:s.healing,tick:s.tick,delay:s.delay,id:r}))):"fireball-acid"===a[s].name?(n=this.registerSkill("fireBallAcid"))&&(e.VOea.value.set("fireball-acid","setAttack"),n.skill.fn=new e.fireBallAcid(this.object,this.monsterParameters.object,this.monsterDir(),this),n.skill.state=!0,n.skill.monsterTarget=e.jgeE.value,e.pAo("fire-ball")):"life-drain"===a[s].name?(n=this.registerSkill("lifeDrain"))&&(e.VOea.value.set("life-drain",!0),n.skill.fn=new e.lifeDrain(this.monsterParameters.object),n.skill.state=!0,n.skill.monsterTarget=e.jgeE.value,e.pAo("life-drain")):"ice-beam"===a[s].name?(n=this.registerSkill("iceBeam"))&&(e.VOea.value.set("ice-beam",!0),n.skill.fn=new e.iceBeam,n.skill.state=!0,n.skill.hit=!1,n.skill.monsterTarget=e.jgeE.value):"lightning"===a[s].name?(n=this.registerSkill("lightning"))&&(e.VOea.value.set("lightning",!0),n.skill.fn=new e.lightning([this.object,this.monsterParameters.object],this.monsterDir(),"lightning"),n.skill.state=!0,n.skill.monsterTarget=e.jgeE.value,e.pAo("storage-bin"),e.pAo("electric-shock")):"lightning-strike"===a[s].name?(n=this.registerSkill("lightning-strike"))&&(e.VOea.value.set("lightning-strike",!0),n.skill.fn=new e.lightning([this.object,this.monsterParameters.object],this.monsterDir(),"lightning-strike"),n.skill.state=!0,n.skill.monsterTarget=e.jgeE.value,e.pAo("continues-electric-start")):"chain-lightning"===a[s].name&&(n=this.registerSkill("chain-lightning"))&&(e.VOea.value.set("chain-lightning",!0),n.skill.fn=new e.lightningArea(this.monsterParameters.object,this.monsterDir(),"chain-lightning"),n.skill.state=!0,n.skill.monsterTarget=e.jgeE.value);this.characterParameters.mp=0<this.characterParameters.mp?this.characterParameters.mp-i:0,this.isSkillCasting=this.isSkillActive=!0,this.cureSelf(e.slotButtonMp,"healthpotion","mpTickState","mpPotionUpdate"),this.updateMpBar();break}t.state=!1}for(s=0,t=a.length;s<t;s++)a[s].state||(n=(r=(i=a[s]).target.getBoundingClientRect()).left+(r.right-r.left)/2,r=r.bottom+(r.top-r.bottom)/2,i.tickUpdate--,i.loading.update(e.context,n,r,i.tick)&&(i.state=!0,i.loading.remove=!1,i.tickUpdate=!!i.tickOriginal&&i.tickOriginal||i.tick,(i=e.qs("time-span-"+i.label))&&(i.style.display="none")))},activeListSkill:function(t){var a=this.cntActiveSkill.length;if(a)for(var i=0;i<a;i++){var s=this.cntActiveSkill[i];if(s)if("iceBeam"===s.name){var n=this.removeAnimateSkill(t,s.skill.monsterTarget);!0===(n=s.skill.fn.update(e.context,this.monsterParameters.object,n))?(e.VOea.value.set("ice-beam",!1),s.skill.fn="",s.skill.state=!1,this.isSkillActive=s.skill.hit=!1,this.cntActiveSkill.splice(i,1)):"hit"===n&&(this.convertAttackCharacterSkillToDamage({skill:"ice-beam",hit:n}),this.isSkillActive=!0)}else if("lifeDrain"===s.name)this.convertAttackCharacterSkillToDamage({skill:"life-drain"}),n=this.removeAnimateSkill(t,s.skill.monsterTarget),s.skill.fn.update(e.context,n)&&(e.VOea.value.set("life-drain",!1),s.skill.fn="",this.isSkillActive=s.skill.state=!1,this.cntActiveSkill.splice(i,1));else if("fireBallAcid"===s.name)s.skill.fn.update(this)&&(s.skill.fn="",s.skill.state=!1,this.cntActiveSkill.splice(i,1));else if("fireBallAcid2"===s.name)s.skill.fn.update(this)&&(s.skill.fn="",s.skill.state=!1,this.cntActiveSkill.splice(i,1));else if("lightning"===s.name)s.skill.fn.update(e.context,this.latestDir)&&(this.convertAttackCharacterSkillToDamage({skill:"lightning"}),s.skill.fn="",s.skill.state=!1,this.cntActiveSkill.splice(i,1));else if("lightning-strike"===s.name)this.convertAttackCharacterSkillToDamage({skill:"lightning-strike"}),s.skill.fn.update(e.context,this.latestDir)&&((n=e.LgAn.value.get("continues-electric-start"))&&(n.pause(),n.currentTime=0,e.LgAn.value.remove("continues-electric-start")),e.VOea.value.set("lightning-strike",!1),s.skill.fn="",s.skill.state=!1,this.cntActiveSkill.splice(i,1));else if("chain-lightning"===s.name)(n=s.skill.fn.update(e.context,this.latestDir))instanceof Array&&(this.convertAttackCharacterSkillToDamage({skill:"chain-lightning",target:n,activeSkill:s.skill}),e.VOea.value.get("chain-lightning")||(s.skill.fn="",s.skill.state=!1,this.cntActiveSkill.splice(i,1)));else if("fireBallAcid3"===s.name)if(a=s.skill.fn.length)for(i=0;i<s.skill.fn.length;i++)s.skill.fn[i].tick--,0>s.skill.fn[i].tick&&s.skill.fn[i].skill.update(this)&&s.skill.fn.splice(i,1);else s.skill.fn="",s.skill.state=!1,this.cntActiveSkill.splice(i,1)}},activeAttacking:!1,latestDir:"",monsterDir:function(){return this.monsterParameters.object.position.x<this.object.position.x?"left":"right"},dirSwitch:{delayDir:-1,changeIdle:!0,left:!1,right:!1,idle:!1,jump:!0,attack:{tick:30,idleTick:20}},changeLeftFn:function(t){(!this.dirSwitch.left||!this.moveLeft||this.moveRight||this.moveLeft&&this.moveRight)&&!t||(this.dirSwitch.left=!1,this.latestDir="left",this.object.additionalBoundsWidthValue=-Math.abs(this.object.additionalBoundsWidthValue),t=this.object.initialName+"-left.png",this.objTranslate.firstLoadLeft=!1,e[this.object.stateStorage].value.set(this.label,"textureNeedChange|"+e.path+"/"+t))},changeRightFn:function(t){(!this.dirSwitch.right||this.moveLeft||!this.moveRight||this.moveLeft&&this.moveRight)&&!t||(this.dirSwitch.right=!1,this.latestDir="right",this.object.additionalBoundsWidthValue=Math.abs(this.object.additionalBoundsWidthValue),t=this.object.initialName+"-right.png",this.objTranslate.firstLoadRight=!1,e[this.object.stateStorage].value.set(this.label,"textureNeedChange|"+e.path+"/"+t))},performAttacking:function(t,a){if(this.characterParameters.health){if(this.isAttacking&&!this.moveLeft&&!this.moveRight&&!this.moveUp&&!this.moveDown){var i=e[this.object.stateStorage].value.storage[0].status;0<this.dirSwitch.attack.tick?(25===this.dirSwitch.attack.tick?"right"===this.monsterDir()?this.changeRightFn(!0):this.changeLeftFn(!0):24===this.dirSwitch.attack.tick?(this.dirSwitch.right=!0,this.dirSwitch.left=!0,this.dirSwitch.changeIdle=!0,e[this.object.stateStorage].value.set(this.label,"attack")):1===this.dirSwitch.attack.tick&&"attack"===i&&(this.dirSwitch.attack.idleTick=25,e.pAo(["stab"]),3<=e.tTH(5,1)&&e.pAo(["grunt-2","grunt-3","grunt-7","grunt-9"]),this.convertAttackCharacterToDamage()),this.dirSwitch.attack.tick--):("idle"!==i&&e[this.object.stateStorage].value.set(this.label,"idle"),0<=this.dirSwitch.attack.idleTick?this.dirSwitch.attack.idleTick--:this.dirSwitch.attack.tick=25)}this.isAttacking||""===t?""===t&&(this.isAttacking=!1,this.dirSwitch.changeIdle&&(e[this.object.stateStorage].value.set(this.label,"idle"),this.dirSwitch.changeIdle=!1)):this.isAttacking=!1}else i=e[this.object.stateStorage].value.storage[0].status,/idle|die/i.test(i)||e[this.object.stateStorage].value.set(this.label,"idle"),this.moveLeft=this.moveRight=this.moveUp=this.moveDown=!1,a.moveUp=!1,a.moveDown=!1,a.moveLeft=!1,a.moveRight=!1,a.staticObjStateX=!1,a.staticObjStateY=!1},removeAnimateSkill:function(t,e){return""===t||e!==t},pointingAnimate:{drawFn:new e.draw.generalDrawImage,drawLoadingMb:new e.loadingAct(10,"rgba( 255, 22, 22, 0.8 )",25),active:!1,install:!1,imagePosY:-30,imagePosX:0,scaleBefore:0,scaleX:0,scaleY:0,offsetX:.1,offsetY:.1,posX:310,posY:310,target:{state:!1,object:"",objectTarget:"",visible:!1,behave:""},renderWalk:{textures:"",src:e.path+"/point-walk.png"},renderAttack:{textures:"",src:e.path+"/point-attack.png"},updateLoadingMb:function(t){var a=t.position;if(this.drawLoadingMb.update(e.context,a.x,a.y-t.additionalBoundsValue-45))return this.startEventMb(t),!0},mouseInTargetFn:function(t,e){var a=t.additionalBoundsValue?t.additionalBoundsValue:0;return t.bounds.min.x-a<e.x&&t.bounds.max.x>e.x&&t.bounds.min.y-a<e.y&&t.bounds.max.y>e.y},targetCompanion:{dirX:0,sekleton:"",sekletonTarget:""},initMb:!1,startEventMb:function(t){this.initMb||(this.targetCompanion.dirX=t.position.x,this.cursorStartEventFn(t.position),this.initMb=!0)},endEventMb:function(t){this.cursorEndEventFn(t)},moveEventMb:function(t,e){this.initMb&&this.cursorMoveEventFn(t,e)},cursorStartEventFn:function(t){for(var a=e.Composite.allBodies(e.engine.world),i=0;i<a.length;i++){var s=a[i],n=this.mouseInTargetFn(s,t);if(/sekleton/i.test(s.label)&&n){this.targetCompanion.sekleton=s,this.target.object=s,this.active=!0,this.target.behave="walk";break}}},cursorMoveEventFn:function(t,a){this.posX=t.x,this.posY=t.y;var i=this.target,s=this.target.objectTarget,n=i.object instanceof Object&&this.mouseInTargetFn(i.object,t);if(""===i.object||n)this.target.visible=!1;else{if(i.visible=!0,a)i.objectTarget=a;else{n=e.Composite.allBodies(e.engine.world);for(var r=0;r<n.length;r++){var o=n[r],l=o.label,c=this.mouseInTargetFn(o,t);if(s.label!==l&&/monster|dragon/i.test(l)&&!/sekleton/i.test(l)&&c&&l!==i.label){i.objectTarget=o;break}}}""!==s&&this.mouseInTargetFn(s,t)?(i.render="renderAttack",i.state=!0):(i.render="renderWalk",i.state=!1)}},cursorEndEventFn:function(t){if(""!==this.targetCompanion.sekleton){for(var a,i=e.Composite.allBodies(e.engine.world),s=this.mouseInTargetFn(this.targetCompanion.sekleton,t),n=this.targetCompanion.sekleton,r=0;r<i.length;r++){if(a=i[r],mouseInTarget=this.mouseInTargetFn(a,t),/monster|dragon/i.test(a.label)&&!/sekleton/i.test(a.label)&&a.label!==n.label&&!s&&mouseInTarget){n.rigBody.character=a,n.rigBody.moveDir(Math.round(a.position.x-n.rigBody.object.position.x)),n.rigBody.attacker=a.label,n.rigBody.object.behave=n.rigBody.behave="attack",n.rigBody.turnState=e.tTH(600,500);break}if(r===i.length-1&&!s){n.rigBody.moveDir(t.x-this.targetCompanion.dirX),n.rigBody.objectPointing.position.x=t.x,n.rigBody.objectPointing.position.y=t.y,n.rigBody.behave="pointing",n.rigBody.turnState=e.tTH(600,500);break}}this.active=!1,this.target.object="",this.target.objectTarget="",this.targetCompanion.sekleton=""}},update:function(t){this.install||(e.getTexture(this.renderWalk,this.renderWalk.src),e.getTexture(this.renderAttack,this.renderAttack.src),this.install=!0);var a=this.target.objectTarget;this.target.state&&a instanceof Object&&(this.posX=a.position.x,this.posY=a.bounds.min.y-a.additionalBoundsValue),this.target.visible&&this.drawFn.update({context:t,image:this[this.target.render].textures,posX:this.posX,posY:this.posY,imagePosY:this.imagePosY,imagePosX:this.imagePosX,scaleX:this.scaleX,scaleY:this.scaleY,offsetX:this.offsetX,offsetY:this.offsetY,scaleBefore:this.scaleBefore})}},footstep:{tick:0,tickStep:12,fn:function(){e.pAo("footstep")}},update:function(){var t=this.object.position,a=this.objTranslate,i=e.jgeE.value,s=a.staticObjStateX,n=a.staticObjMoveY,r=a.staticsWallOuterIsStopX;this.isSkillActive&&this.isSkillCasting&&this.attackTolerance(),this.performAttacking(i,a),this.activeListSkill(i),this.pointingAnimate.active&&this.pointingAnimate.update(e.context),this.dirSwitch.delayDir--,0===this.dirSwitch.delayDir&&("walk"===e[this.object.stateStorage].value.storage[0].status||this.jump||e[this.object.stateStorage].value.set(this.label,"walk")),this.isSkillCasting&&(this.isSkillCasting=!1),0<this.helpTick&&(this.helpTick--,0===this.helpTick&&(this.object.attacker=!1,this.object.needHelp=!1)),this.skillUpdate(),this.buffFn(),0<this.characterParameters.health&&this.characterParameters.health<this.characterParameters.maxHealthCure&&this.cureSelf(e.slotButtonHp,"healthpotion","hpTickState","hpPotionUpdate"),!this.hpTickState&&this.hpPotionUpdate()&&(this.hpTickState=!0),this.characterParameters.mp<this.characterParameters.maxMpCure&&this.cureSelf(e.slotButtonMp,"manapotion","mpTickState","mpPotionUpdate"),!this.mpTickState&&this.mpPotionUpdate()&&(this.mpTickState=!0),this.convertAttackMonsterToDamage(),this.moveUp&&this.dungeonActive&&!this.object.forceGravity&&e.Body.translate(this.object,{x:0,y:-n}),this.moveDown&&this.dungeonActive&&e.Body.translate(this.object,{x:0,y:n}),this.moveLeft&&this.translateLeft&&(i=a.firstLoadLeft,this.changeLeftFn(i),r&&!s&&e.Body.translate(this.object,{x:-this.moveSpeed,y:0})),this.moveRight&&this.translateRight&&(i=a.firstLoadRight,this.changeRightFn(i),r&&!s&&e.Body.translate(this.object,{x:this.moveSpeed,y:0})),this.jump&&!this.preventControl&&(this.dirSwitch.jump&&(e[this.object.stateStorage].value.set(this.label,"jump"),this.dirSwitch.jump=!1),e.Body.translate(this.object,{x:0,y:this.jumpSpeed})),this.screenCheck(),!this.isShake&&this.characterParameters.health&&(this.moveLeft||this.moveRight||this.moveUp||this.moveDown?(this.footstep.tick--,0>this.footstep.tick&&(this.footstep.tick=this.footstep.tickStep,this.footstep.fn()),this.isAttacking&&(this.activeAttacking=this.isAttacking,this.isAttacking=!1),this.isSkillActive=!1,a.staticObjMoveX=this.moveLeft?this.moveSpeed:this.moveRight?-this.moveSpeed:0):this.activeAttacking&&(this.activeAttacking=!1,this.isAttacking=!0),this.translating&&((this.moveLeft||this.moveRight)&&0<t.x&&t.x<e.browserWidthUpdate?a.staticObjStateX=!0:s&&(a.staticObjStateX=!1),a.staticObjAllX&&!this.isShake&&(a.staticObjMoveX=this.moveStaticX,a.staticObjStateX=!0)))},event:function(){var t=this;e.Events.on(e.engine,"collisionStart",function(a){for(var i=0,s=(a=a.pairs).length;i!=s;++i){var n=a[i],r="Body"!==n.bodyA.label||n.bodyA.outterWall?n.bodyA.label:n.bodyA.parent.label,o="Body"!==n.bodyB.label||n.bodyB.outterWall?n.bodyB.label:n.bodyB.parent.label;if(/static|oval/i.test(r)&&/static|oval/i.test(o)&&(t.jump||e.tsSM.value.jump)&&(t.jump=!1,e.tsSM.value.jump=!1,t.dirSwitch.jump=!0,t.moveLeft||t.moveRight||e.tsSM.value.moveLeft?e[t.object.stateStorage].value.set(t.label,"walk"):e[t.object.stateStorage].value.set(t.label,"idle"),/staticBoxPreventJump|staticWall/i.test(o)?t.isTranslateY=!0:t.isTranslateY=!1),/staticWall|monster/i.test(r)&&/staticWall|monster/i.test(o)&&/dungeon/i.test(e.ThQ.value)&&(/monster/i.test(o)&&(e[n.bodyB.stateStorage].value.set(o,"turn"),n.bodyB.outterWall=r),/monster/i.test(r)&&(e[n.bodyB.stateStorage].value.set(r,"turn"),n.labelA.outterWall=o)),/oval|coin|monster-slime|monster-black|monster-yellow|monster-green-dragon|staticBoxroll|staticRocket/i.test(o))if(/static/i.test(r)&&/monster-black/i.test(o))"hit"!==(n=e.monsterBlackState.value.get(o))&&e.monsterBlackState.value.set(o,"idle");else if(/static/i.test(r)&&/monster-yellow/i.test(o))"hit"!==(n=e.monsterYellowState.value.get(o))&&e.monsterYellowState.value.set(o,"idle");else if(/monster-black/i.test(r)&&/monster-black/i.test(o))e.monsterBlackState.value.set(r,"turn"),e.monsterBlackState.value.set(o,"turn");else if(/monster-yellow/i.test(r)&&/monster-yellow/i.test(o))e.monsterYellowState.value.set(r,"turn"),e.monsterYellowState.value.set(o,"turn");else if(/monster-black/i.test(r)&&/monster-yellow/i.test(o))e.monsterBlackState.value.set(r,"turn"),e.monsterYellowState.value.set(o,"turn");else if(/oval/i.test(r)&&/monster-slime/i.test(o))e.monsterSlimeState.value.set(o,"hit");else if(/oval/i.test(r)&&/monster-black/i.test(o))e.monsterBlackState.value.set(o,"hit");else if(/oval/i.test(r)&&/monster-yellow/i.test(o))e.monsterYellowState.value.set(o,"hit");else if(/oval/i.test(r)&&/monster-green-dragon/i.test(o))e.greenDragonState.value.set(o,"hit");else if(/oval/i.test(r)&&/staticBoxroll/i.test(o)){o=e.oval.value.position,r=n.bodyB.position;var l=Math.abs(Math.ceil(r.y-o.y));40>Math.abs(Math.ceil(r.x-o.x))&&40<l&&e.switchRoll.value.update(n.bodyB)}else/oval/i.test(r)&&/staticRocket/i.test(o)&&e.rocketState.value.set(o,"stop")}}),e.Events.on(e.YdOf.value,"mousedown",function(a){a=a.mouse.position,t.pointingAnimate.targetCompanion.dirX=a.x;for(var i,s,n=e.Composite.allBodies(e.engine.world),r=0;r<n.length;r++){if(i=n[r],s=t.pointingAnimate.mouseInTargetFn(i,a),/monster|dragon/i.test(i.label)&&!/sekleton/i.test(i.label)&&s){""!==(n=e.jgeE.value=i.label)&&t.monsterTarget!==n&&(t.monsterTarget=n,t.monsterParameters=e.monsterParameters.value.get(n)),n=25*(s=e.monsterParameters.value.get(n)).maxHealth/100,i=t.characterParameters.attackRangeMax+t.characterParameters.attackRangeMin/2,s=e.tTH(s.defenseMax,s.defenseMin),isEasy=0<=i-n,tempDemage=i-s,tempDemage=0>=tempDemage?0:tempDemage,n=isEasy?"green":0<tempDemage?"orange":"red",e.qs("circle-bar-stat").className="circle-bar-stat "+n;break}if(/npc/i.test(i.label)&&s&&i.isVisible&&(i.touch&&e.removeClass(e.qs("box-dialog"),"hidden"),e.EtCS.value(i.label),i.touch&&e.EOd.value(i.label)),r===n.length-1){e.jgeE.value="",e.addClass(e.qs("monster-bar"),"hidden");break}}t.pointingAnimate.initMb||t.pointingAnimate.cursorStartEventFn(a)}),e.Events.on(e.YdOf.value,"mousemove",function(e){t.pointingAnimate.initMb||t.pointingAnimate.cursorMoveEventFn(e.mouse.position)}),e.Events.on(e.YdOf.value,"mouseup",function(e){t.pointingAnimate.initMb||t.pointingAnimate.cursorEndEventFn(e.mouse.position)})},keyDown:function(){var t=this;e.Ge(document.body,"keydown",function(a){if(/hidden/i.test(e.qs("gui-player").className)&&!this.preventControl&&e.REq.value.health){var i=e[t.object.stateStorage].value.storage[0].status;switch(a.keyCode){case 87:t.moveUp=!0,e.ufR.value.moveUp=!0,"up"!==e.GdWo.value&&(e.GdWo.value="up"),"walk"===i||t.jump||e[t.object.stateStorage].value.set(t.label,"walk");break;case 83:t.moveDown=!0,e.ufR.value.moveDown=!0,"down"!==e.GdWo.value&&(e.GdWo.value="down"),"walk"===i||t.jump||e[t.object.stateStorage].value.set(t.label,"walk");break;case 70:t.isAttacking=!0;break;case 65:t.moveLeft=!0,e.ufR.value.moveLeft||(e.ufR.value.moveLeft=!0),"left"!==e.GdWo.value&&(e.GdWo.value="left"),t.dirSwitch.delayDir=2;break;case 68:t.moveRight=!0,e.ufR.value.moveRight||(e.ufR.value.moveRight=!0),"right"!==e.GdWo.value&&(e.GdWo.value="right"),t.dirSwitch.delayDir=2;break;case 32:""!==e.jgeE.value||t.dungeonActive&&!t.object.forceGravity||(t.jump=!0,e.GdWo.value="jump")}}})},keyUp:function(){function t(){a.moveUp||a.moveDown||a.moveLeft||a.moveRight||a.jump||e[a.object.stateStorage].value.set(a.label,"idle")}var a=this;e.Ge(document.body,"keyup",function(i){if(e.REq.value.health&&!this.preventControl)switch(i.keyCode){case 87:a.moveUp=!1,e.ufR.value.moveUp=!1,e.ufR.value.staticObjMoveX=0,t(),e.GdWo.value="idle";break;case 83:a.moveDown=!1,e.ufR.value.moveDown=!1,e.ufR.value.staticObjMoveX=0,t(),e.GdWo.value="idle";break;case 65:a.moveLeft=!1,a.dirSwitch.left=!0,t(),e.ufR.value.staticObjMoveX=0,e.GdWo.value="idle",e.ufR.value.moveLeft=!1;break;case 68:a.moveRight=!1,a.dirSwitch.right=!0,t(),e.ufR.value.moveRight=!1,e.ufR.value.staticObjMoveX=0,e.GdWo.value="idle"}}.bind(this))},velocity:0,translating:!1,screenCheck:function(){var t=e.ThQ.value,a=this.objTranslate;if(this.activeMap!==t&&(this.r="inrender",this.staticWallOutter=e.AyD.value(),this.activeMap=t,this.block=!!scope[this.r]&&scope[this.r](),/dungeon/i.test(t)?(this.velocity=2,a.staticObjMoveY=this.velocity,this.dungeonActive=!0):(this.velocity=3,a.staticObjMoveY=this.velocity,this.dungeonActive=!1)),this.block&&!e.isSwitchMapActive&&!a.isShake.shakeCnt.length&&this.characterParameters.health){t=e.browserWidthUpdate;var i=e.browserHeightUpdate,s=this.object.position,n=Math.floor(t/2),r=this.staticWallOutter[3].position,o=this.staticWallOutter[2].position,l=this.staticWallOutter[1].position,c=this.staticWallOutter[0].position,h=a.staticObjStateY,p=i/2,g=a.staticObjStateX,d=a.staticObjAllX,m=a.staticObjMoveY;r=-30<=r.x&&30>=r.x,o=o.x>=t-30&&o.x<=t+30,toleranceY=Math.abs(p-s.y),(!this.isTranslateY||!this.jump)&&0<toleranceY&&30>toleranceY&&h?(a.staticObjStateY="",!this.dungeonActive&&a.moveDown&&(a.moveDown=!1),!this.dungeonActive&&a.moveUp&&(a.moveUp=!1)):this.isTranslateY&&this.jump||!(30<p-s.y)?this.isTranslateY&&this.jump||!(0>p-20-s.y)?(this.isTranslateY||this.jump)&&h&&(a.staticObjStateY=""):l.y>=i+30?(a.staticObjStateY="down",a.moveDown=!0,this.dungeonActive||(a.moveDown=!0,this.velocity+=.2,a.staticObjMoveY=0<this.object.velocity.y?a.staticObjMoveY+.2:Math.floor(this.velocity))):h&&(a.staticObjStateY=""):0>c.y?(a.staticObjStateY="up",this.dungeonActive||(a.moveUp=!0,4!==m&&(a.staticObjMoveY=4),this.velocity=9)):h&&(a.staticObjStateY=""),(l=Math.abs(n-Math.round(s.x)))<=this.moveSpeed?(r||o?r?(a.moveRight&&(this.translating=!0),a.moveLeft&&(this.translating=!1,g&&(a.staticObjStateX=!1),d&&(a.staticObjAllX=!1))):o&&(a.moveLeft&&(this.translating=!0),a.moveRight&&(this.translating=!1,g&&(a.staticObjStateX=!1),d&&(a.staticObjAllX=!1))):(g||(a.staticObjStateX=!0),g||(a.staticObjAllX=!0),this.translating=!0),this.translateRight=this.translateLeft=!0):s.x<t&&0<s.x&&s.y<i&&0<s.y&&this.moveSpeed&&(r&&a.moveLeft&&(this.translating=!1),o&&a.moveRight&&(this.translating=!1),g&&(a.staticObjStateX=!1),d&&(a.staticObjAllX=!1),!o&&!r&&l>2*this.moveSpeed&&(this.moveStaticX=n<Math.round(s.x)?-Math.abs(this.moveStaticX):Math.abs(this.moveStaticX),a.staticObjStateX=!0,this.translating=a.staticObjAllX=!0))}},onMove:function(){var t=this;e.Ge(t.container,e.CursorStartEvent,function(t){}),e.Ge(t.container,e.CursorEndEvent,function(t){}),e.Ge(t.container,e.CursorLeaveEvent,function(t){}),e.Ge(t.container,e.CursorMoveEvent,function(e){t.mousePosX=e.clientX,t.mousePosY=e.clientY})},updateMpBar:function(){e.text(e.qs("mp-indicator-text"),Math.round(this.characterParameters.mp)+" / "+Math.round(this.characterParameters.maxMp)),e.qs("mp-circle-bar").className="c100 blue mp-circle-bar p"+Math.floor(this.characterParameters.mp/this.characterParameters.maxMp*100)},updateHpBar:function(){e.text(e.qs("hp-indicator-text"),Math.round(this.characterParameters.health)+" / "+Math.round(this.characterParameters.maxHealth)),e.qs("hp-circle-bar").className="h100 red hpBox hp-circle-bar p"+Math.round(this.characterParameters.health/this.characterParameters.maxHealth*100)},initControl:function(){this.object.statParameters=this.characterParameters,this.onMove(),this.keyUp(),this.keyDown(),this.event(),this.updateHpBar(),this.updateMpBar(),e[this.object.stateStorage].value.set(this.label,"idle"),e.tsSM.value.charObj=this}},e.extend(t,new e.components.companions,!0),e.characterControl=t,e.REq.value.rigBody=t,e.text(e.qs("mp-indicator-text"),t.mp+" / "+t.maxMp),e.text(e.qs("hp-indicator-text"),t.health+" / "+t.maxHealth),t.initControl()},iduF:function(){var t,e,a=this,i={staticWallOutter:a.AyD.value(),object:a.oval.value,delayPortal:(e=setTimeout(function(){}),function(t,a){clearTimeout(e),e=setTimeout(t,a)}),delayInnerPortal:(t=setTimeout(function(){}),function(e,a){clearTimeout(t),t=setTimeout(e,a)}),activeMap:"",isInPortalFn:function(t){var e=this.object.position;return t.x<e.x&&t.y<e.y&&t.xMax()>e.x&&t.yMax()>e.y&&t.isVisible},installMapObject:function(t,e){var i=a.hEP.value[t].content,s=a.monsterParameters.value.storage;"add"===e&&(s.length=0,a.monsterGetDamage.value.storage.length=0);var n,r=function(t,e,i){if(/monster/i.test(t))if("add"===e)a.monsterParameters.value.set(t,i);else for(e=0,i=s.length;e<i;e++)s[e]&&s[e].name===t&&a.monsterParameters.value.remove(t)};for(n in i)if(n in i){var o=i[n];if(i[n]instanceof Array)for(var l=0;l<o.length;l++)if("add"===e)if(o[l].layer&&!localStorage.getItem("load")&&o[l].appear)for(var c=0,h=o[l].layer.object;c<h.length;c++)a.World.add(a.engine.world,h[c]);else a.World.add(a.engine.world,o[l]),o[l].rigBody&&r(o[l].label,"add",o[l].rigBody.monsterParameters);else if(o[l].layer&&!localStorage.getItem("load")&&o[l].appear)for(c=0,h=o[l].layer.object;c<h.length;c++)a.World.remove(a.engine.world,h[c]);else a.World.remove(a.engine.world,o[l]),r(o[l].label,"remove");else"add"===e?(a.World.add(a.engine.world,o),o.rigBody&&r(o.label,"add",o.rigBody.monsterParameters)):(a.World.remove(a.engine.world,o),r(o.label,"remove"))}},teleportPortal:function(t,e){if(this.isInPortalFn(t)){var i=a[t.spawnTarget].value;this.object.attacker=!1,this.object.needHelp=!1,a.screenTransition("move-character","open"),a.characterControl.preventControl="mapDDungeonA"===a.currentMap,setTimeout(function(){var s=/dungeon/i.test(e)&&!t.forceGravity?a.tTH(100,50):0,n=a.tTH(100,50);if(a.tickMap=100,this.object.forceGravity=!!t.forceGravity&&t.forceGravity,a.Body.setPosition(this.object,{x:i.x+i.width/2,y:i.y+i.height/2}),this.object.pions&&this.object.pions.length)for(var r=0,o=this.object.pions;r<o.length;r++)o[r].rigBody.behaveRandomFn(1),a.Body.setPosition(o[r],{x:this.object.position.x+n,y:this.object.position.y+s}),o[r].forceGravity=this.object.forceGravity=!!t.forceGravity&&t.forceGravity}.bind(this),500)}},generateMapObject:function(t,e,i){var s=this;s.isInPortalFn(t)&&t.delay&&(/dungeon/i.test(t.locationTarget)?a.engine.world.gravity.y=0:a.engine.world.gravity.y=1.7,a.engine.world.gravity.x=0,this.object.attacker=!1,this.object.needHelp=!1,a.TBhT.value&&a.TBhT.value("Auto Save","",!0),a.isSwitchMapActive=!0,s.installMapObject(t.location,"remove"),s.installMapObject(t.locationTarget,"add"),this.object.forceGravity=!!e.forceGravity&&e.forceGravity,a.deQB(t.locationTarget),a.screenTransition("download",t.locationTarget,function(){t.delay=!1,e.delay=!1,a.YFjd.value.set("delayPortal",{tick:500,fn:function(){e.delay=!0,t.delay=!0}}),setTimeout(function(){a.isSwitchMapActive=!1},950),a.YFjd.value.set(a.cKs(),{tick:50,fn:function(){var t=/dungeon/i.test(i)&&!e.forceGravity?a.tTH(100,50):0,n=a.tTH(100,50);if(a.Body.setPosition(s.object,{x:e.x+e.width/2,y:e.y+e.height/2}),s.object.pions&&s.object.pions.length)for(var r=0,o=s.object.pions;r<o.length;r++)o[r].rigBody.behaveRandomFn(1),a.Body.setPosition(o[r],{x:s.object.position.x+n,y:s.object.position.y+t}),o[r].forceGravity=s.object.forceGravity=!!e.forceGravity&&e.forceGravity}}),a.screenTransition("build-map")}),a.jgeE.value="",a.ThQ.value=t.locationTarget,a.EOd.value(t.attach),a.JhuQ(t.locationTarget))},switchMap:function(t){var e,i;this.objTranslate.moveUp&&!a.characterControl.preventControl&&this.delayPortal(function(){if("mapA"===t)e=a.staticOriPortalMapA.value,i=a.staticOriPortalmapB.value,this.generateMapObject(e,i,t),e=a.staticOriPortalMapAA.value,i=a.staticOriPortalmapAADungeonA.value,this.generateMapObject(e,i,t),e=a.staticOriPortalMapATemp.value,i=a.staticOriPortalmapDungeonH.value,this.generateMapObject(e,i,t);else if("mapB"===t)e=a.staticOriPortalmapB.value,i=a.staticOriPortalMapA.value,this.generateMapObject(e,i,t);else for(var s in a["staticPortal"+t].value)e=a[a["staticPortal"+t].value[s].portalIn].value,i=a[a["staticPortal"+t].value[s].portalOut].value,this.generateMapObject(e,i,t)}.bind(this),1)},objTranslate:a.ufR.value,switchInnerMap:function(t){this.objTranslate.moveUp&&!a.characterControl.preventControl&&this.delayInnerPortal(function(){if("mapDDungeonA"===t){var e=a.staticOriPortalTeleportA.value;this.teleportPortal(e,t),e=a.staticOriPortalTeleportB.value,this.teleportPortal(e,t)}}.bind(this),400)},update:function(){var t=a.ThQ.value;this.switchMap(t),this.switchInnerMap(t)}};a.staticControl=i},FhdD:function(){var t,e,a=this,i=function(e,i){widthTop=i&&"large"===i?9e3:3e3;var s=a.Bodies.rectangle(6e3,-1500+a.browserHeightUpdate,50,widthTop,{isStatic:!0}),n=a.Bodies.rectangle(0,-1500+a.browserHeightUpdate,50,3e3,{isStatic:!0});t=i&&"large"===i?2*n.bounds.min.y-a.browserHeightUpdate:n.bounds.min.y;var r=a.Bodies.rectangle(n.bounds.min.x+3e3,t+50,6e3,50,{isStatic:!0}),o=a.Bodies.rectangle(3e3,n.bounds.max.y+50,6e3,50,{isStatic:!0});return r.label="staticWallTop"+e,o.label="staticWallBottom"+e,s.label="staticWallRight"+e,n.label="staticWallLeft"+e,[r,o,s,n]},s=function(t,e){return a.staticGeometry.createLayer({label:t,rangeX:e.x,rangeY:e.y,attach:"staticWallOutterBottom",layer:{object:e.layer,init:!1,firstLoad:!1},install:!1,width:3e3,height:3e3,location:e.location})},n=function(t,e,i,s){for(var n=["a_133.png a_134.png a_135.png a_136.png a_137.png a_138.png a_139.png a_140.png a_141.png a_142.png a_143.png a_144.png".split(" "),"a_121.png a_122.png a_123.png a_124.png a_125.png a_126.png a_127.png a_128.png a_129.png a_130.png a_131.png a_132.png".split(" "),"a_109.png a_110.png a_111.png a_112.png a_113.png a_114.png a_115.png a_116.png a_117.png a_118.png a_119.png a_120.png".split(" "),"a_97.png a_98.png a_99.png a_100.png a_101.png a_102.png a_103.png a_104.png a_105.png a_106.png a_107.png a_108.png".split(" "),"a_85.png a_86.png a_87.png a_88.png a_89.png a_90.png a_91.png a_92.png a_93.png a_94.png a_95.png a_96.png".split(" "),"a_73.png a_74.png a_75.png a_76.png a_77.png a_78.png a_79.png a_80.png a_81.png a_82.png a_83.png a_84.png".split(" "),"a_61.png a_62.png a_63.png a_64.png a_65.png a_66.png a_67.png a_68.png a_69.png a_70.png a_71.png a_72.png".split(" "),"a_49.png a_50.png a_51.png a_52.png a_53.png a_54.png a_55.png a_56.png a_57.png a_58.png a_59.png a_60.png".split(" "),"a_37.png a_38.png a_39.png a_40.png a_41.png a_42.png a_43.png a_44.png a_45.png a_46.png a_47.png a_48.png".split(" "),"a_25.png a_26.png a_27.png a_28.png a_29.png a_30.png a_31.png a_32.png a_33.png a_34.png a_35.png a_36.png".split(" "),"a_13.png a_14.png a_15.png a_16.png a_17.png a_18.png a_19.png a_20.png a_21.png a_22.png a_23.png a_24.png".split(" "),"a_01.png a_02.png a_03.png a_04.png a_05.png a_06.png a_07.png a_08.png a_09.png a_10.png a_11.png a_12.png".split(" ")],r=s?500:0,o=s=s||0;o<t+s;o++)a.staticGeometry.createEnviPoint(i,{background:!0,scr:a.path+e,indexRepeat:o,layer:n,range:0,attach:"staticWallOutterBottom",repeat:n[o],repeatX:500,additionalHeight:o?r-=500:0})},r=function(t,e,i,s){a.Jdh.value.total++,sDS=new createjs.LoadQueue,sDS.addEventListener("fileload",function(t){var n=[];a.path,n.push(a.Svg.pathToVertices(t.result.getElementsByTagName("path")[0],150)),(t=a.Bodies.fromVertices(s.x,s.y,n,{isStatic:!0},!0)).name=t.label=i,s.layer&&(t.layer={object:s.layer,init:!1}),a.hEP.value[e].content.staticOriGroupSVG.push(t),a.Jdh.value.current++}),sDS.addEventListener("fileerror",function(){a.Jdh.value.current++}),sDS.addEventListener("error",function(){a.Jdh.value.current++}),sDS.loadFile(a.path+t)},o=function(t){var e=a.Bodies.rectangle(t.x,t.y,60,60,{isStatic:!0,render:{sprite:{texture:t.texture}}});return e.name=e.label=t.label,e.additionalBoundsValue=t.additionalBoundsValue,e.additionalBoundsHeightValue=t.additionalBoundsHeightValue,e.additionalBoundsWidthValue=t.additionalBoundsWidthValue,e.walkFrameSpeed=2,e.behaveState=t.behaveState,e.touch=t.touch,e.isVisible=t.isVisible,e.quest={update:[],mapMark:new a.draw.mapMark,target:t.target},e},l=function(t){var e=a.Bodies.rectangle(t.x,t.y,t.point?339:1,t.point?215:1,{isStatic:!0});return e.name=e.label=t.label,e.src=t.texture,e.fixedBounds=!!t.fixedBounds&&t.fixedBounds||0,e.isVisible=void 0===t.isVisible||t.isVisible,e.quest={update:[],mapMark:new a.draw.mapMark,target:t.target},e};a.fragment=[function(){var t=0,e=200,s=a.Bodies.rectangle(t+=1e3,a.halfBottomBottom,128,50,{isStatic:!0});s.label="staticOriMBSpawnA";var n=a.Bodies.rectangle(t+=e,a.halfCenter,128,50,{isStatic:!0});n.label="staticOriMBSpawnB";var r=a.Bodies.rectangle(t-=e,a.halfTopCenter,128,50,{isStatic:!0});r.label="staticOriMBSpawnC";var o=a.Bodies.rectangle(t-=e,a.halfTopTop,128,50,{isStatic:!0});o.label="staticOriMBSpawnD";var l=a.Bodies.rectangle((t-=e)-320,a.halfBottomLvl2,640,50,{isStatic:!0});l.label="staticOriMBSpawnE",(t=a.Bodies.rectangle(t+2*e+960,a.halfBottomLvl2,1920,50,{isStatic:!0})).label="staticOriMBSpawnF";var c=a.staticGeometry.createPortal({width:200,height:200,color:"rgba( 0,0,0,0.5 )",range:400,attach:"staticWallOutterBottom",location:"mapB",targetLocation:"mapA"});return e=0,a.staticGeometry.createEnviPoint("mapB",{src:a.path+"/ornaments/grassSmallLeft.png",range:e+=1400,attach:"staticWallOutterBottom"}),a.staticGeometry.createEnviPoint("mapB",{src:a.path+"/ornaments/bushB.png",range:e+=50,attach:"staticWallOutterBottom"}),a.staticGeometry.createEnviPoint("mapB",{src:a.path+"/ornaments/foliagePackC.png",range:e+=100,attach:"staticWallOutterBottom"}),a.staticGeometry.createEnviPoint("mapB",{src:a.path+"/ornaments/grassSmallE.png",range:e+=100,attach:"staticWallOutterBottom"}),a.staticGeometry.createEnviPoint("mapB",{src:a.path+"/ornaments/grassBush.png",range:e+=700,attach:"staticWallOutterBottom"}),a.staticGeometry.createEnviPoint("mapB",{src:a.path+"/ornaments/foliagePackD.png",range:e+=300,attach:"staticWallOutterBottom"}),a.staticGeometry.createEnviPoint("mapB",{src:a.path+"/ornaments/stoneA.png",range:e+=50,attach:"staticWallOutterBottom"}),a.staticGeometry.createEnviPoint("mapB",{src:a.path+"/ornaments/mushroomRedMed.png",range:e+=1e3,attach:"staticWallOutterBottom"}),a.staticGeometry.createEnviPoint("mapB",{src:a.path+"/ornaments/grassSmallD.png",range:e+=100,attach:"staticWallOutterBottom"}),a.staticGeometry.createEnviPoint("mapB",{src:a.path+"/ornaments/grassSmallF.png",range:e+100,attach:"staticWallOutterBottom"}),a.hEP.value.mapB.content={staticWallOuttermapB:i("mapB"),staticOriMBSpawnA:s,staticOriMBSpawnB:n,staticOriMBSpawnC:r,staticOriMBSpawnD:o,staticOriMBSpawnE:l,staticOriMBSpawnF:t,staticOriPortalmapB:c},a.hEP.value.mapB.content}(),function(){var t=a.browserHeightUpdate,e=3e3,s=0,c=t-e+2370,h=a.path+"/ornaments/a/",p=a.Bodies.rectangle(s+=228,c+=200,366,391,{isStatic:!0});p.name=p.label="staticOriMCPassA",p.fixedBounds=25,p.src=a.path+"/ornaments/a/spruceSmallDark.png";var g=a.Bodies.rectangle(s+=123,c+=100,489,552,{isStatic:!0});g.name=g.label="staticOriMCPassB",g.fixedBounds=65,g.src=a.path+"/ornaments/a/spruceMedDark.png";var d=a.Bodies.rectangle(s-=30,c-=200,466,478,{isStatic:!0});d.name=d.label="staticOriMCPassC",d.src=a.path+"/ornaments/a/spruceMed.png";var m=a.Bodies.rectangle(400+(s+=240),c-=300,339,215,{isStatic:!0});m.name=m.label="staticOriMCPassE",m.fixedBounds=65,m.src=a.path+"/ornaments/a/portal right.png",(m=a.Bodies.rectangle(s-=40,c-=500,489,552,{isStatic:!0})).name=m.label="staticOriMCPassF",m.fixedBounds=75,m.src=a.path+"/ornaments/a/spruceMedDark.png";var u=a.Bodies.rectangle(s-=240,c-=100,312,332,{isStatic:!0});u.name=u.label="staticOriMCPassG",u.src=a.path+"/ornaments/a/spruceSmall.png";var f=a.Bodies.rectangle(s+=440,c-=100,466,478,{isStatic:!0});f.name=f.label="staticOriMCPassH",f.fixedBounds=55,f.src=a.path+"/ornaments/a/spruceMed.png";var v=a.Bodies.rectangle(s-=340,c-=100,466,478,{isStatic:!0});v.name=v.label="staticOriMCPassI",v.fixedBounds=45,v.src=a.path+"/ornaments/a/spruceMed.png";var b=a.Bodies.rectangle(s-=240,c-=10,366,391,{isStatic:!0});b.name=b.label="staticOriMCPassJ",b.fixedBounds=65,b.src=a.path+"/ornaments/a/spruceSmallDark.png";var S=a.Bodies.rectangle(s+=710,c+=370,430,478,{isStatic:!0});S.name=S.label="staticOriMCPassK",S.fixedBounds=20,S.src=a.path+"/ornaments/a/stoneHill.png";var x=a.Bodies.rectangle(s-=250,c-=270,1215,576,{isStatic:!0});x.name=x.label="staticOriMCPassBGL",x.src=a.path+"/ornaments/a/leftFence.png";var B=a.Bodies.rectangle(s+=650,c+=490,154,280,{isStatic:!0});B.name=B.label="staticOriMCPassM",B.fixedBounds=40,B.src=a.path+"/ornaments/a/sign street.png";var k=a.Bodies.rectangle(s+=150,c+=720,489,552,{isStatic:!0});k.name=k.label="staticOriMCPassN",k.fixedBounds=75,k.src=a.path+"/ornaments/a/spruceMedDark.png";var y=a.Bodies.rectangle(s+=220,c-=80,466,478,{isStatic:!0});y.name=y.label="staticOriMCPassO",y.fixedBounds=55,y.src=a.path+"/ornaments/a/spruceMed.png";var w=a.Bodies.rectangle(s+=50,c-=250,489,552,{isStatic:!0});w.name=w.label="staticOriMCPassP",w.fixedBounds=75,w.src=a.path+"/ornaments/a/spruceMedDark.png";var M=a.Bodies.rectangle(s+=228,c+=240,366,391,{isStatic:!0});M.name=M.label="staticOriMCPassQ",M.fixedBounds=25,M.src=a.path+"/ornaments/a/spruceSmallDark.png";var A=a.Bodies.rectangle(s-=628,c-=140,466,478,{isStatic:!0});A.name=A.label="staticOriMCPassS",A.fixedBounds=25,A.src=a.path+"/ornaments/a/spruceMed.png";var P=a.Bodies.rectangle(s+=1128,c+=40,286,278,{isStatic:!0});P.name=P.label="staticOriMCPassT",P.fixedBounds=75,P.src=a.path+"/ornaments/a/relifStone.png";var D=a.Bodies.rectangle(s+=328,c-=200,451,516,{isStatic:!0});D.name=D.label="staticOriMCPassU",D.fixedBounds=135,D.src=a.path+"/ornaments/a/stonehill2.png";var T=a.Bodies.rectangle(s+=328,c+=200,308,278,{isStatic:!0});T.name=T.label="staticOriMCPassV",T.fixedBounds=75,T.src=a.path+"/ornaments/a/relifStone2.png";var O=a.Bodies.rectangle(s,c-=600,190,347,{isStatic:!0});O.name=O.label="staticOriMCPassW",O.fixedBounds=10,O.src=a.path+"/ornaments/a/oak.png";var C=a.Bodies.rectangle(s+=300,c-=100,134,252,{isStatic:!0});C.name=C.label="staticOriMCPassX",C.fixedBounds=10,C.src=a.path+"/ornaments/a/tree f.png";var j=a.Bodies.rectangle(s-=600,c-=200,115,218,{isStatic:!0});j.name=j.label="staticOriMCPassY",j.fixedBounds=10,j.src=a.path+"/ornaments/a/tree g.png";var E=a.Bodies.rectangle(s+=450,c,114,229,{isStatic:!0});E.name=E.label="staticOriMCPassZ",E.fixedBounds=40,E.src=a.path+"/ornaments/a/relifStone3.png";var q=a.Bodies.rectangle(s+=500,c,449,173,{isStatic:!0});q.name=q.label="staticOriMCPassAA",q.src=a.path+"/ornaments/a/stonehill3.png";var N=a.Bodies.rectangle(s-=960,c-=350,67,146,{isStatic:!0});N.name=N.label="staticOriMCPassAB",N.fixedBounds=15,N.src=a.path+"/ornaments/a/buffer left.png";var H=a.Bodies.rectangle(s-=150,c-=80,67,146,{isStatic:!0});H.name=H.label="staticOriMCPassAC",H.fixedBounds=15,H.src=a.path+"/ornaments/a/buffer left.png";var F=a.Bodies.rectangle(s-=720,c+=150,367,578,{isStatic:!0});F.name=F.label="staticOriMCPassAE",F.src=a.path+"/ornaments/a/tree h.png";var R=a.Bodies.rectangle(s+=270,c-=30,366,391,{isStatic:!0});R.name=R.label="staticOriMCPassAF",R.fixedBounds=35,R.src=a.path+"/ornaments/a/spruceSmallDark.png";var G=a.Bodies.rectangle(s+=170,c-=250,489,552,{isStatic:!0});G.name=G.label="staticOriMCPassAG",G.fixedBounds=75,G.src=a.path+"/ornaments/a/spruceMedDark.png";var L=a.Bodies.rectangle(s-=210,c-=150,466,478,{isStatic:!0});L.name=L.label="staticOriMCPassAH",L.fixedBounds=45,L.src=a.path+"/ornaments/a/spruceMed.png";var W=a.Bodies.rectangle(s-=260,c-=70,312,332,{isStatic:!0});W.name=W.label="staticOriMCPassAI",W.fixedBounds=20,W.src=a.path+"/ornaments/a/spruceSmall.png";var I=a.Bodies.rectangle(s+=130,c-=130,366,391,{isStatic:!0});I.name=I.label="staticOriMCPassAJ",I.fixedBounds=35,I.src=a.path+"/ornaments/a/spruceSmallDark.png";var Y=a.Bodies.rectangle(s-=470,c-=360,1108,935,{isStatic:!0});Y.name=Y.label="staticOriMCPassBGAK",Y.src=a.path+"/ornaments/a/hill-and-tree.png";var V=a.Bodies.rectangle(s-=80,c+=730,159,127,{isStatic:!0});V.name=V.label="staticOriMCPassAM",V.src=a.path+"/ornaments/a/stone 2.png";var _=a.Bodies.rectangle(s-=70,c-=90,851,353,{isStatic:!0});_.name=_.label="staticOriMCPassBGAL",_.src=a.path+"/ornaments/a/small lake.png";var X=a.Bodies.rectangle(s-=560,c-=820,1908,871,{isStatic:!0});X.name=X.label="staticOriMCPassBGAN",X.src=a.path+"/ornaments/a/group-trees.png",(X=a.Bodies.rectangle(s+=3740,c+=1090,66,147,{isStatic:!0})).name=X.label="staticOriMCPassAO",X.src=a.path+"/ornaments/a/buffer right.png";var U=a.Bodies.rectangle(s-=120,c-=100,66,147,{isStatic:!0});U.name=U.label="staticOriMCPassAP",U.src=a.path+"/ornaments/a/buffer right.png";var J=a.Bodies.rectangle(s+=70,c-=500,625,657,{isStatic:!0});J.name=J.label="staticOriMCPassAQ",J.fixedBounds=85,J.src=a.path+"/ornaments/a/tree i.png";var z=a.Bodies.rectangle(s+=430,c-=100,451,516,{isStatic:!0});z.name=z.label="staticOriMCPassAR",z.fixedBounds=75,z.src=a.path+"/ornaments/a/stonehill4.png";var Q=a.Bodies.rectangle(s+=210,c-=50,339,215,{isStatic:!0});Q.name=Q.label="staticOriMCPassAS",Q.fixedBounds=65,Q.src=a.path+"/ornaments/a/portal left.png";var K=a.Body.nextGroup(!0);s=a.Composites.stack(2750,t-e+1180,20,1,10,10,function(t,e){var i=a.Bodies.rectangle(t,e,50,80,{collisionFilter:{group:K},render:{sprite:{texture:a.path+"/ornaments/a/bridge.png"}}});return i.name=i.label="staticOriPassBGBridge"+a.cKs(),i.forceGravity=!0,i}),a.Composites.chain(s,.1,0,-.1,0,{stiffness:1}),s.bodies[0].isStatic=!0,s.bodies[19].isStatic=!0,a.Body.setPosition(s.bodies[19],{x:s.bodies[19].position.x+400,y:s.bodies[19].position.y}),c="mapAADungeonA",svgPosXA=1230,svgPosYA=t-e+940,svgPosXB=svgPosXA+230,svgPosYB=svgPosYA-395,svgPosXC=svgPosXB-1020,svgPosYC=svgPosYB-125,svgPosXD=svgPosXC+1850,svgPosYD=svgPosYC+215,svgPosXE=svgPosXD+1070,svgPosYE=svgPosYD+910,r("/ornaments/a/lake.svg",c="mapAADungeonA","staticOriMCD",{x:svgPosXA,y:svgPosYA}),r("/ornaments/a/stone hill upper.svg",c,"staticOriMCSVG2",{x:svgPosXB,y:svgPosYB}),r("/ornaments/a/upper hill 2.svg",c,"staticOriMCSVG3",{x:svgPosXC,y:svgPosYC}),r("/ornaments/a/cliff buffer left a.svg",c,"staticOriMCSVG4",{x:svgPosXD,y:svgPosYD}),r("/ornaments/a/cliff buffer left b.svg",c,"staticOriMCSVG5",{x:3353,y:t-e+1494}),r("/ornaments/a/cliff buffer left c.svg",c,"staticOriMCSVG6",{x:3362,y:t-e+2454}),r("/ornaments/a/bridge buffer bottom.svg",c,"staticOriMCSVG7",{x:2955,y:t-e+1136}),r("/ornaments/a/bridge buffer bottom b.svg",c,"staticOriMCSVG8",{x:4060,y:t-e+1294}),r("/ornaments/a/bridge buffer bottom.svg",c,"staticOriMCSVG9",{x:3205,y:t-e+1316}),r("/ornaments/a/bridge buffer bottom c.svg",c,"staticOriMCSVG10",{x:3800,y:t-e+1126}),r("/ornaments/a/cliff buffer right.svg",c,"staticOriMCSVG11",{x:3941,y:t-e+435}),r("/ornaments/a/cliff buffer right b.svg",c,"staticOriMCSVG12",{x:4790,y:t-e+1561}),n(6,"/ornaments/a/",c,6),Q=a.path+"/1px.png";var Z=a.Bodies.rectangle(2670,-1130,10,10,{isStatic:!0});Z.src=Q,Z.name=Z.label="staticOriMCPassPathPointA";var $=a.Bodies.rectangle(2870,-1190,10,10,{isStatic:!0});$.src=Q,$.name=$.label="staticOriMCPassPathPointB";var tt=a.Bodies.rectangle(4500,-1170,10,10,{isStatic:!0});tt.src=Q,tt.name=tt.label="staticOriMCPassPathPointC",Q=[Z,$,tt],a.staticGeometry.createMap({location:c,src:a.path+"/ornaments/a/map.png"}),Z=l({isVisible:!0,label:"staticOriMapAADngAPassSpawnA",texture:h+"portal left.png",x:5036,y:t-3e3+872,point:"portal",fixedBounds:65,target:"help"}),h=l({isVisible:!0,label:"staticOriMapAADngAPassSpawnB",texture:h+"portal right.png",x:784,y:t-3e3+2132,point:"portal",fixedBounds:65,target:"help"}),$=l({label:"staticOriMapAADngAPassSpawnC",texture:a.path+"/1px.png",x:2750,y:t-3e3+2312,target:"help"}),tt=l({label:"staticOriMapAADngAPassSpawnD",texture:a.path+"/1px.png",x:1045,y:t-3e3+1412,target:"help"});var et=l({label:"staticOriMapAADngAPassSpawnE",texture:a.path+"/1px.png",x:4780,y:t-3e3+485,target:"help"}),at=l({label:"staticOriMapAADngAPassSpawnF",texture:a.path+"/1px.png",x:5284,y:t-3e3+1196,target:"help"}),it=a.staticGeometry.createPortal({width:200,height:200,color:"rgba( 255, 36, 36, 1 )",effect:"glowPortal",rangeX:72,rangeY:273,attach:"staticOriMapAADngAPassSpawnA",location:"mapAADungeonA",targetLocation:"mapAADungeonB"}),st=a.staticGeometry.createPortal({width:200,height:200,color:"rgba( 134, 65, 245, 1 )",effect:"glowPortal",rangeX:70,rangeY:270,attach:"staticOriMapAADngAPassSpawnB",location:"mapAADungeonA",targetLocation:"mapDungeonD"}),nt=o({isVisible:!1,touch:!0,x:947,y:t-3e3+2038,additionalBoundsValue:80,additionalBoundsHeightValue:-10,additionalBoundsWidthValue:0,target:"info",texture:a.path+"/humanArmored-right.png",label:"staticOriNpcMapAADngAPassSpawnA"}),rt=o({isVisible:!1,touch:!1,x:1045,y:t-3e3+1966,additionalBoundsValue:70,additionalBoundsHeightValue:45,additionalBoundsWidthValue:15,target:"info",texture:a.path+"/humanMage-right.png",label:"staticOriNpcMapAADngAPassSpawnB"});return t=o({isVisible:!1,touch:!1,x:1218,y:t-3e3+1995,additionalBoundsValue:70,additionalBoundsHeightValue:45,additionalBoundsWidthValue:-10,target:"info",texture:a.path+"/humanArcher-left.png",label:"staticOriNpcMapAADngAPassSpawnC"}),a.hEP.value.mapAADungeonA.content={staticWallOuttermapAADungeonA:i(c),staticPortalmapAADungeonA:{portalA:{portalIn:"staticOriPortalmapAADungeonA",portalOut:"staticOriPortalmapAADungeonB"},portalB:{portalIn:"staticOriPortalBmapAADungeonA",portalOut:"staticOriPortalmapDungeonD"}},staticOriPortalmapAADungeonA:it,staticOriPortalBmapAADungeonA:st,staticOriGroupSVG:[],staticOriGroupPathPoints:Q,staticOriMapAADngAPassSpawnA:Z,staticOriMapAADngAPassSpawnB:h,staticOriMapAADngAPassSpawnC:$,staticOriMapAADngAPassSpawnD:tt,staticOriMapAADngAPassSpawnE:et,staticOriMapAADngAPassSpawnF:at,staticOriNpcMapAADngAPassSpawnA:nt,staticOriNpcMapAADngAPassSpawnB:rt,staticOriNpcMapAADngAPassSpawnC:t,staticOriMCSpawnN:F,staticOriMCSpawnBridge:s,staticOriMCSpawnGroup:[p,g,d,m,u,f,v,b,S,x,B,k,y,w,M,A,P,D,O,C,j,E,q,N,H,R,G,L,W,I,_,Y,T,V,X,U,J,z]},a.hEP.value.mapAADungeonA.content}(),function(){var t=c=a.browserHeightUpdate,e=0,s=c-3e3+2400,h=a.path+"/ornaments/e/",p=a.Bodies.rectangle(e+=228,s+=200,489,522,{isStatic:!0});p.name=p.label="staticOriMDPassA",p.fixedBounds=75,p.src=a.path+"/ornaments/b/spruceMedDark.png";var g=a.Bodies.rectangle(e+=900,s-=600,114,229,{isStatic:!0});g.name=g.label="staticOriMDPassB",g.fixedBounds=35,g.src=a.path+"/ornaments/b/ruin stone a.png";var d=a.Bodies.rectangle(300+(e-=20),s-=470,114,229,{isStatic:!0});d.name=d.label="staticOriMDPassC",d.fixedBounds=35,d.src=a.path+"/ornaments/b/ruin stone a.png";var m=a.Bodies.rectangle(e+=160,s-=290,312,322,{isStatic:!0});m.name=m.label="staticOriMDPassD",m.fixedBounds=22,m.src=a.path+"/ornaments/b/spruceSmall.png",(m=a.Bodies.rectangle(e-=60,s-=540,466,478,{isStatic:!0})).name=m.label="staticOriMDPassE",m.fixedBounds=55,m.src=a.path+"/ornaments/b/spruceMed.png";var u=a.Bodies.rectangle(e+=80,s-=240,312,322,{isStatic:!0});u.name=u.label="staticOriMDPassF",u.fixedBounds=20,u.src=a.path+"/ornaments/b/spruceSmall.png";var f=a.Bodies.rectangle(e-=220,s-=220,366,391,{isStatic:!0});f.name=f.label="staticOriMDPassG",f.fixedBounds=35,f.src=a.path+"/ornaments/b/spruceSmallDark.png";var v=a.Bodies.rectangle(e-=420,s+=120,671,711,{isStatic:!0});v.name=v.label="staticOriMDPassH",v.fixedBounds=75,v.src=a.path+"/ornaments/b/tree b.png";var b=a.Bodies.rectangle(e+=220,s+=280,366,391,{isStatic:!0});b.name=b.label="staticOriMDPassI",b.fixedBounds=35,b.src=a.path+"/ornaments/b/spruceSmallDark.png";var S=a.Bodies.rectangle(e+=620,s+=280,366,391,{isStatic:!0});S.name=S.label="staticOriMDPassJ",S.fixedBounds=35,S.src=a.path+"/ornaments/b/spruceSmallDark.png";var x=a.Bodies.rectangle(e+=340,s-=780,366,391,{isStatic:!0});x.name=x.label="staticOriMDPassK",x.fixedBounds=35,x.src=a.path+"/ornaments/b/spruceSmallDark.png";var B=a.Bodies.rectangle(e+=1110,s+=40,312,322,{isStatic:!0});B.name=B.label="staticOriMDPassL",B.fixedBounds=20,B.src=a.path+"/ornaments/b/spruceSmall.png";var k=a.Bodies.rectangle(e+=380,s-=40,580,600,{isStatic:!0});k.name=k.label="staticOriMDPassM",k.fixedBounds=75,k.src=a.path+"/ornaments/b/tree.png";var y=a.Bodies.rectangle(e+=80,s+=340,671,711,{isStatic:!0});y.name=y.label="staticOriMDPassN",y.fixedBounds=75,y.src=a.path+"/ornaments/b/tree b.png";var w=a.Bodies.rectangle(e+=380,s-=310,671,711,{isStatic:!0});w.name=w.label="staticOriMDPassO",w.fixedBounds=75,w.src=a.path+"/ornaments/b/tree b.png";var M=a.Bodies.rectangle(e+=80,s+=510,312,322,{isStatic:!0});M.name=M.label="staticOriMDPassP",M.fixedBounds=20,M.src=a.path+"/ornaments/b/spruceSmall.png";var A=a.Bodies.rectangle(e-=280,s+=210,489,522,{isStatic:!0});A.name=A.label="staticOriMDPassQ",A.fixedBounds=75,A.src=a.path+"/ornaments/b/spruceMedDark.png";var P=a.Bodies.rectangle(e+=420,s-=540,489,522,{isStatic:!0});P.name=P.label="staticOriMDPassR",P.fixedBounds=75,P.src=a.path+"/ornaments/b/spruceMedDark.png";var D=a.Bodies.rectangle(e+=920,s-=90,580,600,{isStatic:!0});D.name=D.label="staticOriMDPassS",D.fixedBounds=75,D.src=a.path+"/ornaments/b/tree.png";var T=a.Bodies.rectangle(e+=220,s+=190,671,711,{isStatic:!0});T.name=T.label="staticOriMDPassT",T.fixedBounds=75,T.src=a.path+"/ornaments/b/tree b.png";var O=a.Bodies.rectangle(e+=120,s+=290,671,711,{isStatic:!0});O.name=O.label="staticOriMDPassU",O.fixedBounds=75,O.src=a.path+"/ornaments/b/tree b.png";var C=a.Bodies.rectangle(e+=340,s-=480,366,391,{isStatic:!0});C.name=C.label="staticOriMDPassV",C.fixedBounds=35,C.src=a.path+"/ornaments/b/spruceSmallDark.png";var j=a.Bodies.rectangle(e+=120,s+=110,489,522,{isStatic:!0});j.name=j.label="staticOriMDPassW",j.fixedBounds=55,j.src=a.path+"/ornaments/b/spruceMedDark.png";var E=a.Bodies.rectangle(e-=220,s+=110,312,322,{isStatic:!0});E.name=E.label="staticOriMDPassX",E.fixedBounds=25,E.src=a.path+"/ornaments/b/spruceSmall.png";var q=a.Bodies.rectangle(320+(e-=1420),s+=450,308,278,{isStatic:!0});q.name=q.label="staticOriMDPassZ",q.fixedBounds=75,q.src=a.path+"/ornaments/b/ruin stone c.png";var N=a.Bodies.rectangle(e-=400,s+=400,114,229,{isStatic:!0});N.name=N.label="staticOriMDPassAA",N.fixedBounds=35,N.src=a.path+"/ornaments/b/ruin stone a.png";var H=a.Bodies.rectangle(e-=140,s+=400,114,229,{isStatic:!0});H.name=H.label="staticOriMDPassAB",H.fixedBounds=35,H.src=a.path+"/ornaments/b/ruin stone a.png",(e=a.Bodies.rectangle(e+840,s-350,398,516,{isStatic:!0})).name=e.label="staticOriMDPassAC",e.fixedBounds=135,e.src=a.path+"/ornaments/b/stone b.png",(s=a.Bodies.rectangle(880,-1070,366,391,{isStatic:!0})).name=s.label="staticOriMDPassAD",s.fixedBounds=35,s.src=a.path+"/ornaments/b/spruceSmallDark.png";var F=a.Bodies.rectangle(480,-1470,114,229,{isStatic:!0});F.name=F.label="staticOriMDPassAE",F.fixedBounds=35,F.src=a.path+"/ornaments/b/ruin stone a.png";var R=l({isVisible:!0,label:"staticOriMapAADngBPassSpawnA",texture:h+"portal right.png",x:839,y:c-3e3+798,point:"portal",fixedBounds:65,target:"help"});h=l({isVisible:!0,label:"staticOriMapAADngBPassSpawnB",texture:h+"portal right.png",x:4860,y:c-3e3+868,point:"portal",fixedBounds:65,target:"help"});var G=l({label:"staticOriMapAADngBPassSpawnC",texture:a.path+"/1px.png",x:2020,y:c-3e3+1287,target:"help"}),L=l({label:"staticOriMapAADngBPassSpawnD",texture:a.path+"/1px.png",x:3099,y:c-3e3+1629,target:"help"}),W=l({label:"staticOriMapAADngBPassSpawnE",texture:a.path+"/1px.png",x:967,y:c-3e3+1930,target:"help"}),I=a.staticGeometry.createPortal({width:200,height:200,color:a.rgbRandom(1),effect:"glowPortal",rangeX:70,rangeY:270,attach:"staticOriMapAADngBPassSpawnA",location:"mapAADungeonB",targetLocation:"mapAADungeonA"}),Y=a.staticGeometry.createPortal({width:200,height:200,color:a.rgbRandom(1),effect:"glowPortal",rangeX:70,rangeY:270,attach:"staticOriMapAADngBPassSpawnB",location:"mapAADungeonB",targetLocation:"mapDungeonA"});c=o({isVisible:!0,touch:!0,x:3051,y:c-3e3+1038,additionalBoundsValue:70,additionalBoundsHeightValue:45,additionalBoundsWidthValue:-10,target:"info",texture:a.path+"/humanArcher-right.png",label:"staticOriNpcMapAADngBPassSpawnA"});var V=a.path+"/1px.png",_=a.Bodies.rectangle(4500,-1170,10,10,{isStatic:!0});return _.src=V,_.name=_.label="staticOriMCPassPathPointA",V=[_],_=0,a.staticGeometry.createMap({location:"mapAADungeonB",src:a.path+"/ornaments/b/map.png"}),r("/ornaments/b/buffer bottom a.svg","mapAADungeonB","staticOriBufferMDA",{x:2270,y:t-3e3+2535}),r("/ornaments/b/buffer bottom b.svg","mapAADungeonB","staticOriBufferMDB",{x:4951,y:t-3e3+2015}),r("/ornaments/b/buffer upper a.svg","mapAADungeonB","staticOrBufferiMDC",{x:2075,y:t-3e3+533}),n(6,"/ornaments/b/","mapAADungeonB",6),a.hEP.value.mapAADungeonB.content={staticWallOuttermapAADungeonB:i("mapAADungeonB"),staticPortalmapAADungeonB:{portalA:{portalIn:"staticOriPortalmapAADungeonB",portalOut:"staticOriPortalmapAADungeonA"},portalB:{portalIn:"staticOriPortalmapAADungeonB2",portalOut:"staticOriPortalBmapDungeonA"}},staticOriPortalmapAADungeonB:I,staticOriPortalmapAADungeonB2:Y,staticOriNpcMapAADngBPassSpawnA:c,staticOriMDSpawnA:H,staticOriMapAADngBPassSpawnA:R,staticOriMapAADngBPassSpawnB:h,staticOriMapAADngBPassSpawnC:G,staticOriMapAADngBPassSpawnD:L,staticOriMapAADngBPassSpawnE:W,staticOriGroupPathPoints:V,staticOriGroupSVG:[],staticOriMCSpawnGroup:[p,g,d,m,u,f,v,b,S,x,B,k,y,w,M,A,P,D,T,O,C,j,E,q,N,e,s,F]},a.hEP.value.mapAADungeonB.content}(),function(){var t=i(l),e=a.path+"/1px.png";(t=a.Bodies.rectangle(3e3,t[3].bounds.max.y-90,6e3,90,{isStatic:!0})).name=t.label="staticOriMCFloor",t.src=e,(e=a.Bodies.rectangle(500,490,129,170,{isStatic:!0})).src=a.path+"/ornaments/a/portal b.png",e.name=e.label="staticOriPassPortalA";var s=a.Bodies.rectangle(5400,490,129,170,{isStatic:!0});s.src=a.path+"/ornaments/a/portal b.png",s.name=s.label="staticOriPassPortalB";var r=a.staticGeometry.createPortal({width:200,height:200,rangeX:-35,rangeY:160,color:a.rgbRandom(1),effect:"glowPortal",attach:"staticOriMCPortalA",location:"mapC",targetLocation:"mapAADungeonB"}),o=a.staticGeometry.createPortal({width:200,height:200,rangeX:-35,rangeY:160,color:a.rgbRandom(1),effect:"glowPortal",attach:"staticOriMCPortalB",location:"mapC",targetLocation:"mapDDungeonA"}),l="mapC";return n(3,"/ornaments/c/",l,7),a.hEP.value.mapC.content={staticOriMCFloor:t,staticWallOuttermapC:i(l),staticOriMCPortalA:e,staticOriMCPortalB:s,staticPortalmapC:{portalA:{portalIn:"staticOriPortalmapC",portalOut:"staticOriPortalmapAADungeonB2"},portalB:{portalIn:"staticOriPortalmapC2",portalOut:"staticOriPortalmapDDungeonA"}},staticOriPortalmapC:r,staticOriPortalmapC2:o},a.hEP.value.mapC.content}(),function(){var t=a.path+"/ornaments/d/",s=e=a.browserHeightUpdate,c=3e3,h=a.Bodies.rectangle(767,s-c+2520,176,186,{isStatic:!0});h.name=h.label="staticOriMEPassA",h.src=a.path+"/ornaments/d/buffer bridge bottom left a.png";var p=a.Bodies.rectangle(790,s-c+2415,176,186,{isStatic:!0});p.name=p.label="staticOriMEPassB",p.src=a.path+"/ornaments/d/buffer bridge top left a.png";var g=a.Bodies.rectangle(2107,s-c+2535,160,205,{isStatic:!0});g.name=g.label="staticOriMEPassD",g.src=a.path+"/ornaments/d/buffer-bridge-bottom-b.png";var d=a.Bodies.rectangle(2100,s-c+2500,147,205,{isStatic:!0});d.name=d.label="staticOriMEPassE",d.src=a.path+"/ornaments/d/buffer top b.png";var m=a.Bodies.rectangle(2425,s-c+2535,160,205,{isStatic:!0});m.name=m.label="staticOriMEPassG",m.src=a.path+"/ornaments/d/buffer bottom c.png";var u=a.Bodies.rectangle(2440,s-c+2500,160,205,{isStatic:!0});u.name=u.label="staticOriMEPassH",u.src=a.path+"/ornaments/d/buffer top c.png";var f=a.Bodies.rectangle(3407,s-c+2535,160,205,{isStatic:!0});f.name=f.label="staticOriMEPassJ",f.src=a.path+"/ornaments/d/buffer-bridge-bottom-b.png";var v=a.Bodies.rectangle(3400,s-c+2500,147,205,{isStatic:!0});v.name=v.label="staticOriMEPassK",v.src=a.path+"/ornaments/d/buffer top b.png";var b=a.Bodies.rectangle(3737,s-c+2535,160,205,{isStatic:!0});b.name=b.label="staticOriMEPassM",b.src=a.path+"/ornaments/d/buffer bottom c.png";var S=a.Bodies.rectangle(3750,s-c+2500,160,205,{isStatic:!0});S.name=S.label="staticOriMEPassN",S.src=a.path+"/ornaments/d/buffer top c.png";var x=a.Bodies.rectangle(5267,s-c+2530,160,205,{isStatic:!0});x.name=x.label="staticOriMEPassP",x.src=a.path+"/ornaments/d/buffer-bridge-bottom-b.png";var B=a.Bodies.rectangle(5261,s-c+2500,147,205,{isStatic:!0});B.name=B.label="staticOriMEPassQ",B.src=a.path+"/ornaments/d/buffer top b.png";var k=a.Composites.stack(862,s-c+2560,18,1,1,1,function(t,e){var i=a.Bodies.rectangle(t,e,50,80,{render:{sprite:{texture:a.path+"/ornaments/d/buffer left bridge.png"}}});return i.name=i.label="staticOriPassBGBridgeA"+a.cKs(),i.forceGravity=!0,i});a.Composites.chain(k,.1,0,-.1,0,{stiffness:1}),k.bodies[0].isStatic=!0,k.bodies[17].isStatic=!0,a.Body.setPosition(k.bodies[0],{x:k.bodies[0].position.x-27,y:k.bodies[0].position.y-39}),a.Body.setPosition(k.bodies[17],{x:k.bodies[17].position.x+253,y:k.bodies[17].position.y});var y=a.Composites.stack(2525,s-c+2600,13,1,1,1,function(t,e){var i=a.Bodies.rectangle(t,e,50,80,{render:{sprite:{texture:a.path+"/ornaments/d/buffer left bridge.png"}}});return i.name=i.label="staticOriPassBGBridgeB"+a.cKs(),i.forceGravity=!0,i});a.Composites.chain(y,.1,0,-.1,0,{stiffness:1}),y.bodies[0].isStatic=!0,y.bodies[12].isStatic=!0,a.Body.setPosition(y.bodies[0],{x:y.bodies[0].position.x-27,y:y.bodies[0].position.y-39}),a.Body.setPosition(y.bodies[12],{x:y.bodies[12].position.x+144,y:y.bodies[12].position.y-40});var w=a.Composites.stack(3835,s-c+2600,20,1,1,1,function(t,e){var i=a.Bodies.rectangle(t,e,50,80,{render:{sprite:{texture:a.path+"/ornaments/d/buffer left bridge.png"}}});return i.name=i.label="staticOriPassBGBridgeC"+a.cKs(),i.forceGravity=!0,i});a.Composites.chain(w,.1,0,-.1,0,{stiffness:1}),w.bodies[0].isStatic=!0,w.bodies[19].isStatic=!0,a.Body.setPosition(w.bodies[0],{x:w.bodies[0].position.x-27,y:w.bodies[0].position.y-39}),a.Body.setPosition(w.bodies[19],{x:w.bodies[19].position.x+340,y:w.bodies[19].position.y-40}),r("/ornaments/d/svg buffer a.svg","mapDDungeonA","staticOriMEA",{x:650,y:s-c+2210}),r("/ornaments/d/svg buffer b.svg","mapDDungeonA","staticOriMEB",{x:550,y:s-c+2765}),r("/ornaments/d/svg buffer c.svg","mapDDungeonA","staticOriMEC",{x:1500,y:s-c+2685}),r("/ornaments/d/svg buffer d.svg","mapDDungeonA","staticOriMED",{x:1610,y:s-c+2480}),r("/ornaments/d/svg buffer e.svg","mapDDungeonA","staticOriMEE",{x:2980,y:s-c+2695}),r("/ornaments/d/svg buffer f.svg","mapDDungeonA","staticOriMEF",{x:3055,y:s-c+2500}),r("/ornaments/d/svg buffer g.svg","mapDDungeonA","staticOriMEG",{x:4409,y:s-c+2696}),r("/ornaments/d/svg buffer h.svg","mapDDungeonA","staticOriMEH",{x:4645,y:s-c+2496}),r("/ornaments/d/svg buffer i.svg","mapDDungeonA","staticOriMEI",{x:5194,y:s-c+2188}),r("/ornaments/d/svg buffer j.svg","mapDDungeonA","staticOriMEJ",{x:5408,y:s-c+2800}),r("/ornaments/d/svg buffer k.svg","mapDDungeonA","staticOriMEK",{x:5300,y:s-c+1536}),r("/ornaments/d/svg buffer l.svg","mapDDungeonA","staticOriMEL",{x:4190,y:s-c+1407}),r("/ornaments/d/svg buffer m.svg","mapDDungeonA","staticOriMEM",{x:3170,y:s-c+1230}),r("/ornaments/d/svg buffer n.svg","mapDDungeonA","staticOriMEN",{x:2590,y:s-c+1138}),r("/ornaments/d/svg buffer o.svg","mapDDungeonA","staticOriMEO",{x:790,y:s-c+1198}),r("/ornaments/d/svg buffer p.svg","mapDDungeonA","staticOriMEP",{x:3820,y:s-c+895}),r("/ornaments/d/svg buffer q.svg","mapDDungeonA","staticOriMEQ",{x:4950,y:s-c+761}),n(6,"/ornaments/d/","mapDDungeonA",6);var M=a.Bodies.rectangle(600,190,10,10,{isStatic:!0});M.name=M.label="staticOriMCPassPathPointA";var A=a.Bodies.rectangle(800,190,10,10,{isStatic:!0});A.name=A.label="staticOriMCPassPathPointB";var P=a.Bodies.rectangle(2480,240,10,10,{isStatic:!0});P.name=P.label="staticOriMCPassPathPointC";var D=a.Bodies.rectangle(3580,240,10,10,{isStatic:!0});D.name=D.label="staticOriMCPassPathPointD";var T=a.Bodies.rectangle(5380,240,10,10,{isStatic:!0});T.name=T.label="staticOriMCPassPathPointE",M=[M,A,P,D,T],(A=a.Bodies.rectangle(5300,s-c+2176,129,170,{isStatic:!0})).src=a.path+"/ornaments/a/portal b.png",A.name=A.label="staticOriPassTeleportA",(P=a.Bodies.rectangle(5600,s-c+1576,129,170,{isStatic:!0})).src=a.path+"/ornaments/a/portal b.png",P.name=P.label="staticOriPassTeleportB",a.staticGeometry.createMap({location:"mapDDungeonA",src:t+"map.png"}),D=a.staticGeometry.createPortal({width:200,height:200,rangeX:-35,rangeY:225,color:a.rgbRandom(1),effect:"glowPortal",attach:"staticOriMapDDngAPassSpawnB",location:"mapDDungeonA",targetLocation:"mapDungeonD"}),T=a.staticGeometry.createPortal({forceGravity:!0,isVisible:!1,width:200,height:200,rangeX:-35,rangeY:225,color:a.rgbRandom(1),effect:"glowPortal",attach:"staticOriMapDDngAPassSpawnF",location:"mapDDungeonA",targetLocation:"mapDungeonH"});var O=a.staticGeometry.createPortal({width:200,height:200,rangeX:-35,rangeY:160,color:a.rgbRandom(1),effect:"glowPortal",attach:"staticOriPassTeleportA",location:"mapDDungeonA",spawnTarget:"staticOriPortalTeleportB",forceGravity:!0}),C=a.staticGeometry.createPortal({width:200,height:200,rangeX:-35,rangeY:160,color:a.rgbRandom(1),effect:"glowPortal",attach:"staticOriPassTeleportB",location:"mapDDungeonA",spawnTarget:"staticOriPortalTeleportA"}),j=o({isVisible:!0,touch:!0,x:5498,y:e-3e3+2275,additionalBoundsValue:85,additionalBoundsHeightValue:45,additionalBoundsWidthValue:0,target:"info",texture:a.path+"/earthElementalMageB-left.png",label:"staticOriNpcMapDDngAPassSpawnA"}),E=l({label:"staticOriMapDDngAPassSpawnA",texture:a.path+"/1px.png",x:3861,y:e-3e3+1340,target:"help"}),q=l({isVisible:!0,label:"staticOriMapDDngAPassSpawnB",texture:t+"portal b.png",x:811,y:e-3e3+2183,point:"portal",fixedBounds:65,target:"help"}),N=l({label:"staticOriMapDDngAPassSpawnC",texture:a.path+"/1px.png",x:2177,y:e-3e3+1104,target:"help"}),H=l({label:"staticOriMapDDngAPassSpawnD",texture:a.path+"/1px.png",x:817,y:e-3e3+1140,target:"help"}),F=l({label:"staticOriMapDDngAPassSpawnE",texture:a.path+"/1px.png",x:5098,y:e-3e3+736,target:"help"});return t=l({isVisible:!1,label:"staticOriMapDDngAPassSpawnF",texture:t+"portal b.png",x:5788,y:e-3e3+610,point:"portal",fixedBounds:65,target:"help"}),a.hEP.value.mapDDungeonA.content={staticWallOuttermapDDungeonA:i("mapDDungeonA"),staticOriGroupPathPoints:M,staticPortalmapDDungeonA:{portalA:{portalIn:"staticOriPortalmapDDungeonA",portalOut:"staticOriPortalBmapDungeonD"},portalB:{portalIn:"staticOriPortalBmapDDungeonA",portalOut:"staticOriPortalmapDungeonH"}},staticOriPortalmapDDungeonA:D,staticOriPortalBmapDDungeonA:T,staticOriMESpawnA:h,staticOriNpcMapDDngAPassSpawnA:j,staticOriMapDDngAPassSpawnA:E,staticOriMapDDngAPassSpawnB:q,staticOriMapDDngAPassSpawnC:N,staticOriMapDDngAPassSpawnD:H,staticOriMapDDngAPassSpawnE:F,staticOriMapDDngAPassSpawnF:t,staticOriPassTeleportA:A,staticOriPortalTeleportA:O,staticOriPassTeleportB:P,staticOriPortalTeleportB:C,staticOriMESpawnBrigeA:k,staticOriMESpawnBrigeB:y,staticOriMESpawnBrigeC:w,staticOriGroupSVG:[],staticOriMDSpawnGroup:[p,g,d,m,u,f,v,b,S,x,B]},a.hEP.value.mapDDungeonA.content}(),function(){var t=a.path+"/ornaments/e/",e=a.browserHeightUpdate;n(6,"/ornaments/e/","mapDungeonA",6);var r=l({isVisible:!0,label:"staticOriDngAPassSpawnA",texture:t+"portal right.png",x:4409,y:e-3e3+1912,point:"portal",fixedBounds:65,target:"help"}),c=l({label:"staticOriAPassSpawnB",texture:a.path+"/1px.png",x:1011,y:e-3e3+1956,target:"help"}),h=l({label:"staticOriAPassSpawnC",texture:a.path+"/1px.png",x:1624,y:e-3e3+977,target:"help"});t=l({isVisible:!1,label:"staticOriDngAPassSpawnD",texture:t+"portal left.png",x:4989,y:e-3e3+698,point:"portal",fixedBounds:65,target:"help"});var p=o({isVisible:!0,touch:!0,x:5037,y:e-3e3+2350,additionalBoundsValue:55,additionalBoundsHeightValue:60,additionalBoundsWidthValue:15,target:"info",texture:a.path+"/hollowMage-left.png",label:"staticOriNpcDngAPassSpawnA"}),g=o({isVisible:!0,touch:!0,x:3288,y:e-3e3+490,additionalBoundsValue:5,additionalBoundsHeightValue:95,additionalBoundsWidthValue:0,target:"info",texture:a.path+"/hollowArcherB-left.png",label:"staticOriNpcDngAPassSpawnB"}),d=a.staticGeometry.createPortal({width:200,height:200,color:a.rgbRandom(1),effect:"glowPortal",rangeX:70,rangeY:270,attach:"staticOriDngAPassSpawnA",location:"mapDungeonA",targetLocation:"mapDungeonG"}),m=a.staticGeometry.createPortal({isVisible:!1,width:200,height:200,color:a.rgbRandom(1),effect:"glowPortal",rangeX:70,rangeY:270,attach:"staticOriDngAPassSpawnD",location:"mapDungeonA",targetLocation:"mapAADungeonB"}),u=a.Bodies.rectangle(4500,-1170,10,10,{isStatic:!0});return u.src=a.path+"/1px.png",u.name=u.label="staticOriAPassPathPointA",u=[u],a.staticGeometry.createMap({location:"mapDungeonA",src:a.path+"/ornaments/e/map.png"}),a.hEP.value.mapDungeonA.content={staticWallOuttermapDungeonA:i("mapDungeonA"),staticPortalmapDungeonA:{portalA:{portalIn:"staticOriPortalmapDungeonA",portalOut:"staticOriPortalBmapDungeonG"},portalB:{portalIn:"staticOriPortalBmapDungeonA",portalOut:"staticOriPortalmapAADungeonB2"}},staticOriPortalmapDungeonA:d,staticOriPortalBmapDungeonA:m,staticOriDngAPassSpawnA:r,staticOriDngAPassSpawnB:c,staticOriDngAPassSpawnC:h,staticOriDngAPassSpawnD:t,staticOriNpcDngAPassSpawnA:p,staticOriNpcDngAPassSpawnB:g,staticOriGroupPathPoints:u,staticOriGroupSVG:[],groupLayer:[s("staticOriAPassLayerA",{x:0,y:0,location:"mapDungeonA",layer:function(){var t=a.Bodies.rectangle(1670,e-420,133,196,{isStatic:!0});t.src=a.path+"/ornaments/e/treeA.png";var i=a.Bodies.rectangle(270,e-321,133,196,{isStatic:!0});i.src=a.path+"/ornaments/e/treeB.png";var s=a.Bodies.rectangle(1047,e-714,147,274,{isStatic:!0});s.src=a.path+"/ornaments/e/treeC.png";var n=a.Bodies.rectangle(397,e-443,143,248,{isStatic:!0});n.src=a.path+"/ornaments/e/treeD.png";var r=a.Bodies.rectangle(1346,e-960,166,245,{isStatic:!0});r.src=a.path+"/ornaments/e/treeE.png";var o=a.Bodies.rectangle(533,e-1114,145,249,{isStatic:!0});o.src=a.path+"/ornaments/e/treeF.png";var l=a.Bodies.rectangle(998,e-1331,117,167,{isStatic:!0});l.src=a.path+"/ornaments/e/treeG.png";var c=a.Bodies.rectangle(2701,e-409,169,291,{isStatic:!0});c.src=a.path+"/ornaments/e/treeH.png";var h=a.Bodies.rectangle(2867,e-1175,147,274,{isStatic:!0});h.src=a.path+"/ornaments/e/treeC.png";var p=a.Bodies.rectangle(2151,e-1005,169,291,{isStatic:!0});p.src=a.path+"/ornaments/e/treeH.png";var g=a.Bodies.rectangle(216,e-1392,133,196,{isStatic:!0});g.src=a.path+"/ornaments/e/treeB.png";var d=a.Bodies.rectangle(594,e-1749,117,167,{isStatic:!0});d.src=a.path+"/ornaments/e/treeG.png";var m=a.Bodies.rectangle(579,e-2086,133,196,{isStatic:!0});m.src=a.path+"/ornaments/e/treeB.png";var u=a.Bodies.rectangle(686,e-2178,145,249,{isStatic:!0});u.src=a.path+"/ornaments/e/treeF.png";var f=a.Bodies.rectangle(1074,e-2856,147,274,{isStatic:!0});f.src=a.path+"/ornaments/e/treeC.png";var v=a.Bodies.rectangle(1541,e-2250,117,167,{isStatic:!0});v.src=a.path+"/ornaments/e/treeG.png";var b=a.Bodies.rectangle(1406,e-1743,135,135,{isStatic:!0});b.src=a.path+"/ornaments/e/stone.png";var S=a.Bodies.rectangle(2172,e-3e3+1170,143,248,{isStatic:!0});S.src=a.path+"/ornaments/e/treeD.png";var x=a.Bodies.rectangle(2073,e-3e3+1145,133,196,{isStatic:!0});x.src=a.path+"/ornaments/e/treeB.png";var B=a.Bodies.rectangle(2307,e-3e3+712,143,248,{isStatic:!0});B.src=a.path+"/ornaments/e/treeD.png";var k=a.Bodies.rectangle(2955,e-3e3+976,166,245,{isStatic:!0});for(k.src=a.path+"/ornaments/e/treeE.png",t=[t,i,s,n,r,o,l,c,h,p,g,d,m,u,f,v,b,S,x,B,k],i=0,s=t.length;i<s;i++)t[i].name=t[i].label="staticOriAPass"+a.cKs(),t[i].FixedPosition={x:t[i].position.x,y:t[i].position.y-e},t[i].fixedBounds||(t[i].fixedBounds=25);return t}()}),s("staticOriAPassLayerB",{x:3e3,y:0,location:"mapDungeonA",layer:function(){var t=a.Bodies.rectangle(362,e-744,166,245,{isStatic:!0});t.src=a.path+"/ornaments/e/treeE.png";var i=a.Bodies.rectangle(739,e-230,133,196,{isStatic:!0});i.src=a.path+"/ornaments/e/treeA.png";var s=a.Bodies.rectangle(1073,e-2749,166,244,{isStatic:!0});s.src=a.path+"/ornaments/e/treeI.png";var n=a.Bodies.rectangle(460,e-2569,135,135,{isStatic:!0});n.src=a.path+"/ornaments/e/stone.png";var r=a.Bodies.rectangle(1476,e-2250,147,274,{isStatic:!0});r.src=a.path+"/ornaments/e/treeC.png";var o=a.Bodies.rectangle(760,e-2066,169,291,{isStatic:!0});o.src=a.path+"/ornaments/e/treeH.png";var l=a.Bodies.rectangle(530,e-1533,133,196,{isStatic:!0});l.src=a.path+"/ornaments/e/treeA.png";var c=a.Bodies.rectangle(1310,e-1464,169,291,{isStatic:!0});c.src=a.path+"/ornaments/e/treeH.png";var h=a.Bodies.rectangle(1005,e-915,169,291,{isStatic:!0});h.src=a.path+"/ornaments/e/treeH.png";var p=a.Bodies.rectangle(1722,e-1099,147,274,{isStatic:!0});p.src=a.path+"/ornaments/e/treeC.png";var g=a.Bodies.rectangle(2559,e-993,166,244,{isStatic:!0});g.src=a.path+"/ornaments/e/treeI.png";var d=a.Bodies.rectangle(2330,e-1562,147,274,{isStatic:!0});d.src=a.path+"/ornaments/e/treeC.png";var m=a.Bodies.rectangle(2215,e-439,133,196,{isStatic:!0});m.src=a.path+"/ornaments/e/treeA.png";var u=a.Bodies.rectangle(1555,e-324,169,291,{isStatic:!0});u.src=a.path+"/ornaments/e/treeH.png";var f=a.Bodies.rectangle(2408,e-1867,117,167,{isStatic:!0});f.src=a.path+"/ornaments/e/treeG.png";var v=a.Bodies.rectangle(2392,e-2204,133,196,{isStatic:!0});v.src=a.path+"/ornaments/e/treeB.png";var b=a.Bodies.rectangle(2499,e-2296,145,249,{isStatic:!0});b.src=a.path+"/ornaments/e/treeF.png";var S=a.Bodies.rectangle(2024,e-2761,169,291,{isStatic:!0});for(S.src=a.path+"/ornaments/e/treeH.png",t=[t,i,s,n,r,o,l,c,h,p,g,d,m,u,f,v,b,S],i=0,s=t.length;i<s;i++)t[i].name=t[i].label="staticOriAPass"+a.cKs(),t[i].FixedPosition={x:t[i].position.x,y:t[i].position.y-e},t[i].fixedBounds||(t[i].fixedBounds=25);return t}()})]},a.hEP.value.mapDungeonA.content}(),function(){var t=a.path+"/ornaments/f/",e=a.browserHeightUpdate;n(6,"/ornaments/f/","mapDungeonB",6);var r=l({label:"staticOriDngBPassSpawnA",texture:a.path+"/1px.png",x:5135,y:e-3e3+601,target:"help"});t=l({isVisible:!0,label:"staticOriDngCPassSpawnB",texture:t+"portal right.png",x:3138,y:e-3e3+1322,point:"portal",fixedBounds:65,target:"help"});var o=l({label:"staticOriDngBPassSpawnC",texture:a.path+"/1px.png",x:1055,y:e-3e3+2395,target:"help"}),c=l({label:"staticOriDngBPassSpawnD",texture:a.path+"/1px.png",x:1645,y:e-3e3+1286,target:"help"}),h=a.Bodies.rectangle(4500,-1170,10,10,{isStatic:!0});h.src=a.path+"/1px.png",h.name=h.label="staticOriBPassPathPointA",h=[h];var p=a.staticGeometry.createPortal({width:200,height:200,color:a.rgbRandom(1),effect:"glowPortal",rangeX:70,rangeY:270,attach:"staticOriDngBPassSpawnB",location:"mapDungeonB",targetLocation:"mapDungeonC"});return a.staticGeometry.createMap({location:"mapDungeonB",src:a.path+"/ornaments/f/map.png"}),a.hEP.value.mapDungeonB.content={staticWallOuttermapDungeonB:i("mapDungeonB"),staticPortalmapDungeonB:{portalA:{portalIn:"staticOriPortalmapDungeonB",portalOut:"staticOriPortalBmapDungeonC"}},staticOriPortalmapDungeonB:p,staticOriDngBPassSpawnA:r,staticOriDngBPassSpawnB:t,staticOriDngBPassSpawnC:o,staticOriDngBPassSpawnD:c,staticOriGroupPathPoints:h,staticOriGroupSVG:[],groupLayer:[s("staticOriBPassLayerA",{x:0,y:0,location:"mapDungeonB",layer:function(){var t=a.Bodies.rectangle(450,e-3e3+2460,176,261,{isStatic:!0});t.src=a.path+"/ornaments/f/treeA.png";var i=a.Bodies.rectangle(1073,e-3e3+2779,131,195,{isStatic:!0});i.src=a.path+"/ornaments/f/treeB.png";var s=a.Bodies.rectangle(730,e-3e3+2003,170,242,{isStatic:!0});s.src=a.path+"/ornaments/f/treeC.png";var n=a.Bodies.rectangle(1423,e-3e3+2079,145,271,{isStatic:!0});n.src=a.path+"/ornaments/f/treeD.png";var r=a.Bodies.rectangle(2091,e-3e3+2178,164,242,{isStatic:!0});r.src=a.path+"/ornaments/f/treeE.png";var o=a.Bodies.rectangle(1944,e-3e3+1738,137,226,{isStatic:!0});o.src=a.path+"/ornaments/f/treeF.png";var l=a.Bodies.rectangle(1084,e-3e3+1690,131,194,{isStatic:!0});l.src=a.path+"/ornaments/f/treeG.png";var c=a.Bodies.rectangle(2796,e-3e3+1812,176,261,{isStatic:!0});c.src=a.path+"/ornaments/f/treeA.png";var h=a.Bodies.rectangle(1490,e-3e3+2426,104,94,{isStatic:!0});h.src=a.path+"/ornaments/f/ruinA.png";var p=a.Bodies.rectangle(1630,e-3e3+2368,175,150,{isStatic:!0});p.src=a.path+"/ornaments/f/ruinB.png";var g=a.Bodies.rectangle(1807,e-3e3+2403,105,97,{isStatic:!0});g.src=a.path+"/ornaments/f/ruinC.png";var d=a.Bodies.rectangle(2045,e-3e3+2746,176,261,{isStatic:!0});d.src=a.path+"/ornaments/f/treeA.png";var m=a.Bodies.rectangle(2867,e-3e3+2378,137,226,{isStatic:!0});m.src=a.path+"/ornaments/f/treeF.png";var u=a.Bodies.rectangle(1994,e-3e3+1280,105,97,{isStatic:!0});u.src=a.path+"/ornaments/f/ruinC.png";var f=a.Bodies.rectangle(1107,e-3e3+1180,137,226,{isStatic:!0});f.src=a.path+"/ornaments/f/treeF.png";var v=a.Bodies.rectangle(448,e-3e3+1137,176,261,{isStatic:!0});v.src=a.path+"/ornaments/f/treeA.png";var b=a.Bodies.rectangle(1625,e-3e3+806,140,193,{isStatic:!0});b.src=a.path+"/ornaments/f/treeH.png";var S=a.Bodies.rectangle(306,e-3e3+193,178,261,{isStatic:!0});S.src=a.path+"/ornaments/f/treeI.png";var x=a.Bodies.rectangle(685,e-3e3+578,137,226,{isStatic:!0});x.src=a.path+"/ornaments/f/treeF.png";var B=a.Bodies.rectangle(1885,e-3e3+280,178,261,{isStatic:!0});B.src=a.path+"/ornaments/f/treeI.png";var k=a.Bodies.rectangle(2739,e-3e3+345,175,150,{isStatic:!0});k.src=a.path+"/ornaments/f/ruinD.png";var y=a.Bodies.rectangle(2893,e-3e3+956,178,261,{isStatic:!0});y.src=a.path+"/ornaments/f/treeI.png";var w=a.Bodies.rectangle(2879,e-3e3+383,105,97,{isStatic:!0});for(w.src=a.path+"/ornaments/f/ruinC.png",t=[t,i,s,n,r,o,l,c,h,p,g,d,m,u,f,v,b,S,x,B,k,y,w],i=0,s=t.length;i<s;i++)t[i].name=t[i].label="staticOriBPass"+a.cKs(),t[i].FixedPosition={x:t[i].position.x,y:t[i].position.y-e},t[i].fixedBounds||(t[i].fixedBounds=25);return t}()}),s("staticOriBPassLayerB",{x:3e3,y:0,location:"mapDungeonB",layer:function(){var t=a.Bodies.rectangle(513,e-1536,145,271,{isStatic:!0});t.src=a.path+"/ornaments/f/treeD.png";var i=a.Bodies.rectangle(713,e-1057,164,242,{isStatic:!0});i.src=a.path+"/ornaments/f/treeE.png";var s=a.Bodies.rectangle(1164,e-1312,104,94,{isStatic:!0});s.src=a.path+"/ornaments/f/ruinA.png";var n=a.Bodies.rectangle(1341,e-1342,175,150,{isStatic:!0});n.src=a.path+"/ornaments/f/ruinD.png";var r=a.Bodies.rectangle(1481,e-1284,105,97,{isStatic:!0});r.src=a.path+"/ornaments/f/ruinC.png";var o=a.Bodies.rectangle(1376,e-512,176,261,{isStatic:!0});o.src=a.path+"/ornaments/f/treeA.png";var l=a.Bodies.rectangle(2507,e-546,178,261,{isStatic:!0});l.src=a.path+"/ornaments/f/treeI.png";var c=a.Bodies.rectangle(2228,e-1014,164,242,{isStatic:!0});c.src=a.path+"/ornaments/f/treeE.png";var h=a.Bodies.rectangle(2726,e-1293,141,194,{isStatic:!0});h.src=a.path+"/ornaments/f/treeJ.png";var p=a.Bodies.rectangle(2302,e-1891,137,226,{isStatic:!0});p.src=a.path+"/ornaments/f/treeK.png";var g=a.Bodies.rectangle(1451,e-2197,164,242,{isStatic:!0});g.src=a.path+"/ornaments/f/treeE.png";var d=a.Bodies.rectangle(659,e-2743,178,261,{isStatic:!0});d.src=a.path+"/ornaments/f/treeI.png";var m=a.Bodies.rectangle(1051,e-2569,165,212,{isStatic:!0});m.src=a.path+"/ornaments/f/treeB.png";var u=a.Bodies.rectangle(1675,e-2861,178,261,{isStatic:!0});u.src=a.path+"/ornaments/f/treeI.png";var f=a.Bodies.rectangle(2173,e-2551,104,94,{isStatic:!0});f.src=a.path+"/ornaments/f/ruinA.png";var v=a.Bodies.rectangle(2313,e-2609,175,150,{isStatic:!0});v.src=a.path+"/ornaments/f/ruinB.png";var b=a.Bodies.rectangle(2498,e-2600,175,150,{isStatic:!0});b.src=a.path+"/ornaments/f/ruinD.png";var S=a.Bodies.rectangle(2638,e-2541,105,97,{isStatic:!0});for(S.src=a.path+"/ornaments/f/ruinC.png",t=[t,i,s,n,r,o,l,c,h,p,g,d,m,u,f,v,b,S],i=0,s=t.length;i<s;i++)t[i].name=t[i].label="staticOriBPass"+a.cKs(),t[i].FixedPosition={x:t[i].position.x,y:t[i].position.y-e},t[i].fixedBounds||(t[i].fixedBounds=25);return t}()})]},a.hEP.value.mapDungeonB.content}(),function(){var t=a.path+"/ornaments/g/",e=a.browserHeightUpdate;n(6,"/ornaments/g/","mapDungeonC",6);var r=a.Bodies.rectangle(4500,-1170,10,10,{isStatic:!0});r.src=a.path+"/1px.png",r.name=r.label="staticOriCPassPathPointA",r=[r];var c=l({label:"staticOriDngCPassSpawnA",texture:a.path+"/1px.png",x:1228,y:e-3e3+972,target:"help"}),h=l({label:"staticOriDngCPassSpawnB",texture:a.path+"/1px.png",x:672,y:e-3e3+2555,target:"help"}),p=l({isVisible:!0,label:"staticOriDngCPassSpawnC",texture:t+"portal right.png",x:2610,y:e-3e3+2149,point:"portal",fixedBounds:65,target:"help"});t=l({isVisible:!1,label:"staticOriDngCPassSpawnD",texture:t+"portal right.png",x:5026,y:e-3e3+2280,point:"portal",fixedBounds:65,target:"help"});var g=l({label:"staticOriDngCPassSpawnE",texture:a.path+"/1px.png",x:3542,y:e-3e3+1936,target:"help"}),d=l({label:"staticOriDngCPassSpawnF",texture:a.path+"/1px.png",x:5119,y:e-3e3+1042,target:"help"}),m=o({isVisible:!0,touch:!0,x:3640,y:e+-3e3+692,additionalBoundsValue:50,additionalBoundsWidthValue:0,additionalBoundsHeightValue:65,target:"info",texture:a.path+"/goblinMage-left.png",label:"staticOriNpcDngCPassSpawnA"}),u=a.staticGeometry.createPortal({width:200,height:200,color:a.rgbRandom(1),effect:"glowPortal",rangeX:70,rangeY:270,attach:"staticOriDngCPassSpawnC",location:"mapDungeonC",targetLocation:"mapDungeonG"}),f=a.staticGeometry.createPortal({isVisible:!1,width:200,height:200,color:a.rgbRandom(1),effect:"glowPortal",rangeX:70,rangeY:270,attach:"staticOriDngCPassSpawnD",location:"mapDungeonC",targetLocation:"mapDungeonB"});return a.staticGeometry.createMap({location:"mapDungeonC",src:a.path+"/ornaments/g/map.png"}),a.hEP.value.mapDungeonC.content={staticWallOuttermapDungeonC:i("mapDungeonC"),staticPortalmapDungeonC:{portalA:{portalIn:"staticOriPortalmapDungeonC",portalOut:"staticOriPortalmapDungeonG"},portalB:{portalIn:"staticOriPortalBmapDungeonC",portalOut:"staticOriPortalmapDungeonB"}},staticOriPortalmapDungeonC:u,staticOriPortalBmapDungeonC:f,staticOriDngCPassSpawnA:c,staticOriDngCPassSpawnB:h,staticOriDngCPassSpawnC:p,staticOriDngCPassSpawnD:t,staticOriDngCPassSpawnE:g,staticOriDngCPassSpawnF:d,staticOriNpcDngCPassSpawnA:m,staticOriGroupPathPoints:r,staticOriGroupSVG:[],groupLayer:[s("staticOriCPassLayerA",{x:0,y:0,location:"mapDungeonC",layer:function(){var t=a.Bodies.rectangle(672,e-3e3+2555,119,188,{isStatic:!0});t.src=a.path+"/ornaments/g/treeA.png";var i=a.Bodies.rectangle(348,e-3e3+2004,120,189,{isStatic:!0});i.src=a.path+"/ornaments/g/treeB.png";var s=a.Bodies.rectangle(1150,e-3e3+2192,116,181,{isStatic:!0});s.src=a.path+"/ornaments/g/treeC.png";var n=a.Bodies.rectangle(1235,e-3e3+2767,182,209,{isStatic:!0});n.src=a.path+"/ornaments/g/stoneA.png";var r=a.Bodies.rectangle(1150,e-3e3+2192,116,190,{isStatic:!0});r.src=a.path+"/ornaments/g/treeE.png";var o=a.Bodies.rectangle(1091,e-3e3+2347,70,99,{isStatic:!0});o.src=a.path+"/ornaments/g/obA.png";var l=a.Bodies.rectangle(1524,e-3e3+2322,120,209,{isStatic:!0});l.src=a.path+"/ornaments/g/treeB.png";var c=a.Bodies.rectangle(1595,e-3e3+2331,79,144,{isStatic:!0});c.src=a.path+"/ornaments/g/treeD.png";var h=a.Bodies.rectangle(196,e-3e3+1569,92,155,{isStatic:!0});h.src=a.path+"/ornaments/g/treeF.png";var p=a.Bodies.rectangle(1088,e-3e3+1682,98,92,{isStatic:!0});p.src=a.path+"/ornaments/g/obB.png";var g=a.Bodies.rectangle(1285,e-3e3+1845,136,177,{isStatic:!0});g.src=a.path+"/ornaments/g/stoneB.png";var d=a.Bodies.rectangle(1558,e-3e3+1874,113,94,{isStatic:!0});d.src=a.path+"/ornaments/g/obC.png";var m=a.Bodies.rectangle(1690,e-3e3+1593,152,267,{isStatic:!0});m.src=a.path+"/ornaments/g/treeG.png";var u=a.Bodies.rectangle(2121,e-3e3+1775,98,91,{isStatic:!0});u.src=a.path+"/ornaments/g/obD.png";var f=a.Bodies.rectangle(2610,e-3e3+1949,98,91,{isStatic:!0});f.src=a.path+"/ornaments/g/obE.png";var v=a.Bodies.rectangle(2155,e-3e3+2382,70,99,{isStatic:!0});v.src=a.path+"/ornaments/g/obF.png";var b=a.Bodies.rectangle(2141,e-3e3+1969,297,204,{isStatic:!0});b.src=a.path+"/ornaments/g/tentA.png";var S=a.Bodies.rectangle(2909,e-3e3+1930,103,88,{isStatic:!0});S.src=a.path+"/ornaments/g/rootA.png",S.fixedBounds=5;var x=a.Bodies.rectangle(2911,e-3e3+2342,113,94,{isStatic:!0});x.src=a.path+"/ornaments/g/obG.png";var B=a.Bodies.rectangle(2738,e-3e3+2495,292,219,{isStatic:!0});B.src=a.path+"/ornaments/g/tentB.png",B.fixedBounds=45;var k=a.Bodies.rectangle(2488,e-3e3+2611,70,99,{isStatic:!0});k.src=a.path+"/ornaments/g/obA.png";var y=a.Bodies.rectangle(2574,e-3e3+2911,70,99,{isStatic:!0});y.src=a.path+"/ornaments/g/obA.png";var w=a.Bodies.rectangle(2365,e-3e3+2614,79,153,{isStatic:!0});w.src=a.path+"/ornaments/g/treeH.png";var M=a.Bodies.rectangle(302,e-3e3+206,92,155,{isStatic:!0});M.src=a.path+"/ornaments/g/treeF.png";var A=a.Bodies.rectangle(346,e-3e3+522,152,267,{isStatic:!0});A.src=a.path+"/ornaments/g/treeG.png";var P=a.Bodies.rectangle(454,e-3e3+641,120,189,{isStatic:!0});P.src=a.path+"/ornaments/g/treeB.png";var D=a.Bodies.rectangle(558,e-3e3+1047,119,188,{isStatic:!0});D.src=a.path+"/ornaments/g/treeA.png";var T=a.Bodies.rectangle(1060,e-3e3+184,116,181,{isStatic:!0});T.src=a.path+"/ornaments/g/treeC.png";var O=a.Bodies.rectangle(1031,e-3e3+1014,152,267,{isStatic:!0});O.src=a.path+"/ornaments/g/treeG.png";var C=a.Bodies.rectangle(1228,e-3e3+972,79,124,{isStatic:!0});C.src=a.path+"/ornaments/g/treeD.png";var j=a.Bodies.rectangle(1687,e-3e3+539,79,153,{isStatic:!0});j.src=a.path+"/ornaments/g/treeH.png";var E=a.Bodies.rectangle(1735,e-3e3+1156,70,99,{isStatic:!0});E.src=a.path+"/ornaments/g/obA.png";var q=a.Bodies.rectangle(2004,e-3e3+278,152,267,{isStatic:!0});q.src=a.path+"/ornaments/g/treeG.png";var N=a.Bodies.rectangle(2085,e-3e3+718,120,189,{isStatic:!0});N.src=a.path+"/ornaments/g/treeB.png";var H=a.Bodies.rectangle(2246,e-3e3+1068,113,94,{isStatic:!0});H.src=a.path+"/ornaments/g/obH.png";var F=a.Bodies.rectangle(2358,e-3e3+1062,117,204,{isStatic:!0});F.src=a.path+"/ornaments/g/treeI.png";var R=a.Bodies.rectangle(2466,e-3e3+1027,128,222,{isStatic:!0});R.src=a.path+"/ornaments/g/treeJ.png";var G=a.Bodies.rectangle(2613,e-3e3+1214,70,99,{isStatic:!0});G.src=a.path+"/ornaments/g/obF.png";var L=a.Bodies.rectangle(2785,e-3e3+624,70,99,{isStatic:!0});for(L.src=a.path+"/ornaments/g/obA.png",t=[t,i,s,n,r,o,l,c,h,p,g,d,m,u,f,v,b,S,x,B,k,y,w,M,A,P,D,T,O,C,j,E,q,N,H,F,R,G,L],i=0,s=t.length;i<s;i++)t[i].name=t[i].label="staticOriCPass"+a.cKs(),t[i].FixedPosition={x:t[i].position.x,y:t[i].position.y-e},t[i].fixedBounds||(t[i].fixedBounds=25);return t}()}),s("staticOriCPassLayerB",{x:3e3,y:0,location:"mapDungeonC",layer:function(){var t=a.Bodies.rectangle(143,e-2598,116,181,{isStatic:!0});t.src=a.path+"/ornaments/g/treeC.png";var i=a.Bodies.rectangle(330,e-1837,103,88,{isStatic:!0});i.src=a.path+"/ornaments/g/rootB.png";var s=a.Bodies.rectangle(448,e-2322,98,91,{isStatic:!0});s.src=a.path+"/ornaments/g/obD.png";var n=a.Bodies.rectangle(739,e-2478,292,219,{isStatic:!0});n.src=a.path+"/ornaments/g/tentC.png",n.fixedBounds=45;var r=a.Bodies.rectangle(801,e-2839,79,153,{isStatic:!0});r.src=a.path+"/ornaments/g/treeH.png";var o=a.Bodies.rectangle(715,e-1853,105,91,{isStatic:!0});o.src=a.path+"/ornaments/g/obI.png";var l=a.Bodies.rectangle(1192,e-1817,296,204,{isStatic:!0});l.src=a.path+"/ornaments/g/tentD.png";var c=a.Bodies.rectangle(1192,e-2297,98,92,{isStatic:!0});c.src=a.path+"/ornaments/g/obB.png";var h=a.Bodies.rectangle(1180,e-2454,120,189,{isStatic:!0});h.src=a.path+"/ornaments/g/treeB.png";var p=a.Bodies.rectangle(1643,e-2192,157,267,{isStatic:!0});p.src=a.path+"/ornaments/g/treeG.png";var g=a.Bodies.rectangle(1906,e-1904,113,94,{isStatic:!0});g.src=a.path+"/ornaments/g/obG.png";var d=a.Bodies.rectangle(2653,e-1943,116,181,{isStatic:!0});d.src=a.path+"/ornaments/g/treeC.png";var m=a.Bodies.rectangle(2520,e-2381,116,181,{isStatic:!0});m.src=a.path+"/ornaments/g/treeC.png";var u=a.Bodies.rectangle(2628,e-2500,157,267,{isStatic:!0});u.src=a.path+"/ornaments/g/treeG.png";var f=a.Bodies.rectangle(2672,e-2819,95,155,{isStatic:!0});f.src=a.path+"/ornaments/g/treeK.png";var v=a.Bodies.rectangle(422,e-1443,113,94,{isStatic:!0});v.src=a.path+"/ornaments/g/obC.png";var b=a.Bodies.rectangle(595,e-1290,292,219,{isStatic:!0});b.src=a.path+"/ornaments/g/tentC.png",b.fixedBounds=45;var S=a.Bodies.rectangle(401,e-1029,105,131,{isStatic:!0});S.src=a.path+"/ornaments/g/obJ.png";var x=a.Bodies.rectangle(760,e-874,70,99,{isStatic:!0});x.src=a.path+"/ornaments/g/obF.png";var B=a.Bodies.rectangle(968,e-1171,79,153,{isStatic:!0});B.src=a.path+"/ornaments/g/treeL.png";var k=a.Bodies.rectangle(1179,e-1403,70,99,{isStatic:!0});k.src=a.path+"/ornaments/g/obA.png";var y=a.Bodies.rectangle(1532,e-1490,79,124,{isStatic:!0});y.src=a.path+"/ornaments/g/treeM.png";var w=a.Bodies.rectangle(1913,e-1234,119,188,{isStatic:!0});w.src=a.path+"/ornaments/g/treeA.png";var M=a.Bodies.rectangle(1920,e-924,70,99,{isStatic:!0});M.src=a.path+"/ornaments/g/obF.png";var A=a.Bodies.rectangle(2437,e-988,120,189,{isStatic:!0});A.src=a.path+"/ornaments/g/treeB.png";var P=a.Bodies.rectangle(2291,e-1421,92,155,{isStatic:!0});P.src=a.path+"/ornaments/g/treeF.png";var D=a.Bodies.rectangle(158,e-401,105,131,{isStatic:!0});D.src=a.path+"/ornaments/g/obK.png";var T=a.Bodies.rectangle(665,e-557,297,204,{isStatic:!0});T.src=a.path+"/ornaments/g/tentA.png";var O=a.Bodies.rectangle(633,e-208,128,222,{isStatic:!0});O.src=a.path+"/ornaments/g/treeJ.png";var C=a.Bodies.rectangle(741,e-183,117,204,{isStatic:!0});C.src=a.path+"/ornaments/g/treeI.png";var j=a.Bodies.rectangle(872,e-186,105,131,{isStatic:!0});j.src=a.path+"/ornaments/g/obJ.png";var E=a.Bodies.rectangle(1126,e-650,70,99,{isStatic:!0});E.src=a.path+"/ornaments/g/obA.png";var q=a.Bodies.rectangle(1569,e-520,292,219,{isStatic:!0});q.src=a.path+"/ornaments/g/tentC.png",q.fixedBounds=45;var N=a.Bodies.rectangle(1734,e-84,70,99,{isStatic:!0});N.src=a.path+"/ornaments/g/obF.png";var H=a.Bodies.rectangle(1943,e-381,79,153,{isStatic:!0});H.src=a.path+"/ornaments/g/treeL.png";var F=a.Bodies.rectangle(2204,e-538,113,94,{isStatic:!0});F.src=a.path+"/ornaments/g/obG.png";var R=a.Bodies.rectangle(2644,e-278,70,99,{isStatic:!0});for(R.src=a.path+"/ornaments/g/obF.png",t=[t,i,s,n,r,o,l,c,h,p,g,d,m,u,f,v,b,S,x,B,k,y,w,M,A,P,D,T,O,C,j,E,q,N,H,F,R],i=0,s=t.length;i<s;i++)t[i].name=t[i].label="staticOriCPass"+a.cKs(),t[i].FixedPosition={x:t[i].position.x,y:t[i].position.y-e},t[i].fixedBounds||(t[i].fixedBounds=25);return t}()})]},a.hEP.value.mapDungeonC.content}(),function(){var t=a.path+"/ornaments/h/",e=a.browserHeightUpdate;n(6,"/ornaments/h/","mapDungeonD",6);var r=a.Bodies.rectangle(4500,-1170,10,10,{isStatic:!0});r.src=a.path+"/1px.png",r.name=r.label="staticOriDPassPathPointA",r=[r];var c=l({isVisible:!0,label:"staticOriDngDPassSpawnA",texture:t+"portal right.png",x:760,y:e-3e3+706,point:"portal",fixedBounds:65,target:"help"}),h=l({label:"staticOriDngDPassSpawnB",texture:a.path+"/1px.png",x:992,y:e-3e3+2234,target:"help"}),p=l({label:"staticOriDngDPassSpawnC",texture:a.path+"/1px.png",x:1937,y:e-3e3+2148,target:"help"}),g=l({label:"staticOriDngDPassSpawnD",texture:a.path+"/1px.png",x:2422,y:e-3e3+793,target:"help"}),d=l({label:"staticOriDngDPassSpawnE",texture:a.path+"/1px.png",x:3268,y:e-3e3+2251,target:"help"}),m=l({label:"staticOriDngDPassSpawnF",texture:a.path+"/1px.png",x:4828,y:e-3e3+801,target:"help"}),u=l({label:"staticOriDngDPassSpawnF",texture:a.path+"/1px.png",x:5160,y:e-3e3+1886,target:"help"}),f=l({isVisible:!1,label:"staticOriDngDPassSpawnH",texture:t+"portal left.png",x:5245,y:e-3e3+1117,point:"portal",fixedBounds:65,target:"help"}),v=o({isVisible:!1,touch:!0,x:1004,y:e+-3e3+674,additionalBoundsValue:70,additionalBoundsHeightValue:45,additionalBoundsWidthValue:-10,target:"info",texture:a.path+"/humanArcher-right.png",label:"staticOriNpcDngDPassSpawnA"}),b=o({isVisible:!1,touch:!0,x:4505,y:e+-3e3+2113,additionalBoundsValue:80,additionalBoundsHeightValue:-10,additionalBoundsWidthValue:0,target:"info",texture:a.path+"/humanArmored-right.png",label:"staticOriNpcDngDPassSpawnB"}),S=o({isVisible:!1,touch:!1,x:4670,y:e+-3e3+2192,additionalBoundsValue:85,additionalBoundsHeightValue:45,additionalBoundsWidthValue:25,target:"info",texture:a.path+"/elfMage-left.png",label:"staticOriNpcDngDPassSpawnC"}),x=a.staticGeometry.createPortal({width:200,height:200,color:a.rgbRandom(1),effect:"glowPortal",rangeX:70,rangeY:270,attach:"staticOriDngDPassSpawnA",location:"mapDungeonD",targetLocation:"mapAADungeonA"}),B=a.staticGeometry.createPortal({isVisible:!1,width:200,height:200,color:a.rgbRandom(1),effect:"glowPortal",rangeX:70,rangeY:270,attach:"staticOriDngDPassSpawnH",location:"mapDungeonD",targetLocation:"mapDDungeonA"});return a.staticGeometry.createMap({location:"mapDungeonD",src:t+"map.png"}),a.hEP.value.mapDungeonD.content={staticWallOuttermapDungeonD:i("mapDungeonD"),staticPortalmapDungeonD:{portalA:{portalIn:"staticOriPortalmapDungeonD",portalOut:"staticOriPortalBmapAADungeonA"},portalB:{portalIn:"staticOriPortalBmapDungeonD",portalOut:"staticOriPortalmapDDungeonA"}},staticOriPortalmapDungeonD:x,staticOriPortalBmapDungeonD:B,staticOriDngDPassSpawnA:c,staticOriDngDPassSpawnB:h,staticOriDngDPassSpawnC:p,staticOriDngDPassSpawnD:g,staticOriDngDPassSpawnE:d,staticOriDngDPassSpawnF:m,staticOriDngDPassSpawnG:u,staticOriDngDPassSpawnH:f,staticOriNpcDngDPassSpawnA:v,staticOriNpcDngDPassSpawnB:b,staticOriNpcDngDPassSpawnC:S,staticOriGroupPathPoints:r,staticOriGroupSVG:[],groupLayer:[s("staticOriDPassLayerA",{x:0,y:0,location:"mapDungeonD",layer:function(){var i=a.Bodies.rectangle(217,e-3e3+2869,107,133,{isStatic:!0});i.src=t+"obA.png";var s=a.Bodies.rectangle(171,e-3e3+2272,115,95,{isStatic:!0});s.src=t+"obB.png";var n=a.Bodies.rectangle(502,e-3e3+2334,203,274,{isStatic:!0});n.src=t+"houseA.png",n.fixedBounds=0;var r=a.Bodies.rectangle(624,e-3e3+2562,195,106,{isStatic:!0});r.src=t+"ruinA.png";var o=a.Bodies.rectangle(889,e-3e3+2862,71,100,{isStatic:!0});o.src=t+"obC.png";var l=a.Bodies.rectangle(1020,e-3e3+2503,155,272,{isStatic:!0});l.src=t+"treeA.png";var c=a.Bodies.rectangle(1200,e-3e3+2847,71,101,{isStatic:!0});c.src=t+"obD.png";var h=a.Bodies.rectangle(1174,e-3e3+2403,99,92,{isStatic:!0});h.src=t+"obE.png";var p=a.Bodies.rectangle(1368,e-3e3+2288,291,410,{isStatic:!0});p.src=t+"houseB.png";var g=a.Bodies.rectangle(1693,e-3e3+2861,107,133,{isStatic:!0});g.src=t+"obF.png";var d=a.Bodies.rectangle(1871,e-3e3+2446,71,101,{isStatic:!0});d.src=t+"obD.png";var m=a.Bodies.rectangle(2383,e-3e3+2532,117,204,{isStatic:!0});m.src=t+"treeB.png";var u=a.Bodies.rectangle(2485,e-3e3+2487,155,272,{isStatic:!0});u.src=t+"treeA.png";var f=a.Bodies.rectangle(2820,e-3e3+2314,224,274,{isStatic:!0});f.src=t+"houseC.png",f.fixedBounds=0;var v=a.Bodies.rectangle(2429,e-3e3+2010,291,410,{isStatic:!0});v.src=t+"houseD.png";var b=a.Bodies.rectangle(104,e-3e3+1912,71,101,{isStatic:!0});b.src=t+"obD.png";var S=a.Bodies.rectangle(350,e-3e3+2011,155,272,{isStatic:!0});S.src=t+"treeA.png";var x=a.Bodies.rectangle(299,e-3e3+1587,203,274,{isStatic:!0});x.src=t+"houseA.png",x.fixedBounds=0;var B=a.Bodies.rectangle(781,e-3e3+1831,136,155,{isStatic:!0});B.src=t+"obG.png";var k=a.Bodies.rectangle(787,e-3e3+1493,128,222,{isStatic:!0});k.src=t+"treeC.png";var y=a.Bodies.rectangle(844,e-3e3+1557,127,204,{isStatic:!0});y.src=t+"treeB.png";var w=a.Bodies.rectangle(946,e-3e3+1512,155,272,{isStatic:!0});w.src=t+"treeA.png";var M=a.Bodies.rectangle(978,e-3e3+1425,107,133,{isStatic:!0});M.src=t+"obA.png";var A=a.Bodies.rectangle(1317,e-3e3+1709,224,274,{isStatic:!0});A.src=t+"houseC.png",A.fixedBounds=0;var P=a.Bodies.rectangle(1476,e-3e3+1937,65,155,{isStatic:!0});P.src=t+"em.png",P.fixedBounds=0;var D=a.Bodies.rectangle(1474,e-3e3+1580,99,92,{isStatic:!0});D.src=t+"obH.png";var T=a.Bodies.rectangle(1471,e-3e3+1411,71,100,{isStatic:!0});T.src=t+"obC.png";var O=a.Bodies.rectangle(1782,e-3e3+1426,71,100,{isStatic:!0});O.src=t+"obD.png";var C=a.Bodies.rectangle(1852,e-3e3+1827,71,100,{isStatic:!0});C.src=t+"obC.png";var j=a.Bodies.rectangle(2003,e-3e3+1764,155,272,{isStatic:!0});j.src=t+"treeA.png";var E=a.Bodies.rectangle(2259,e-3e3+1717,107,133,{isStatic:!0});E.src=t+"obA.png";var q=a.Bodies.rectangle(2454,e-3e3+1433,107,133,{isStatic:!0});q.src=t+"obF.png";var N=a.Bodies.rectangle(2635,e-3e3+1363,107,133,{isStatic:!0});N.src=t+"obA.png";var H=a.Bodies.rectangle(175,e-3e3+1099,155,272,{isStatic:!0});H.src=t+"treeA.png";var F=a.Bodies.rectangle(242,e-3e3+574,291,410,{isStatic:!0});F.src=t+"houseB.png";var R=a.Bodies.rectangle(412,e-3e3+281,107,133,{isStatic:!0});R.src=t+"obF.png";var G=a.Bodies.rectangle(668,e-3e3+328,145,272,{isStatic:!0});G.src=t+"treeA.png";var L=a.Bodies.rectangle(800,e-3e3+1010,71,100,{isStatic:!0});L.src=t+"obC.png";var W=a.Bodies.rectangle(1303,e-3e3+852,281,410,{isStatic:!0});W.src=t+"houseD.png";var I=a.Bodies.rectangle(1497,e-3e3+967,99,92,{isStatic:!0});I.src=t+"obH.png";var Y=a.Bodies.rectangle(1651,e-3e3+1057,155,272,{isStatic:!0});Y.src=t+"treeA.png";var V=a.Bodies.rectangle(1197,e-3e3+144,99,92,{isStatic:!0});V.src=t+"obE.png";var _=a.Bodies.rectangle(1354,e-3e3+273,214,274,{isStatic:!0});_.src=t+"houseE.png";var X=a.Bodies.rectangle(1727,e-3e3+125,155,272,{isStatic:!0});X.src=t+"treeA.png";var U=a.Bodies.rectangle(1829,e-3e3+160,117,204,{isStatic:!0});U.src=t+"treeB.png";var J=a.Bodies.rectangle(1886,e-3e3+106,128,222,{isStatic:!0});J.src=t+"treeC.png";var z=a.Bodies.rectangle(1891,e-3e3+395,136,155,{isStatic:!0});z.src=t+"obJ.png";var Q=a.Bodies.rectangle(2048,e-3e3+1119,136,86,{isStatic:!0});Q.src=t+"ruinB.png";var K=a.Bodies.rectangle(2170,e-3e3+898,203,274,{isStatic:!0});K.src=t+"houseF.png";var Z=a.Bodies.rectangle(2321,e-3e3+575,155,272,{isStatic:!0});Z.src=t+"treeA.png";var $=a.Bodies.rectangle(2373,e-3e3+151,203,274,{isStatic:!0});$.src=t+"houseF.png";var tt=a.Bodies.rectangle(2567,e-3e3+476,71,100,{isStatic:!0});tt.src=t+"obC.png";var et=a.Bodies.rectangle(2767,e-3e3+505,155,272,{isStatic:!0});et.src=t+"treeA.png";var at=a.Bodies.rectangle(2863,e-3e3+816,203,274,{isStatic:!0});for(at.src=t+"houseA.png",i=[i,s,n,r,o,l,c,h,p,g,d,m,u,f,v,b,S,x,B,k,y,w,M,A,P,D,T,O,C,j,E,q,N,H,F,R,G,L,W,I,Y,V,_,X,U,J,z,Q,K,Z,$,tt,et,at],s=0,n=i.length;s<n;s++)i[s].name=i[s].label="staticOriDPass"+a.cKs(),i[s].FixedPosition={x:i[s].position.x,y:i[s].position.y-e},i[s].fixedBounds||(i[s].fixedBounds=25);return i}()}),s("staticOriDPassLayerB",{x:3e3,y:0,location:"mapDungeonD",layer:function(){var i=a.Bodies.rectangle(133,e-2782,203,274,{isStatic:!0});i.src=t+"houseA.png";var s=a.Bodies.rectangle(221,e-2412,115,95,{isStatic:!0});s.src=t+"obK.png";var n=a.Bodies.rectangle(307,e-2579,155,272,{isStatic:!0});n.src=t+"treeA.png";var r=a.Bodies.rectangle(554,e-2715,155,272,{isStatic:!0});r.src=t+"treeA.png";var o=a.Bodies.rectangle(877,e-2763,128,222,{isStatic:!0});o.src=t+"treeD.png";var l=a.Bodies.rectangle(934,e-2699,117,204,{isStatic:!0});l.src=t+"treeB.png";var c=a.Bodies.rectangle(1237,e-2872,71,101,{isStatic:!0});c.src=t+"obD.png";var h=a.Bodies.rectangle(1506,e-2797,203,274,{isStatic:!0});h.src=t+"houseF.png";var p=a.Bodies.rectangle(1848,e-2745,117,204,{isStatic:!0});p.src=t+"treeB.png";var g=a.Bodies.rectangle(1906,e-2809,128,222,{isStatic:!0});g.src=t+"treeC.png";var d=a.Bodies.rectangle(1921,e-2331,115,95,{isStatic:!0});d.src=t+"obB.png";var m=a.Bodies.rectangle(1651,e-2437,291,410,{isStatic:!0});m.src=t+"houseB.png";var u=a.Bodies.rectangle(1207,e-2249,203,274,{isStatic:!0});u.src=t+"houseF.png";var f=a.Bodies.rectangle(1076,e-2293,71,100,{isStatic:!0});f.src=t+"obC.png";var v=a.Bodies.rectangle(830,e-2204,155,272,{isStatic:!0});v.src=t+"treeA.png";var b=a.Bodies.rectangle(474,e-2164,136,86,{isStatic:!0});b.src=t+"ruinB.png";var S=a.Bodies.rectangle(2078,e-2637,71,101,{isStatic:!0});S.src=t+"obD.png";var x=a.Bodies.rectangle(2613,e-2807,203,274,{isStatic:!0});x.src=t+"houseA.png";var B=a.Bodies.rectangle(2513,e-2536,71,100,{isStatic:!0});B.src=t+"obC.png";var k=a.Bodies.rectangle(2624,e-2564,155,272,{isStatic:!0});k.src=t+"treeA.png";var y=a.Bodies.rectangle(2500,e-2186,203,274,{isStatic:!0});y.src=t+"houseA.png";var w=a.Bodies.rectangle(170,e-1398,224,274,{isStatic:!0});w.src=t+"houseE.png";var M=a.Bodies.rectangle(126,e-1136,71,100,{isStatic:!0});M.src=t+"obC.png";var A=a.Bodies.rectangle(82,e-983,128,222,{isStatic:!0});A.src=t+"treeC.png";var P=a.Bodies.rectangle(139,e-919,117,204,{isStatic:!0});P.src=t+"treeB.png";var D=a.Bodies.rectangle(472,e-977,224,274,{isStatic:!0});D.src=t+"houseE.png";var T=a.Bodies.rectangle(582,e-1302,71,101,{isStatic:!0});T.src=t+"obD.png";var O=a.Bodies.rectangle(1066,e-989,291,410,{isStatic:!0});O.src=t+"houseB.png";var C=a.Bodies.rectangle(1236,e-1282,107,133,{isStatic:!0});C.src=t+"obF.png";var j=a.Bodies.rectangle(1492,e-1245,155,272,{isStatic:!0});j.src=t+"treeA.png";var E=a.Bodies.rectangle(1644,e-1172,71,101,{isStatic:!0});E.src=t+"obD.png";var q=a.Bodies.rectangle(1702,e-1033,136,86,{isStatic:!0});q.src=t+"ruinC.png";var N=a.Bodies.rectangle(293,e-1906,115,95,{isStatic:!0});N.src=t+"obB.png";var H=a.Bodies.rectangle(563,e-1872,224,274,{isStatic:!0});H.src=t+"houseC.png";var F=a.Bodies.rectangle(792,e-1940,71,101,{isStatic:!0});F.src=t+"obD.png";var R=a.Bodies.rectangle(931,e-1663,127,204,{isStatic:!0});R.src=t+"treeB.png";var G=a.Bodies.rectangle(989,e-1727,138,222,{isStatic:!0});G.src=t+"treeC.png";var L=a.Bodies.rectangle(1366,e-1872,107,133,{isStatic:!0});L.src=t+"obF.png";var W=a.Bodies.rectangle(136,e-633,71,100,{isStatic:!0});W.src=t+"obC.png";var I=a.Bodies.rectangle(1010,e-522,155,272,{isStatic:!0});I.src=t+"treeA.png";var Y=a.Bodies.rectangle(1112,e-477,117,204,{isStatic:!0});Y.src=t+"treeB.png";var V=a.Bodies.rectangle(1624,e-553,71,100,{isStatic:!0});V.src=t+"obC.png";var _=a.Bodies.rectangle(1802,e-138,107,133,{isStatic:!0});_.src=t+"obA.png";var X=a.Bodies.rectangle(1964,e-1848,107,133,{isStatic:!0});X.src=t+"obA.png";var U=a.Bodies.rectangle(2889,e-1659,107,133,{isStatic:!0});U.src=t+"obF.png";var J=a.Bodies.rectangle(2709,e-1526,148,222,{isStatic:!0});J.src=t+"treeC.png";var z=a.Bodies.rectangle(2651,e-1462,137,204,{isStatic:!0});z.src=t+"treeB.png";var Q=a.Bodies.rectangle(2549,e-1507,175,272,{isStatic:!0});Q.src=t+"treeA.png";var K=a.Bodies.rectangle(2021,e-1419,99,92,{isStatic:!0});K.src=t+"obE.png";var Z=a.Bodies.rectangle(2178,e-1290,224,274,{isStatic:!0});Z.src=t+"houseE.png";var $=a.Bodies.rectangle(2715,e-1168,136,155,{isStatic:!0});$.src=t+"obJ.png";var tt=a.Bodies.rectangle(2127,e-711,291,410,{isStatic:!0});tt.src=t+"houseD.png";var et=a.Bodies.rectangle(2322,e-596,99,92,{isStatic:!0});et.src=t+"obH.png";var at=a.Bodies.rectangle(2476,e-516,155,272,{isStatic:!0});at.src=t+"treeA.png";var it=a.Bodies.rectangle(2606,e-137,71,101,{isStatic:!0});it.src=t+"obD.png";var st=a.Bodies.rectangle(2295,e-152,71,101,{isStatic:!0});st.src=t+"obC.png";var nt=a.Bodies.rectangle(1802,e-138,107,133,{isStatic:!0});for(nt.src=t+"obA.png",i=[i,s,n,r,o,l,c,h,p,g,d,m,u,f,v,b,S,x,B,k,y,w,M,A,P,D,T,O,C,j,E,q,N,H,F,R,G,L,W,I,Y,V,_,X,U,J,z,Q,K,Z,$,tt,et,at,it,st,nt],s=0,n=i.length;s<n;s++)i[s].name=i[s].label="staticOriDPass"+a.cKs(),i[s].FixedPosition={x:i[s].position.x,y:i[s].position.y-e},i[s].fixedBounds||(i[s].fixedBounds=25);return i}()})]},a.hEP.value.mapDungeonD.content}(),function(){var t=a.path+"/ornaments/i/",e=a.browserHeightUpdate;n(6,"/ornaments/i/","mapDungeonE",6);var r=a.Bodies.rectangle(4500,-1170,10,10,{isStatic:!0});r.src=a.path+"/1px.png",r.name=r.label="staticOriEPassPathPointA",r=[r];var c=l({isVisible:!0,label:"staticOriDngEPassSpawnA",texture:t+"portal right.png",x:2640,y:e-3e3+1761,point:"portal",fixedBounds:65,target:"help"}),h=l({label:"staticOriDngEPassSpawnB",texture:a.path+"/1px.png",x:1057,y:e-3e3+712,target:"help"}),p=l({label:"staticOriDngEPassSpawnC",texture:a.path+"/1px.png",x:933,y:e-3e3+1904,target:"help"}),g=l({label:"staticOriDngEPassSpawnD",texture:a.path+"/1px.png",x:4445,y:e-3e3+784,target:"help"}),d=l({label:"staticOriDngEPassSpawnE",texture:a.path+"/1px.png",x:4193,y:e-3e3+1886,target:"help"}),m=l({label:"staticOriDngEPassSpawnF",texture:a.path+"/1px.png",x:4751,y:e-3e3+2367,target:"help"}),u=l({isVisible:!1,label:"staticOriDngEPassSpawnG",texture:t+"portal right.png",x:3994,y:e-3e3+2473,point:"portal",fixedBounds:65,target:"help"}),f=o({behaveState:"die",isVisible:!1,touch:!1,x:2948,y:e+-3e3+2219,additionalBoundsValue:95,additionalBoundsHeightValue:25,additionalBoundsWidthValue:20,target:"info",texture:a.path+"/humanRoyalSpear-right.png",label:"staticOriNpcDngEPassSpawnA"}),v=o({behaveState:"die",isVisible:!1,touch:!1,x:3380,y:e+-3e3+2451,additionalBoundsValue:95,additionalBoundsHeightValue:0,additionalBoundsWidthValue:0,target:"info",texture:a.path+"/humanRoyalArmored-right.png",label:"staticOriNpcDngEPassSpawnB"}),b=o({behaveState:"die",isVisible:!1,touch:!1,x:3842,y:e+-3e3+1953,additionalBoundsValue:95,additionalBoundsHeightValue:0,additionalBoundsWidthValue:0,target:"info",texture:a.path+"/humanRoyalArmored-left.png",label:"staticOriNpcDngEPassSpawnB"}),S=o({behaveState:"die",isVisible:!1,touch:!1,x:3056,y:e+-3e3+1579,additionalBoundsValue:95,additionalBoundsHeightValue:25,additionalBoundsWidthValue:20,target:"info",texture:a.path+"/humanRoyalSpear-left.png",label:"staticOriNpcDngEPassSpawnA"}),x=o({behaveState:"die",isVisible:!1,touch:!1,x:2800,y:e+-3e3+1176,additionalBoundsValue:95,additionalBoundsHeightValue:25,additionalBoundsWidthValue:20,target:"info",texture:a.path+"/humanRoyalSpear-right.png",label:"staticOriNpcDngEPassSpawnA"}),B=o({behaveState:"die",isVisible:!1,touch:!1,x:2530,y:e+-3e3+916,additionalBoundsValue:95,additionalBoundsHeightValue:0,additionalBoundsWidthValue:0,target:"info",texture:a.path+"/humanRoyalArmored-left.png",label:"staticOriNpcDngEPassSpawnB"}),k=o({behaveState:"die",isVisible:!1,touch:!1,x:3270,y:e+-3e3+1183,additionalBoundsValue:95,additionalBoundsHeightValue:0,additionalBoundsWidthValue:0,target:"info",texture:a.path+"/humanRoyalArmored-right.png",label:"staticOriNpcDngEPassSpawnB"}),y=a.staticGeometry.createPortal({width:200,height:200,color:a.rgbRandom(1),effect:"glowPortal",rangeX:70,rangeY:270,attach:"staticOriDngEPassSpawnA",location:"mapDungeonE",targetLocation:"mapDungeonH"}),w=a.staticGeometry.createPortal({isVisible:!1,width:200,height:200,color:a.rgbRandom(1),effect:"glowPortal",rangeX:70,rangeY:270,attach:"staticOriDngEPassSpawnG",location:"mapDungeonE",targetLocation:"mapDungeonF"});return a.staticGeometry.createMap({location:"mapDungeonE",src:t+"map.png"}),a.hEP.value.mapDungeonE.content={staticWallOuttermapDungeonE:i("mapDungeonE"),staticPortalmapDungeonE:{portalA:{portalIn:"staticOriPortalmapDungeonE",portalOut:"staticOriPortalBmapDungeonH"},portalB:{portalIn:"staticOriPortalBmapDungeonE",portalOut:"staticOriPortalmapDungeonF"}},staticOriPortalmapDungeonE:y,staticOriPortalBmapDungeonE:w,staticOriNpcDngEPassSpawnA:f,staticOriNpcDngEPassSpawnB:v,staticOriNpcDngEPassSpawnC:b,staticOriNpcDngEPassSpawnD:S,staticOriNpcDngEPassSpawnE:x,staticOriNpcDngEPassSpawnF:B,staticOriNpcDngEPassSpawnG:k,staticOriDngEPassSpawnA:c,staticOriDngEPassSpawnB:h,staticOriDngEPassSpawnC:p,staticOriDngEPassSpawnD:g,staticOriDngEPassSpawnE:d,staticOriDngEPassSpawnF:m,staticOriDngEPassSpawnG:u,staticOriGroupPathPoints:r,staticOriGroupSVG:[],groupLayer:[s("staticOriEPassLayerA",{x:0,y:0,location:"mapDungeonE",layer:function(){var i=a.Bodies.rectangle(414,e-3e3+157,210,266,{isStatic:!0});i.src=t+"treeA.png";var s=a.Bodies.rectangle(437,e-3e3+766,260,260,{isStatic:!0});s.src=t+"treeB.png";var n=a.Bodies.rectangle(336,e-3e3+1528,210,266,{isStatic:!0});n.src=t+"treeA.png";var r=a.Bodies.rectangle(358,e-3e3+2137,260,260,{isStatic:!0});r.src=t+"treeB.png";var o=a.Bodies.rectangle(831,e-3e3+2659,229,291,{isStatic:!0});o.src=t+"treeC.png";var l=a.Bodies.rectangle(1241,e-3e3+2232,228,286,{isStatic:!0});l.src=t+"treeD.png";var c=a.Bodies.rectangle(1424,e-3e3+2721,94,143,{isStatic:!0});c.src=t+"stoneA.png";var h=a.Bodies.rectangle(2133,e-3e3+2598,287,274,{isStatic:!0});h.src=t+"treeH.png";var p=a.Bodies.rectangle(2749,e-3e3+2474,175,261,{isStatic:!0});p.src=t+"treeI.png";var g=a.Bodies.rectangle(2411,e-3e3+1960,322,342,{isStatic:!0});g.src=t+"treeF.png";var d=a.Bodies.rectangle(2746,e-3e3+1569,286,273,{isStatic:!0});d.src=t+"treeG.png";var m=a.Bodies.rectangle(2795,e-3e3+825,94,143,{isStatic:!0});m.src=t+"stoneA.png";var u=a.Bodies.rectangle(2367,e-3e3+572,322,342,{isStatic:!0});u.src=t+"treeF.png";var f=a.Bodies.rectangle(1703,e-3e3+155,260,260,{isStatic:!0});f.src=t+"treeE.png";var v=a.Bodies.rectangle(1320,e-3e3+860,228,286,{isStatic:!0});v.src=t+"treeD.png";var b=a.Bodies.rectangle(910,e-3e3+1287,229,291,{isStatic:!0});b.src=t+"treeC.png";var S=a.Bodies.rectangle(1624,e-3e3+1526,260,260,{isStatic:!0});S.src=t+"treeE.png";var x=a.Bodies.rectangle(1642,e-3e3+1196,94,143,{isStatic:!0});x.src=t+"stoneA.png";var B=a.Bodies.rectangle(853,e-3e3+370,66,56,{isStatic:!0});B.src=t+"root.png";var k=a.Bodies.rectangle(1187,e-3e3+114,57,54,{isStatic:!0});k.src=t+"stone.png";var y=a.Bodies.rectangle(774,e-3e3+1742,66,56,{isStatic:!0});y.src=t+"root.png";var w=a.Bodies.rectangle(1108,e-3e3+1486,57,54,{isStatic:!0});for(w.src=t+"stone.png",i=[i,s,n,r,o,l,c,h,p,g,d,m,u,f,v,b,S,x,B,k,y,w],s=0,n=i.length;s<n;s++)i[s].name=i[s].label="staticOriEPass"+a.cKs(),i[s].FixedPosition={x:i[s].position.x,y:i[s].position.y-e},i[s].fixedBounds||(i[s].fixedBounds=25);return i}()}),s("staticOriEPassLayerB",{x:3e3,y:0,location:"mapDungeonE",layer:function(){var i=a.Bodies.rectangle(71,e-2683,260,260,{isStatic:!0});i.src=t+"treeB.png";var s=a.Bodies.rectangle(396,e-2065,322,342,{isStatic:!0});s.src=t+"treeK.png";var n=a.Bodies.rectangle(299,e-1697,109,205,{isStatic:!0});n.src=t+"ruinA.png";var r=a.Bodies.rectangle(165,e-1618,182,128,{isStatic:!0});r.src=t+"ruinB.png";var o=a.Bodies.rectangle(363,e-1231,287,274,{isStatic:!0});o.src=t+"treeH.png";var l=a.Bodies.rectangle(240,e-904,182,128,{isStatic:!0});l.src=t+"ruinB.png";var c=a.Bodies.rectangle(723,e-332,322,342,{isStatic:!0});c.src=t+"treeK.png";var h=a.Bodies.rectangle(1263,e-715,175,261,{isStatic:!0});h.src=t+"treeI.png";var p=a.Bodies.rectangle(964,e-1374,175,261,{isStatic:!0});p.src=t+"treeI.png";var g=a.Bodies.rectangle(1032,e-2238,228,286,{isStatic:!0});g.src=t+"treeD.png";var d=a.Bodies.rectangle(1389,e-2831,260,260,{isStatic:!0});d.src=t+"treeB.png";var m=a.Bodies.rectangle(1772,e-2126,229,287,{isStatic:!0});m.src=t+"treeL.png";var u=a.Bodies.rectangle(1589,e-1627,94,143,{isStatic:!0});u.src=t+"stoneB.png";var f=a.Bodies.rectangle(1768,e-1267,210,266,{isStatic:!0});f.src=t+"treeA.png";var v=a.Bodies.rectangle(1770,e-836,260,260,{isStatic:!0});v.src=t+"treeB.png";var b=a.Bodies.rectangle(2386,e-370,229,290,{isStatic:!0});b.src=t+"treeO.png";var S=a.Bodies.rectangle(2653,e-741,228,286,{isStatic:!0});S.src=t+"treeD.png";var x=a.Bodies.rectangle(2181,e-1699,229,291,{isStatic:!0});x.src=t+"treeM.png";var B=a.Bodies.rectangle(2655,e-2220,260,260,{isStatic:!0});B.src=t+"treeE.png";var k=a.Bodies.rectangle(2678,e-2829,208,264,{isStatic:!0});for(k.src=t+"treeJ.png",i=[i,s,n,r,o,l,c,h,p,g,d,m,u,f,v,b,S,x,B,k],s=0,n=i.length;s<n;s++)i[s].name=i[s].label="staticOriEPass"+a.cKs(),i[s].FixedPosition={x:i[s].position.x,y:i[s].position.y-e},i[s].fixedBounds||(i[s].fixedBounds=25);return i}()})]},a.hEP.value.mapDungeonE.content}(),function(){var t=a.path+"/ornaments/j/",e=a.browserHeightUpdate;n(6,"/ornaments/j/","mapDungeonF",6);var r=a.Bodies.rectangle(1600,-1500,339,215,{isStatic:!0});r.name=r.label="staticOriFPassSpawnA",r.src=a.path+"/1px.png",(r=a.Bodies.rectangle(4500,-1170,10,10,{isStatic:!0})).src=a.path+"/1px.png",r.name=r.label="staticOriFPassPathPointA";var c=[r];r=l({isVisible:!0,label:"staticOriDngFPassSpawnA",texture:t+"portal right.png",x:841,y:e-3e3+1312,point:"portal",fixedBounds:65,target:"help"});var h=l({label:"staticOriDngFPassSpawnB",texture:a.path+"/1px.png",x:1350,y:e-3e3+2392,target:"help"}),p=l({label:"staticOriDngFPassSpawnC",texture:a.path+"/1px.png",x:3489,y:e-3e3+2408,target:"help"}),g=l({label:"staticOriDngFPassSpawnD",texture:a.path+"/1px.png",x:5080,y:e-3e3+2264,target:"help"}),d=l({label:"staticOriDngFPassSpawnE",texture:a.path+"/1px.png",x:4749,y:e-3e3+701,target:"help"}),m=l({isVisible:!0,label:"staticOriDngFPassSpawnF",texture:t+"portal right.png",x:4517,y:e-3e3+1615,point:"portal",fixedBounds:65,target:"help"}),u=o({isVisible:!0,touch:!0,x:2288,y:e+-3e3+939,additionalBoundsValue:80,additionalBoundsHeightValue:-10,additionalBoundsWidthValue:0,target:"info",texture:a.path+"/humanArmored-right.png",label:"staticOriNpcDngFPassSpawnA"}),f=o({isVisible:!1,touch:!0,x:3469,y:e+-3e3+1402,additionalBoundsValue:95,additionalBoundsHeightValue:0,additionalBoundsWidthValue:0,target:"info",texture:a.path+"/humanRoyalArmored-left.png",label:"staticOriNpcDngFPassSpawnB"}),v=a.staticGeometry.createPortal({isVisible:!0,width:200,height:200,color:a.rgbRandom(1),effect:"glowPortal",rangeX:70,rangeY:270,attach:"staticOriDngFPassSpawnA",location:"mapDungeonF",targetLocation:"mapDungeonE"}),b=a.staticGeometry.createPortal({isVisible:!0,width:200,height:200,color:a.rgbRandom(1),effect:"glowPortal",rangeX:70,rangeY:270,attach:"staticOriDngFPassSpawnF",location:"mapDungeonF",targetLocation:"mapDungeonH"});return a.staticGeometry.createMap({location:"mapDungeonF",src:t+"map.png"}),a.hEP.value.mapDungeonF.content={staticWallOuttermapDungeonF:i("mapDungeonF"),staticPortalmapDungeonF:{portalA:{portalIn:"staticOriPortalmapDungeonF",portalOut:"staticOriPortalBmapDungeonE"},portalB:{portalIn:"staticOriPortalBmapDungeonF",portalOut:"staticOriPortalCmapDungeonH"}},staticOriPortalmapDungeonF:v,staticOriPortalBmapDungeonF:b,staticOriNpcDngFPassSpawnA:u,staticOriNpcDngFPassSpawnB:f,staticOriDngFPassSpawnA:r,staticOriDngFPassSpawnB:h,staticOriDngFPassSpawnC:p,staticOriDngFPassSpawnD:g,staticOriDngFPassSpawnE:d,staticOriDngFPassSpawnF:m,staticOriGroupPathPoints:c,staticOriGroupSVG:[],groupLayer:[s("staticOriFPassLayerA",{x:0,y:0,location:"mapDungeonF",layer:function(){var i=a.Bodies.rectangle(515,e-3e3+2084,157,277,{isStatic:!0});i.src=t+"treeA.png";var s=a.Bodies.rectangle(1334,e-3e3+2617,121,215,{isStatic:!0});s.src=t+"treeC.png";var n=a.Bodies.rectangle(1408,e-3e3+2543,120,217,{isStatic:!0});n.src=t+"treeD.png";var r=a.Bodies.rectangle(2096,e-3e3+2407,138,224,{isStatic:!0});r.src=t+"treeB.png";var o=a.Bodies.rectangle(2844,e-3e3+2584,159,278,{isStatic:!0});o.src=t+"treeE.png";var l=a.Bodies.rectangle(2659,e-3e3+2339,121,215,{isStatic:!0});l.src=t+"treeC.png";var c=a.Bodies.rectangle(2736,e-3e3+2257,159,282,{isStatic:!0});c.src=t+"treeF.png";var h=a.Bodies.rectangle(2837,e-3e3+2202,159,282,{isStatic:!0});h.src=t+"treeF.png";var p=a.Bodies.rectangle(2599,e-3e3+1870,109,119,{isStatic:!0});p.src=t+"bfA.png",p.fixedBounds=25;var g=a.Bodies.rectangle(2784,e-3e3+1608,205,270,{isStatic:!0});g.src=t+"houseA.png",g.fixedBounds=45;var d=a.Bodies.rectangle(2911,e-3e3+1582,110,121,{isStatic:!0});d.src=t+"bfC.png",d.fixedBounds=25;var m=a.Bodies.rectangle(2313,e-3e3+1556,159,278,{isStatic:!0});m.src=t+"treeE.png";var u=a.Bodies.rectangle(1112,e-3e3+1711,138,224,{isStatic:!0});u.src=t+"treeB.png";var f=a.Bodies.rectangle(1487,e-3e3+1969,282,289,{isStatic:!0});f.src=t+"houseB.png",f.fixedBounds=45;var v=a.Bodies.rectangle(1278,e-3e3+2075,101,115,{isStatic:!0});v.src=t+"bfB.png",v.fixedBounds=25;var b=a.Bodies.rectangle(1243,e-3e3+2169,109,119,{isStatic:!0});b.src=t+"bfA.png",b.fixedBounds=25;var S=a.Bodies.rectangle(1799,e-3e3+2296,101,115,{isStatic:!0});S.src=t+"bfB.png",S.fixedBounds=25;var x=a.Bodies.rectangle(2025,e-3e3+2147,110,121,{isStatic:!0});x.src=t+"bfC.png",S.fixedBounds=25;var B=a.Bodies.rectangle(1731,e-3e3+1885,109,119,{isStatic:!0});B.src=t+"bfA.png";var k=a.Bodies.rectangle(400,e-3e3+1088,159,278,{isStatic:!0});k.src=t+"treeE.png";var y=a.Bodies.rectangle(499,e-3e3+1031,109,119,{isStatic:!0});y.src=t+"bfA.png",y.fixedBounds=25;var w=a.Bodies.rectangle(534,e-3e3+937,101,115,{isStatic:!0});w.src=t+"bfB.png",w.fixedBounds=25;var M=a.Bodies.rectangle(1030,e-3e3+853,282,289,{isStatic:!0});M.src=t+"houseC.png",M.fixedBounds=45;var A=a.Bodies.rectangle(1283,e-3e3+1100,110,121,{isStatic:!0});A.src=t+"bfC.png",A.fixedBounds=25;var P=a.Bodies.rectangle(1411,e-3e3+1078,188,332,{isStatic:!0});P.src=t+"treeG.png";var D=a.Bodies.rectangle(1503,e-3e3+1138,138,224,{isStatic:!0});D.src=t+"treeB.png";var T=a.Bodies.rectangle(1619,e-3e3+1120,109,119,{isStatic:!0});T.src=t+"bfA.png",T.fixedBounds=25;var O=a.Bodies.rectangle(1889,e-3e3+1287,109,119,{isStatic:!0});O.src=t+"bfA.png",O.fixedBounds=25;var C=a.Bodies.rectangle(2465,e-3e3+1153,110,121,{isStatic:!0});C.src=t+"bfC.png",C.fixedBounds=25;var j=a.Bodies.rectangle(2763,e-3e3+1276,109,119,{isStatic:!0});j.src=t+"bfA.png",j.fixedBounds=25;var E=a.Bodies.rectangle(2895,e-3e3+918,110,121,{isStatic:!0});E.src=t+"bfC.png",E.fixedBounds=25;var q=a.Bodies.rectangle(2651,e-3e3+1041,110,121,{isStatic:!0});q.src=t+"bfC.png",q.fixedBounds=25;var N=a.Bodies.rectangle(2569,e-3e3+914,159,278,{isStatic:!0});N.src=t+"treeE.png";var H=a.Bodies.rectangle(2428,e-3e3+874,109,119,{isStatic:!0});H.src=t+"bfA.png",H.fixedBounds=25;var F=a.Bodies.rectangle(2157,e-3e3+763,290,329,{isStatic:!0});F.src=t+"houseD.png",F.fixedBounds=55;var R=a.Bodies.rectangle(1864,e-3e3+894,110,121,{isStatic:!0});R.src=t+"bfC.png",R.fixedBounds=25;var G=a.Bodies.rectangle(2371,e-3e3+387,159,278,{isStatic:!0});G.src=t+"treeE.png";var L=a.Bodies.rectangle(2301,e-3e3+264,159,278,{isStatic:!0});L.src=t+"treeE.png";var W=a.Bodies.rectangle(2175,e-3e3+300,192,332,{isStatic:!0});W.src=t+"treeH.png";var I=a.Bodies.rectangle(757,e-3e3+345,159,278,{isStatic:!0});for(I.src=t+"treeE.png",i=[i,s,n,r,o,l,c,h,p,g,d,m,u,f,v,b,S,x,B,k,y,w,M,A,P,D,T,O,C,j,E,q,N,H,F,R,G,L,W,I],s=0,n=i.length;s<n;s++)i[s].name=i[s].label="staticOriEPass"+a.cKs(),i[s].FixedPosition={x:i[s].position.x,y:i[s].position.y-e},i[s].fixedBounds||(i[s].fixedBounds=5);return i}()}),s("staticOriFPassLayerB",{x:3e3,y:0,location:"mapDungeonF",layer:function(){var i=a.Bodies.rectangle(95,e-1426,109,119,{isStatic:!0});i.src=t+"bfA.png",i.fixedBounds=25;var s=a.Bodies.rectangle(155,e-1196,110,121,{isStatic:!0});s.src=t+"bfC.png",s.fixedBounds=25;var n=a.Bodies.rectangle(257,e-702,121,215,{isStatic:!0});n.src=t+"treeC.png";var r=a.Bodies.rectangle(336,e-658,121,215,{isStatic:!0});r.src=t+"treeC.png";var o=a.Bodies.rectangle(1008,e-538,157,277,{isStatic:!0});o.src=t+"treeA.png";var l=a.Bodies.rectangle(1696,e-402,121,215,{isStatic:!0});l.src=t+"treeC.png";var c=a.Bodies.rectangle(1770,e-328,120,217,{isStatic:!0});c.src=t+"treeD.png";var h=a.Bodies.rectangle(2589,e-861,157,277,{isStatic:!0});h.src=t+"treeI.png";var p=a.Bodies.rectangle(1992,e-1234,138,244,{isStatic:!0});p.src=t+"treeJ.png";var g=a.Bodies.rectangle(1456,e-1601,192,332,{isStatic:!0});g.src=t+"treeH.png";var d=a.Bodies.rectangle(1364,e-1541,138,244,{isStatic:!0});d.src=t+"treeJ.png";var m=a.Bodies.rectangle(791,e-1389,159,278,{isStatic:!0});m.src=t+"treeE.png";var u=a.Bodies.rectangle(1115,e-908,110,121,{isStatic:!0});u.src=t+"bfC.png",u.fixedBounds=25;var f=a.Bodies.rectangle(1090,e-816,109,119,{isStatic:!0});f.src=t+"bfA.png",f.fixedBounds=25;var v=a.Bodies.rectangle(1398,e-608,109,119,{isStatic:!0});v.src=t+"bfA.png",v.fixedBounds=25;var b=a.Bodies.rectangle(1885,e-743,110,121,{isStatic:!0});b.src=t+"bfC.png",b.fixedBounds=25;var S=a.Bodies.rectangle(1843,e-835,101,115,{isStatic:!0});S.src=t+"bfD.png",S.fixedBounds=25;var x=a.Bodies.rectangle(1617,e-976,282,289,{isStatic:!0});x.src=t+"houseC.png",x.fixedBounds=45;var B=a.Bodies.rectangle(126,e-2079,205,270,{isStatic:!0});B.src=t+"houseF.png",B.fixedBounds=45;var k=a.Bodies.rectangle(256,e-2062,109,119,{isStatic:!0});k.src=t+"bfA.png",k.fixedBounds=25;var y=a.Bodies.rectangle(241,e-1738,110,121,{isStatic:!0});y.src=t+"bfC.png",y.fixedBounds=25;var w=a.Bodies.rectangle(639,e-1792,109,119,{isStatic:!0});w.src=t+"bfA.png",w.fixedBounds=25;var M=a.Bodies.rectangle(1205,e-1762,110,121,{isStatic:!0});M.src=t+"bfC.png",M.fixedBounds=25;var A=a.Bodies.rectangle(1843,e-1817,110,121,{isStatic:!0});A.src=t+"bfC.png",A.fixedBounds=25;var P=a.Bodies.rectangle(2704,e-1857,159,278,{isStatic:!0});P.src=t+"treeE.png";var D=a.Bodies.rectangle(2519,e-2050,101,115,{isStatic:!0});D.src=t+"bfD.png",D.fixedBounds=25;var T=a.Bodies.rectangle(2347,e-2600,159,278,{isStatic:!0});T.src=t+"treeE.png";var O=a.Bodies.rectangle(1703,e-2787,188,332,{isStatic:!0});O.src=t+"treeG.png";var C=a.Bodies.rectangle(1577,e-2823,159,278,{isStatic:!0});C.src=t+"treeE.png";var j=a.Bodies.rectangle(1507,e-2700,159,278,{isStatic:!0});j.src=t+"treeE.png";var E=a.Bodies.rectangle(815,e-2708,192,332,{isStatic:!0});E.src=t+"treeH.png";var q=a.Bodies.rectangle(723,e-2648,134,224,{isStatic:!0});q.src=t+"treeJ.png";var N=a.Bodies.rectangle(117,e-2480,159,278,{isStatic:!0});N.src=t+"treeE.png";var H=a.Bodies.rectangle(535,e-2031,159,278,{isStatic:!0});H.src=t+"treeE.png";var F=a.Bodies.rectangle(676,e-2071,110,121,{isStatic:!0});F.src=t+"bfC.png",F.fixedBounds=25;var R=a.Bodies.rectangle(947,e-2182,290,329,{isStatic:!0});R.src=t+"houseG.png",R.fixedBounds=55;var G=a.Bodies.rectangle(1153,e-2137,110,121,{isStatic:!0});G.src=t+"bfC.png",G.fixedBounds=25;var L=a.Bodies.rectangle(1294,e-2122,101,115,{isStatic:!0});L.src=t+"bfD.png",L.fixedBounds=25;var W=a.Bodies.rectangle(1874,e-1889,109,119,{isStatic:!0});W.src=t+"bfA.png",W.fixedBounds=25;var I=a.Bodies.rectangle(2074,e-2092,282,289,{isStatic:!0});for(I.src=t+"houseB.png",I.fixedBounds=45,i=[i,s,n,r,o,l,c,h,p,g,d,m,u,f,v,b,S,x,B,k,y,w,M,A,P,D,T,O,C,j,E,q,N,H,F,R,G,L,W,I],s=0,n=i.length;s<n;s++)i[s].name=i[s].label="staticOriFPass"+a.cKs(),i[s].FixedPosition={x:i[s].position.x,y:i[s].position.y-e},i[s].fixedBounds||(i[s].fixedBounds=5);return i}()})]},a.hEP.value.mapDungeonF.content}(),function(){var t=a.path+"/ornaments/k/",e=a.browserHeightUpdate;n(12,"/ornaments/k/","mapDungeonG");var c=l({label:"staticOriGPassSpawnA",texture:a.path+"/1px.png",x:4569,y:e+-6e3+4869,target:"help"}),h=l({label:"staticOriGPassSpawnB",texture:a.path+"/1px.png",x:2761,y:e-6e3+3396,target:"help"}),p=l({label:"staticOriGPassSpawnC",texture:a.path+"/1px.png",x:1284,y:e-6e3+2119,target:"help"}),g=l({label:"staticOriGPassSpawnD",texture:a.path+"/1px.png",x:4500,y:e+-6e3+1320,target:"help"}),d=l({isVisible:!1,label:"staticOriDungeonGSpawnE",texture:t+"portal right.png",x:4989,point:"portal",fixedBounds:65,y:e+-6e3+2835,target:"help"}),m=l({isVisible:!1,label:"staticOriDungeonGSpawnF",texture:t+"portal right.png",x:608,point:"portal",fixedBounds:65,y:e+-6e3+3342,target:"help"}),u=o({isVisible:!0,touch:!0,x:4207,y:e+-6e3+4101,additionalBoundsValue:55,additionalBoundsHeightValue:60,additionalBoundsWidthValue:15,target:"info",texture:a.path+"/hollowMage-left.png",label:"staticOriNpcPassSpawnB"}),f=o({isVisible:!1,touch:!0,x:378,y:e-6e3+4263,additionalBoundsValue:55,additionalBoundsHeightValue:60,additionalBoundsWidthValue:0,target:"info",texture:a.path+"/hollowMage-right.png",label:"staticOriNpcPassSpawnC"}),v=o({isVisible:!1,touch:!0,x:2561,y:e-6e3+3496,additionalBoundsValue:55,additionalBoundsHeightValue:60,additionalBoundsWidthValue:0,target:"info",texture:a.path+"/fireElemental-left.png",label:"staticOriNpcPassSpawnD"});r("/ornaments/k/buffer-cliff-left.svg","mapDungeonG","staticOriDngGBufferA",{x:316,y:e-6e3+4979}),r("/ornaments/k/buffer-cliff-right.svg","mapDungeonG","staticOriDngGBufferB",{x:1215,y:e-6e3+4945});var b=a.staticGeometry.createPortal({isVisible:!1,width:200,height:200,color:a.rgbRandom(1),effect:"glowPortal",rangeX:70,rangeY:270,attach:"staticOriDungeonGSpawnE",location:"mapDungeonG",targetLocation:"mapDungeonC"}),S=a.staticGeometry.createPortal({isVisible:!1,width:200,height:200,color:a.rgbRandom(1),effect:"glowPortal",rangeX:70,rangeY:270,attach:"staticOriDungeonGSpawnF",location:"mapDungeonG",targetLocation:"mapDungeonA"});a.staticGeometry.createMap({location:"mapDungeonG",src:t+"map.png"});var x=a.Bodies.rectangle(4500,-1170,10,10,{isStatic:!0});return x.src=a.path+"/1px.png",x.name=x.label="staticOriGPassPathPointA",x=[x],a.hEP.value.mapDungeonG.content={staticWallOuttermapDungeonG:i("mapDungeonG","large"),staticPortalmapDungeonG:{portalA:{portalIn:"staticOriPortalmapDungeonG",portalOut:"staticOriPortalmapDungeonC"},portalB:{portalIn:"staticOriPortalBmapDungeonG",portalOut:"staticOriPortalmapDungeonA"}},staticOriPortalmapDungeonG:b,staticOriPortalBmapDungeonG:S,staticOriDungeonGSpawnA:c,staticOriDungeonGSpawnB:h,staticOriDungeonGSpawnC:p,staticOriDungeonGSpawnD:g,staticOriDungeonGSpawnE:d,staticOriDungeonGSpawnF:m,staticOriGroupPathPoints:x,staticOriGroupSVG:[],staticOriNpcPassSpawnB:u,staticOriNpcPassSpawnC:f,staticOriNpcPassSpawnD:v,groupLayer:[s("staticOriGPassLayerA",{x:0,y:0,location:"mapDungeonG",layer:function(){var i=a.Bodies.rectangle(92,e-6e3+5263,139,224,{isStatic:!0});i.src=t+"treeA.png";var s=a.Bodies.rectangle(110,e-6e3+5084,192,333,{isStatic:!0});s.src=t+"treeB.png";var n=a.Bodies.rectangle(132,e-6e3+5e3,192,333,{isStatic:!0});n.src=t+"treeB.png";var r=a.Bodies.rectangle(224,e-6e3+5057,141,264,{isStatic:!0});r.src=t+"treeC.png";var o=a.Bodies.rectangle(343,e-6e3+5063,51,127,{isStatic:!0});o.src=t+"stoneE.png";var l=a.Bodies.rectangle(256,e-6e3+5789,148,198,{isStatic:!0});l.src=t+"stoneA.png",l.fixedBounds=45;var c=a.Bodies.rectangle(383,e-6e3+5319,336,337,{isStatic:!0});c.src=t+"stoneC.png",c.fixedBounds=45;var h=a.Bodies.rectangle(587,e-6e3+5066,91,125,{isStatic:!0});h.src=t+"sign.png";var p=a.Bodies.rectangle(876,e-6e3+5190,170,207,{isStatic:!0});p.src=t+"stoneD.png";var g=a.Bodies.rectangle(1317,e-6e3+5575,192,332,{isStatic:!0});g.src=t+"treeD.png";var d=a.Bodies.rectangle(1443,e-6e3+5539,158,278,{isStatic:!0});d.src=t+"treeE.png";var m=a.Bodies.rectangle(1513,e-6e3+5662,158,278,{isStatic:!0});m.src=t+"treeE.png";var u=a.Bodies.rectangle(1489,e-6e3+5876,76,82,{isStatic:!0});u.src=t+"stoneB.png";var f=a.Bodies.rectangle(1900,e-6e3+5802,158,278,{isStatic:!0});f.src=t+"treeE.png";var v=a.Bodies.rectangle(2002,e-6e3+5732,99,85,{isStatic:!0});v.src=t+"stoneF.png";var b=a.Bodies.rectangle(2566,e-6e3+5881,118,110,{isStatic:!0});b.src=t+"treeM.png",b.fixedBounds=45;var S=a.Bodies.rectangle(2831,e-6e3+5709,122,215,{isStatic:!0});S.src=t+"treeI.png";var x=a.Bodies.rectangle(2751,e-6e3+5632,120,217,{isStatic:!0});x.src=t+"treeH.png";var B=a.Bodies.rectangle(2658,e-6e3+5173,135,235,{isStatic:!0});B.src=t+"treeL.png";var k=a.Bodies.rectangle(2560,e-6e3+5068,122,215,{isStatic:!0});k.src=t+"treeI.png";var y=a.Bodies.rectangle(2445,e-6e3+5203,158,282,{isStatic:!0});y.src=t+"treeK.png";var w=a.Bodies.rectangle(2381,e-6e3+5010,158,282,{isStatic:!0});w.src=t+"treeK.png";var M=a.Bodies.rectangle(2166,e-6e3+5038,218,245,{isStatic:!0});M.src=t+"stoneG.png",M.fixedBounds=45;var A=a.Bodies.rectangle(1853,e-6e3+5182,448,438,{isStatic:!0});A.src=t+"houseA.png",A.fixedBounds=60;var P=a.Bodies.rectangle(1588,e-6e3+4925,158,282,{isStatic:!0});P.src=t+"treeJ.png";var D=a.Bodies.rectangle(1543,e-6e3+4998,120,217,{isStatic:!0});D.src=t+"treeH.png";var T=a.Bodies.rectangle(1429,e-6e3+5026,158,278,{isStatic:!0});T.src=t+"treeE.png";var O=a.Bodies.rectangle(89,e-6e3+4717,51,127,{isStatic:!0});O.src=t+"stoneE.png",O.fixedBounds=25;var C=a.Bodies.rectangle(164,e-6e3+4552,191,172,{isStatic:!0});C.src=t+"treeQ.png";var j=a.Bodies.rectangle(296,e-6e3+4607,174,156,{isStatic:!0});j.src=t+"stoneI.png",j.fixedBounds=25;var E=a.Bodies.rectangle(651,e-6e3+4483,143,167,{isStatic:!0});E.src=t+"treeN.png";var q=a.Bodies.rectangle(742,e-6e3+4205,160,205,{isStatic:!0});q.src=t+"treeP.png";var N=a.Bodies.rectangle(798,e-6e3+4212,106,128,{isStatic:!0});N.src=t+"treeO.png";var H=a.Bodies.rectangle(556,e-6e3+4017,160,205,{isStatic:!0});H.src=t+"treeP.png";var F=a.Bodies.rectangle(358,e-6e3+4263,131,205,{isStatic:!0});F.src=t+"stoneJ.png",F.fixedBounds=25;var R=a.Bodies.rectangle(139,e-6e3+4196,314,254,{isStatic:!0});R.src=t+"stoneK.png",R.fixedBounds=25;var G=a.Bodies.rectangle(157,e-6e3+4122,313,261,{isStatic:!0});G.src=t+"stoneL.png",G.fixedBounds=25;var L=a.Bodies.rectangle(173,e-6e3+3981,106,126,{isStatic:!0});L.src=t+"treeR.png";var W=a.Bodies.rectangle(94,e-6e3+3891,139,244,{isStatic:!0});W.src=t+"treeA.png";var I=a.Bodies.rectangle(113,e-6e3+3714,192,333,{isStatic:!0});I.src=t+"treeB.png";var Y=a.Bodies.rectangle(133,e-6e3+3629,192,333,{isStatic:!0});Y.src=t+"treeB.png";var V=a.Bodies.rectangle(225,e-6e3+3688,141,246,{isStatic:!0});V.src=t+"treeC.png";var _=a.Bodies.rectangle(1025,e-6e3+4854,148,129,{isStatic:!0});_.src=t+"treeS.png",_.fixedBounds=25;var X=a.Bodies.rectangle(1266,e-6e3+4790,104,122,{isStatic:!0});X.src=t+"treeR.png";var U=a.Bodies.rectangle(1301,e-6e3+4588,159,205,{isStatic:!0});U.src=t+"treeU.png";var J=a.Bodies.rectangle(1681,e-6e3+4637,159,192,{isStatic:!0});J.src=t+"treeT.png",J.fixedBounds=25;var z=a.Bodies.rectangle(2079,e-6e3+4407,160,205,{isStatic:!0});z.src=t+"treeP.png";var Q=a.Bodies.rectangle(2390,e-6e3+4682,188,172,{isStatic:!0});Q.src=t+"treeX.png",Q.fixedBounds=25;var K=a.Bodies.rectangle(2927,e-6e3+4519,336,337,{isStatic:!0});K.src=t+"stoneM.png",K.fixedBounds=25;var Z=a.Bodies.rectangle(2903,e-6e3+3744,76,82,{isStatic:!0});Z.src=t+"stoneB.png";var $=a.Bodies.rectangle(2452,e-6e3+3771,243,239,{isStatic:!0});$.src=t+"ruinD.png",$.fixedBounds=40;var tt=a.Bodies.rectangle(2385,e-6e3+3857,181,129,{isStatic:!0});tt.src=t+"ruinC.png",tt.fixedBounds=40;var et=a.Bodies.rectangle(2003,e-6e3+4083,197,228,{isStatic:!0});et.src=t+"treeW.png";var at=a.Bodies.rectangle(1752,e-6e3+3888,197,122,{isStatic:!0});at.src=t+"root.png",at.fixedBounds=40;var it=a.Bodies.rectangle(1578,e-6e3+4006,199,109,{isStatic:!0});it.src=t+"ruinB.png",it.fixedBounds=40;var st=a.Bodies.rectangle(1302,e-6e3+4271,143,168,{isStatic:!0});st.src=t+"treeV.png";var nt=a.Bodies.rectangle(978,e-6e3+3956,157,106,{isStatic:!0});nt.src=t+"ruinA.png",nt.fixedBounds=30;var rt=a.Bodies.rectangle(2761,e-6e3+3396,230,276,{isStatic:!0});rt.src=t+"treeAA.png",rt.fixedBounds=25;var ot=a.Bodies.rectangle(2614,e-6e3+3141,120,217,{isStatic:!0});ot.src=t+"treeH.png";var lt=a.Bodies.rectangle(2688,e-6e3+3067,122,215,{isStatic:!0});lt.src=t+"treeI.png";var ct=a.Bodies.rectangle(2155,e-6e3+3240,106,128,{isStatic:!0});ct.src=t+"treeO.png";var ht=a.Bodies.rectangle(1808,e-6e3+3463,160,205,{isStatic:!0});ht.src=t+"treeP.png";var pt=a.Bodies.rectangle(1263,e-6e3+3408,218,246,{isStatic:!0});pt.src=t+"stoneN.png",pt.fixedBounds=35;var gt=a.Bodies.rectangle(1592,e-6e3+2980,158,278,{isStatic:!0});gt.src=t+"treeE.png";var dt=a.Bodies.rectangle(838,e-6e3+2966,307,295,{isStatic:!0});dt.src=t+"houseB.png",dt.fixedBounds=70;var mt=a.Bodies.rectangle(481,e-6e3+2963,296,282,{isStatic:!0});for(mt.src=t+"houseC.png",mt.fixedBounds=70,i=[i,s,n,r,o,l,c,h,p,g,d,m,u,f,v,b,S,x,B,k,y,w,M,A,P,D,T,O,C,j,E,q,N,H,F,R,G,L,W,I,Y,V,_,X,U,J,z,Q,K,Z,$,tt,et,at,it,st,nt,rt,ot,lt,ct,ht,pt,gt,dt,mt],s=0,n=i.length;s<n;s++)i[s].name=i[s].label="staticOriGPass"+a.cKs(),i[s].FixedPosition={x:i[s].position.x,y:i[s].position.y-e},i[s].fixedBounds||(i[s].fixedBounds=15);return i}()}),s("staticOriGPassLayerB",{x:3e3,y:0,location:"mapDungeonG",layer:function(){var i=e+-6e3,s=a.Bodies.rectangle(739,i+4174,158,282,{isStatic:!0});s.src=t+"treeJ.png";var n=a.Bodies.rectangle(638,i+4229,158,282,{isStatic:!0});n.src=t+"treeJ.png";var r=a.Bodies.rectangle(561,i+4311,139,244,{isStatic:!0});r.src=t+"treeA.png";var o=a.Bodies.rectangle(146,i+4905,158,278,{isStatic:!0});o.src=t+"treeE.png";var l=a.Bodies.rectangle(652,i+5641,120,217,{isStatic:!0});l.src=t+"treeH.png";var c=a.Bodies.rectangle(1292,i+5668,158,278,{isStatic:!0});c.src=t+"treeE.png";var h=a.Bodies.rectangle(1795,i+5341,158,278,{isStatic:!0});h.src=t+"treeE.png";var p=a.Bodies.rectangle(1921,i+5376,192,333,{isStatic:!0});p.src=t+"treeB.png";var g=a.Bodies.rectangle(2613,i+5493,158,278,{isStatic:!0});g.src=t+"treeE.png";var d=a.Bodies.rectangle(2203,i+4995,218,246,{isStatic:!0});d.src=t+"stoneN.png",d.fixedBounds=35;var m=a.Bodies.rectangle(2675,i+4713,158,282,{isStatic:!0});m.src=t+"treeG.png";var u=a.Bodies.rectangle(2605,i+4594,158,278,{isStatic:!0});u.src=t+"treeE.png";var f=a.Bodies.rectangle(1873,i+4355,122,215,{isStatic:!0});f.src=t+"treeI.png";var v=a.Bodies.rectangle(1770,i+4397,158,278,{isStatic:!0});v.src=t+"treeE.png";var b=a.Bodies.rectangle(1569,i+4869,122,215,{isStatic:!0});b.src=t+"treeI.png";var S=a.Bodies.rectangle(1059,i+4806,158,278,{isStatic:!0});S.src=t+"treeE.png";var x=a.Bodies.rectangle(989,i+4925,158,282,{isStatic:!0});x.src=t+"treeK.png";var B=a.Bodies.rectangle(117,i+3007,158,278,{isStatic:!0});B.src=t+"treeE.png";var k=a.Bodies.rectangle(127,i+3383,157,106,{isStatic:!0});k.src=t+"ruinA.png",k.fixedBounds=30;var y=a.Bodies.rectangle(86,i+3823,158,278,{isStatic:!0});y.src=t+"treeE.png";var w=a.Bodies.rectangle(1367,i+3801,448,438,{isStatic:!0});w.src=t+"houseD.png",w.fixedBounds=80;var M=a.Bodies.rectangle(2708,i+3959,158,278,{isStatic:!0});M.src=t+"treeE.png";var A=a.Bodies.rectangle(2675,i+3458,192,333,{isStatic:!0});A.src=t+"treeB.png";var P=a.Bodies.rectangle(2549,i+3422,158,278,{isStatic:!0});P.src=t+"treeE.png";var D=a.Bodies.rectangle(1922,i+3647,178,214,{isStatic:!0});D.src=t+"treeY.png",D.fixedBounds=25;var T=a.Bodies.rectangle(1718,i+3252,159,205,{isStatic:!0});T.src=t+"treeU.png";var O=a.Bodies.rectangle(1037,i+3346,158,278,{isStatic:!0});for(O.src=t+"treeE.png",(i=a.Bodies.rectangle(581,i+3216,191,172,{isStatic:!0})).src=t+"treeQ.png",s=[s,n,r,o,l,c,h,p,g,d,m,u,f,v,b,S,x,B,k,y,w,M,A,P,D,T,O,i],n=0,r=s.length;n<r;n++)s[n].name=s[n].label="staticOriDPass"+a.cKs(),s[n].FixedPosition={x:s[n].position.x,y:s[n].position.y-e},s[n].fixedBounds||(s[n].fixedBounds=15);return s}()}),s("staticOriGPassLayerC",{x:0,y:-3e3,location:"mapDungeonG",layer:function(){var i=a.Bodies.rectangle(1269,e-3e3+2439,158,278,{isStatic:!0});i.src=t+"treeE.png";var s=a.Bodies.rectangle(1655,e-3e3+2300,158,278,{isStatic:!0});s.src=t+"treeE.png";var n=a.Bodies.rectangle(1726,e-3e3+2176,158,278,{isStatic:!0});n.src=t+"treeE.png";var r=a.Bodies.rectangle(1852,e-3e3+2212,192,333,{isStatic:!0});r.src=t+"treeB.png";var o=a.Bodies.rectangle(2128,e-3e3+1856,170,208,{isStatic:!0});o.src=t+"stoneO.png";var l=a.Bodies.rectangle(1740,e-3e3+1663,158,278,{isStatic:!0});l.src=t+"treeE.png";var c=a.Bodies.rectangle(1625,e-3e3+1635,122,215,{isStatic:!0});c.src=t+"treeI.png";var h=a.Bodies.rectangle(1580,e-3e3+1563,158,282,{isStatic:!0});h.src=t+"treeK.png";var p=a.Bodies.rectangle(1284,e-3e3+2119,157,106,{isStatic:!0});p.src=t+"stoneP.png",p.fixedBounds=30,(p=a.Bodies.rectangle(788,e-3e3+1648,158,282,{isStatic:!0})).src=t+"treeJ.png";var g=a.Bodies.rectangle(723,e-3e3+1820,158,282,{isStatic:!0});g.src=t+"treeJ.png";var d=a.Bodies.rectangle(607,e-3e3+1721,120,217,{isStatic:!0});d.src=t+"treeH.png";var m=a.Bodies.rectangle(511,e-3e3+1810,158,278,{isStatic:!0});m.src=t+"treeE.png";var u=a.Bodies.rectangle(417,e-3e3+2269,122,215,{isStatic:!0});u.src=t+"treeI.png";var f=a.Bodies.rectangle(338,e-3e3+2347,120,217,{isStatic:!0});f.src=t+"treeH.png";var v=a.Bodies.rectangle(555,e-3e3+2747,120,217,{isStatic:!0});v.src=t+"treeH.png";var b=a.Bodies.rectangle(624,e-3e3+2791,158,278,{isStatic:!0});b.src=t+"treeE.png";var S=a.Bodies.rectangle(756,e-3e3+2708,158,282,{isStatic:!0});S.src=t+"treeJ.png";var x=a.Bodies.rectangle(1396,e-3e3+2892,192,333,{isStatic:!0});x.src=t+"treeB.png";var B=a.Bodies.rectangle(1522,e-3e3+2856,158,278,{isStatic:!0});B.src=t+"treeE.png";var k=a.Bodies.rectangle(2912,e-3e3+2426,148,199,{isStatic:!0});k.src=t+"stoneQ.png",k.fixedBounds=25;var y=a.Bodies.rectangle(2479,e-3e3+1926,141,246,{isStatic:!0});y.src=t+"treeC.png";var w=a.Bodies.rectangle(2944,e-3e3+1695,139,244,{isStatic:!0});w.src=t+"treeA.png";var M=a.Bodies.rectangle(478,e-3e3+179,158,282,{isStatic:!0});M.src=t+"treeJ.png";var A=a.Bodies.rectangle(377,e-3e3+234,158,282,{isStatic:!0});A.src=t+"treeJ.png";var P=a.Bodies.rectangle(300,e-3e3+316,120,217,{isStatic:!0});P.src=t+"treeH.png";var D=a.Bodies.rectangle(798,e-3e3+811,135,235,{isStatic:!0});D.src=t+"treeL.png";var T=a.Bodies.rectangle(728,e-3e3+929,158,282,{isStatic:!0});T.src=t+"treeK.png";var O=a.Bodies.rectangle(1308,e-3e3+874,122,215,{isStatic:!0});O.src=t+"treeI.png";var C=a.Bodies.rectangle(2200,e-3e3+951,139,244,{isStatic:!0});C.src=t+"treeA.png";var j=a.Bodies.rectangle(2292,e-3e3+891,158,282,{isStatic:!0});j.src=t+"treeK.png";var E=a.Bodies.rectangle(2527,e-3e3+373,192,333,{isStatic:!0});E.src=t+"treeB.png";var q=a.Bodies.rectangle(1612,e-3e3+359,122,215,{isStatic:!0});q.src=t+"treeI.png";var N=a.Bodies.rectangle(1509,e-3e3+402,158,278,{isStatic:!0});for(N.src=t+"treeE.png",i=[i,s,n,r,o,l,c,h,p,g,d,m,u,f,v,b,S,x,B,k,y,w,M,A,P,D,T,O,C,j,E,q,N],s=0,n=i.length;s<n;s++)i[s].name=i[s].label="staticOriGPass"+a.cKs(),i[s].FixedPosition={x:i[s].position.x,y:i[s].position.y-e},i[s].fixedBounds||(i[s].fixedBounds=15);return i}()}),s("staticOriGPassLayerD",{x:3e3,y:-3e3,location:"mapDungeonG",layer:function(){var i=e+-3e3,s=a.Bodies.rectangle(806,i+1960,196,229,{isStatic:!0});s.src=t+"treeAB.png";var n=a.Bodies.rectangle(730,i+2283,159,205,{isStatic:!0});n.src=t+"treeU.png";var r=a.Bodies.rectangle(3746,i+2851,143,167,{isStatic:!0});r.src=t+"treeN.png";var o=a.Bodies.rectangle(1160,i+2869,160,205,{isStatic:!0});o.src=t+"treeP.png";var l=a.Bodies.rectangle(1216,i+2876,106,128,{isStatic:!0});l.src=t+"treeO.png";var c=a.Bodies.rectangle(1719,i+2935,143,168,{isStatic:!0});c.src=t+"treeV.png";var h=a.Bodies.rectangle(2626,i+2650,143,167,{isStatic:!0});h.src=t+"treeN.png";var p=a.Bodies.rectangle(2203,i+2259,159,205,{isStatic:!0});p.src=t+"treeU.png";var g=a.Bodies.rectangle(1508,i+2147,143,167,{isStatic:!0});g.src=t+"treeN.png";var d=a.Bodies.rectangle(999,i+2505,148,199,{isStatic:!0});d.src=t+"stoneQ.png",d.fixedBounds=30;var m=a.Bodies.rectangle(1508,i+2464,160,205,{isStatic:!0});m.src=t+"treeP.png";var u=a.Bodies.rectangle(2026,i+2611,160,205,{isStatic:!0});u.src=t+"treeP.png";var f=a.Bodies.rectangle(1873,i+4355,122,215,{isStatic:!0});f.src=t+"treeI.png";var v=a.Bodies.rectangle(1770,i+4397,158,278,{isStatic:!0});v.src=t+"treeE.png";var b=a.Bodies.rectangle(1569,i+4869,122,215,{isStatic:!0});b.src=t+"treeI.png";var S=a.Bodies.rectangle(1059,i+4806,158,278,{isStatic:!0});S.src=t+"treeE.png";var x=a.Bodies.rectangle(989,i+4925,158,282,{isStatic:!0});x.src=t+"treeK.png";var B=a.Bodies.rectangle(92,i+1881,141,246,{isStatic:!0});B.src=t+"treeC.png";var k=a.Bodies.rectangle(58,i+1721,192,333,{isStatic:!0});k.src=t+"treeB.png";var y=a.Bodies.rectangle(37,i+1638,192,333,{isStatic:!0});y.src=t+"treeB.png";var w=a.Bodies.rectangle(682,i+1472,135,235,{isStatic:!0});w.src=t+"treeL.png";var M=a.Bodies.rectangle(1374,i+1355,192,333,{isStatic:!0});M.src=t+"treeB.png";var A=a.Bodies.rectangle(1500,i+1320,135,235,{isStatic:!0});A.src=t+"treeL.png";var P=a.Bodies.rectangle(2002,i+1647,135,235,{isStatic:!0});P.src=t+"treeL.png";var D=a.Bodies.rectangle(2643,i+1620,122,215,{isStatic:!0});D.src=t+"treeI.png";var T=a.Bodies.rectangle(2306,i+904,158,282,{isStatic:!0});T.src=t+"treeJ.png";var O=a.Bodies.rectangle(2236,i+785,135,235,{isStatic:!0});O.src=t+"treeL.png";var C=a.Bodies.rectangle(2733,i+291,122,215,{isStatic:!0});C.src=t+"treeI.png";var j=a.Bodies.rectangle(2657,i+208,158,282,{isStatic:!0});j.src=t+"treeK.png";var E=a.Bodies.rectangle(2556,i+153,158,282,{isStatic:!0});E.src=t+"treeK.png";var q=a.Bodies.rectangle(1725,i+848,120,217,{isStatic:!0});q.src=t+"treeH.png";var N=a.Bodies.rectangle(1525,i+376,158,278,{isStatic:!0});N.src=t+"treeE.png";var H=a.Bodies.rectangle(1422,i+334,124,215,{isStatic:!0});H.src=t+"treeF.png";var F=a.Bodies.rectangle(1092,i+975,218,245,{isStatic:!0});F.src=t+"stoneG.png",F.fixedBounds=30;var R=a.Bodies.rectangle(690,i+573,135,235,{isStatic:!0});R.src=t+"treeL.png";var G=a.Bodies.rectangle(620,i+692,158,282,{isStatic:!0});for(G.src=t+"treeK.png",(i=a.Bodies.rectangle(275,i+133,122,215,{isStatic:!0})).src=t+"treeI.png",s=[s,n,r,o,l,c,h,p,g,d,m,u,f,v,b,S,x,B,k,y,w,M,A,P,D,T,O,C,j,E,q,N,H,F,R,G,i],n=0,r=s.length;n<r;n++)s[n].name=s[n].label="staticOriLayerEdngGPass"+a.cKs(),s[n].FixedPosition={x:s[n].position.x,y:s[n].position.y-e},s[n].fixedBounds||(s[n].fixedBounds=15);return s}()})]},a.hEP.value.mapDungeonG.content}(),function(){var t=a.path+"/ornaments/l/",e=a.browserHeightUpdate;n(12,"/ornaments/l/","mapDungeonH");var r=a.Bodies.rectangle(4500,-1170,10,10,{isStatic:!0});r.src=a.path+"/1px.png",r.name=r.label="staticOriHPassPathPointA",r=[r];var c=l({isVisible:!0,label:"staticOriDngHPassSpawnA",texture:t+"portal left.png",x:1905,point:"portal",fixedBounds:65,y:e+-6e3+5241,target:"help"}),h=l({label:"staticOriDngHPassSpawnB",texture:a.path+"/1px.png",x:3740,y:e-6e3+4039,target:"help"}),p=l({label:"staticOriDngHPassSpawnC",texture:a.path+"/1px.png",x:2029,y:e-6e3+4524,target:"help"}),g=l({label:"staticOriDngHPassSpawnD",texture:a.path+"/1px.png",x:4615,y:e-6e3+1283,target:"help"}),d=l({label:"staticOriDngHPassSpawnE",texture:a.path+"/1px.png",x:1070,y:e-6e3+1236,target:"help"}),m=l({label:"staticOriDngHPassSpawnF",texture:a.path+"/1px.png",x:1470,y:e-6e3+2196,target:"help"}),u=l({isVisible:!1,label:"staticOriDngHPassSpawnG",texture:t+"portal left.png",x:2370,y:e+-6e3+1009,point:"portal",fixedBounds:65,target:"help"}),f=l({isVisible:!1,label:"staticOriDngHPassSpawnI",texture:t+"portal left.png",x:2370,y:e+-6e3+1909,point:"portal",fixedBounds:65,target:"help"}),v=o({isVisible:!0,touch:!0,x:5100,y:e+-6e3+2764,additionalBoundsValue:55,additionalBoundsHeightValue:60,additionalBoundsWidthValue:15,target:"info",texture:a.path+"/hollowMage-left.png",label:"staticOriNpcDngHPassSpawnA"}),b=a.staticGeometry.createPortal({width:200,height:200,color:a.rgbRandom(1),effect:"glowPortal",rangeX:70,rangeY:270,attach:"staticOriDngHPassSpawnA",location:"mapDungeonH",targetLocation:"mapDDungeonA"}),S=a.staticGeometry.createPortal({isVisible:!1,width:200,height:200,color:a.rgbRandom(1),effect:"glowPortal",rangeX:70,rangeY:270,attach:"staticOriDngHPassSpawnG",location:"mapDungeonH",targetLocation:"mapDungeonE"}),x=a.staticGeometry.createPortal({isVisible:!1,width:200,height:200,color:a.rgbRandom(1),effect:"glowPortal",rangeX:70,rangeY:270,attach:"staticOriDngHPassSpawnI",location:"mapDungeonH",targetLocation:"mapDungeonF"});return a.staticGeometry.createMap({location:"mapDungeonH",src:t+"map.png"}),a.hEP.value.mapDungeonH.content={staticWallOuttermapDungeonH:i("mapDungeonH","large"),staticPortalmapDungeonH:{portalA:{portalIn:"staticOriPortalmapDungeonH",portalOut:"staticOriPortalBmapDDungeonA"},portalB:{portalIn:"staticOriPortalBmapDungeonH",portalOut:"staticOriPortalmapDungeonE"},portalC:{portalIn:"staticOriPortalCmapDungeonH",portalOut:"staticOriPortalBmapDungeonF"}},staticOriPortalmapDungeonH:b,staticOriPortalBmapDungeonH:S,staticOriPortalCmapDungeonH:x,staticOriDngHPassSpawnA:c,staticOriDngHPassSpawnB:h,staticOriDngHPassSpawnC:p,staticOriDngHPassSpawnD:g,staticOriDngHPassSpawnE:d,staticOriDngHPassSpawnF:m,staticOriDngHPassSpawnG:u,staticOriDngHPassSpawnI:f,staticOriNpcDngHPassSpawnA:v,staticOriGroupPathPoints:r,staticOriGroupSVG:[],groupLayer:[s("staticOriHPassLayerA",{x:0,y:0,location:"mapDungeonH",layer:function(){var i=a.Bodies.rectangle(248,e-6e3+4718,276,356,{isStatic:!0});i.src=t+"treeA.png";var s=a.Bodies.rectangle(583,e-6e3+5299,276,356,{isStatic:!0});s.src=t+"treeA.png";var n=a.Bodies.rectangle(1454,e-6e3+5736,266,343,{isStatic:!0});n.src=t+"treeC.png";var r=a.Bodies.rectangle(2702,e-6e3+5645,242,312,{isStatic:!0});r.src=t+"treeB.png";var o=a.Bodies.rectangle(2880,e-6e3+5542,266,343,{isStatic:!0});o.src=t+"treeC.png";var l=a.Bodies.rectangle(2099,e-6e3+5219,242,312,{isStatic:!0});l.src=t+"treeB.png",l.fixedBounds=45;var c=a.Bodies.rectangle(1920,e-6e3+5116,266,343,{isStatic:!0});c.src=t+"treeC.png",c.fixedBounds=45;var h=a.Bodies.rectangle(1304,e-6e3+5196,91,125,{isStatic:!0});h.src=t+"sign.png";var p=a.Bodies.rectangle(1128,e-6e3+4822,339,339,{isStatic:!0});p.src=t+"stone.png";var g=a.Bodies.rectangle(2924,e-6e3+4527,201,295,{isStatic:!0});g.src=t+"treeD.png";var d=a.Bodies.rectangle(2872,e-6e3+4370,276,356,{isStatic:!0});d.src=t+"treeA.png";var m=a.Bodies.rectangle(2690,e-6e3+4376,242,312,{isStatic:!0});m.src=t+"treeB.png";var u=a.Bodies.rectangle(1496,e-6e3+4266,266,343,{isStatic:!0});u.src=t+"treeC.png";var f=a.Bodies.rectangle(1255,e-6e3+3846,276,356,{isStatic:!0});f.src=t+"treeA.png";var v=a.Bodies.rectangle(695,e-6e3+4310,242,312,{isStatic:!0});v.src=t+"treeB.png";var b=a.Bodies.rectangle(597,e-6e3+4246,242,312,{isStatic:!0});b.src=t+"treeB.png";var S=a.Bodies.rectangle(471,e-6e3+4321,201,295,{isStatic:!0});S.src=t+"treeD.png";var x=a.Bodies.rectangle(507,e-6e3+3639,459,324,{isStatic:!0});x.src=t+"houseA.png",x.fixedBounds=60;var B=a.Bodies.rectangle(1613,e-6e3+3406,134,90,{isStatic:!0});B.src=t+"ruinM.png";var k=a.Bodies.rectangle(1720,e-6e3+3233,275,258,{isStatic:!0});k.src=t+"treeF.png";var y=a.Bodies.rectangle(2159,e-6e3+3712,247,292,{isStatic:!0});y.src=t+"treeE.png";var w=a.Bodies.rectangle(2581,e-6e3+3825,157,101,{isStatic:!0});w.src=t+"ruinL.png";var M=a.Bodies.rectangle(2610,e-6e3+3307,149,199,{isStatic:!0});M.src=t+"stoneA.png",M.fixedBounds=45;var A=a.Bodies.rectangle(2846,e-6e3+3077,99,85,{isStatic:!0});A.src=t+"stoneB.png";var P=a.Bodies.rectangle(2927,e-6e3+3859,63,113,{isStatic:!0});P.src=t+"ruinC.png";var D=a.Bodies.rectangle(2762,e-6e3+3964,70,113,{isStatic:!0});D.src=t+"ruinK.png";var T=a.Bodies.rectangle(2538,e-6e3+4154,63,113,{isStatic:!0});T.src=t+"ruinC.png";var O=a.Bodies.rectangle(2340,e-6e3+4058,128,199,{isStatic:!0});O.src=t+"ruinJ.png";var C=a.Bodies.rectangle(2151,e-6e3+4001,80,180,{isStatic:!0});C.src=t+"ruinA.png";var j=a.Bodies.rectangle(1990,e-6e3+4106,80,179,{isStatic:!0});j.src=t+"ruinB.png";var E=a.Bodies.rectangle(1858,e-6e3+4226,63,113,{isStatic:!0});E.src=t+"ruinC.png";var q=a.Bodies.rectangle(1702,e-6e3+4307,129,200,{isStatic:!0});q.src=t+"ruinD.png";var N=a.Bodies.rectangle(1783,e-6e3+4406,80,179,{isStatic:!0});N.src=t+"ruinB.png";var H=a.Bodies.rectangle(1946,e-6e3+4478,80,180,{isStatic:!0});H.src=t+"ruinA.png";var F=a.Bodies.rectangle(2075,e-6e3+4561,71,113,{isStatic:!0});F.src=t+"ruinE.png";var R=a.Bodies.rectangle(2194,e-6e3+4619,63,113,{isStatic:!0});R.src=t+"ruinI.png";var G=a.Bodies.rectangle(2036,e-6e3+4737,70,113,{isStatic:!0});G.src=t+"ruinK.png";var L=a.Bodies.rectangle(1909,e-6e3+4809,129,200,{isStatic:!0});L.src=t+"ruinD.png";var W=a.Bodies.rectangle(2074,e-6e3+4914,80,179,{isStatic:!0});W.src=t+"ruinB.png";var I=a.Bodies.rectangle(2263,e-6e3+5032,80,179,{isStatic:!0});I.src=t+"ruinF.png";var Y=a.Bodies.rectangle(2494,e-6e3+4887,80,179,{isStatic:!0});Y.src=t+"ruinF.png";var V=a.Bodies.rectangle(2584,e-6e3+4830,63,113,{isStatic:!0});V.src=t+"ruinI.png";var _=a.Bodies.rectangle(2679,e-6e3+4713,80,179,{isStatic:!0});_.src=t+"ruinB.png";var X=a.Bodies.rectangle(2780,e-6e3+4623,128,199,{isStatic:!0});X.src=t+"ruinJ.png";var U=a.Bodies.rectangle(2559,e-6e3+4284,128,199,{isStatic:!0});for(U.src=t+"ruinJ.png",i=[i,s,n,r,o,l,c,h,p,g,d,m,u,f,v,b,S,x,B,k,y,w,M,A,P,D,T,O,C,j,E,q,N,H,F,R,G,L,W,I,Y,V,_,X,U],s=0,n=i.length;s<n;s++)i[s].name=i[s].label="staticOriGPass"+a.cKs(),i[s].FixedPosition={x:i[s].position.x,y:i[s].position.y-e},i[s].fixedBounds||(i[s].fixedBounds=25);return i}()}),s("staticOriHPassLayerB",{x:3e3,y:0,location:"mapDungeonH",layer:function(){var i=e+-6e3,s=a.Bodies.rectangle(200,i+5022,266,343,{isStatic:!0});s.src=t+"treeC.png";var n=a.Bodies.rectangle(379,i+5125,242,312,{isStatic:!0});n.src=t+"treeB.png";var r=a.Bodies.rectangle(693,i+5602,188,243,{isStatic:!0});r.src=t+"treeH.png";var o=a.Bodies.rectangle(2037,i+5736,266,343,{isStatic:!0});o.src=t+"treeC.png";var l=a.Bodies.rectangle(2772,i+5240,267,356,{isStatic:!0});l.src=t+"treeA.png";var c=a.Bodies.rectangle(2303,i+4815,266,343,{isStatic:!0});c.src=t+"treeC.png";var h=a.Bodies.rectangle(2188,i+5196,91,125,{isStatic:!0});h.src=t+"signB.png";var p=a.Bodies.rectangle(1571,i+5116,266,343,{isStatic:!0});p.src=t+"treeC.png";var g=a.Bodies.rectangle(1393,i+5219,201,259,{isStatic:!0});g.src=t+"treeD.png";var d=a.Bodies.rectangle(1950,i+4333,339,339,{isStatic:!0});d.src=t+"stoneC.png",d.fixedBounds=40;var m=a.Bodies.rectangle(2644,i+3400,99,85,{isStatic:!0});m.src=t+"stoneD.png";var u=a.Bodies.rectangle(2236,i+3846,267,356,{isStatic:!0});u.src=t+"treeA.png";var f=a.Bodies.rectangle(1879,i+3406,134,90,{isStatic:!0});f.src=t+"ruinN.png";var v=a.Bodies.rectangle(1771,i+3233,275,258,{isStatic:!0});v.src=t+"treeI.png";var b=a.Bodies.rectangle(1481,i+3939,201,259,{isStatic:!0});b.src=t+"treeD.png";var S=a.Bodies.rectangle(1356,i+3864,267,356,{isStatic:!0});S.src=t+"treeA.png";var x=a.Bodies.rectangle(1258,i+3928,242,312,{isStatic:!0});x.src=t+"treeB.png";var B=a.Bodies.rectangle(1078,i+3180,267,356,{isStatic:!0});B.src=t+"treeA.png";var k=a.Bodies.rectangle(906,i+3319,201,259,{isStatic:!0});k.src=t+"treeD.png";var y=a.Bodies.rectangle(708,i+3221,201,259,{isStatic:!0});y.src=t+"treeD.png";var w=a.Bodies.rectangle(239,i+3143,251,281,{isStatic:!0});w.src=t+"treeJ.png";var M=a.Bodies.rectangle(56,i+4619,129,200,{isStatic:!0});M.src=t+"ruinD.png";var A=a.Bodies.rectangle(233,i+4707,80,179,{isStatic:!0});A.src=t+"ruinB.png";var P=a.Bodies.rectangle(411,i+4817,63,113,{isStatic:!0});P.src=t+"ruinC.png";var D=a.Bodies.rectangle(570,i+4673,80,180,{isStatic:!0});D.src=t+"ruinA.png";var T=a.Bodies.rectangle(696,i+4557,80,180,{isStatic:!0});T.src=t+"ruinA.png";var O=a.Bodies.rectangle(837,i+4438,80,179,{isStatic:!0});O.src=t+"ruinB.png";var C=a.Bodies.rectangle(964,i+4366,71,113,{isStatic:!0});C.src=t+"ruinE.png";var j=a.Bodies.rectangle(1040,i+4242,128,119,{isStatic:!0});j.src=t+"ruinJ.png";var E=a.Bodies.rectangle(855,i+4206,63,113,{isStatic:!0});E.src=t+"ruinI.png";var q=a.Bodies.rectangle(662,i+4084,80,179,{isStatic:!0});q.src=t+"ruinB.png";var N=a.Bodies.rectangle(528,i+3996,129,200,{isStatic:!0});N.src=t+"ruinD.png";var H=a.Bodies.rectangle(688,i+3883,80,179,{isStatic:!0});H.src=t+"ruinF.png";var F=a.Bodies.rectangle(543,i+3831,63,113,{isStatic:!0});F.src=t+"ruinI.png";var R=a.Bodies.rectangle(383,i+3734,80,179,{isStatic:!0});for(R.src=t+"ruinF.png",(i=a.Bodies.rectangle(145,i+3723,80,179,{isStatic:!0})).src=t+"ruinB.png",s=[s,n,r,o,l,c,h,p,g,d,m,u,f,v,b,S,x,B,k,y,w,M,A,P,D,T,O,C,j,E,q,N,H,F,R,i],n=0,r=s.length;n<r;n++)s[n].name=s[n].label="staticOriDPass"+a.cKs(),s[n].FixedPosition={x:s[n].position.x,y:s[n].position.y-e},s[n].fixedBounds||(s[n].fixedBounds=15);return s}()}),s("staticOriHPassLayerC",{x:0,y:-3e3,location:"mapDungeonH",layer:function(){var i=a.Bodies.rectangle(536,e-3e3+1553,266,343,{isStatic:!0});i.src=t+"treeC.png";var s=a.Bodies.rectangle(993,e-3e3+1982,266,343,{isStatic:!0});s.src=t+"treeC.png";var n=a.Bodies.rectangle(647,e-3e3+2462,251,281,{isStatic:!0});n.src=t+"treeK.png";var r=a.Bodies.rectangle(1053,e-3e3+2829,246,291,{isStatic:!0});r.src=t+"treeL.png";var o=a.Bodies.rectangle(2006,e-3e3+2422,246,291,{isStatic:!0});o.src=t+"treeL.png";var l=a.Bodies.rectangle(2663,e-3e3+2805,217,280,{isStatic:!0});l.src=t+"treeM.png";var c=a.Bodies.rectangle(2916,e-3e3+2581,157,101,{isStatic:!0});c.src=t+"ruinO.png",c.fixedBounds=30;var h=a.Bodies.rectangle(2882,e-3e3+1823,339,339,{isStatic:!0});h.src=t+"stoneC.png",h.fixedBounds=40,a.Bodies.rectangle(2620,e-3e3+1685,91,125,{isStatic:!0}).src=t+"signB.png";var p=a.Bodies.rectangle(2505,e-3e3+1346,188,243,{isStatic:!0});p.src=t+"treeH.png";var g=a.Bodies.rectangle(1981,e-3e3+1248,276,256,{isStatic:!0});g.src=t+"treeA.png";var d=a.Bodies.rectangle(1647,e-3e3+1829,276,256,{isStatic:!0});d.src=t+"treeA.png";var m=a.Bodies.rectangle(2872,e-3e3+755,266,343,{isStatic:!0});m.src=t+"treeC.png";var u=a.Bodies.rectangle(2696,e-3e3+856,242,312,{isStatic:!0});u.src=t+"treeB.png";var f=a.Bodies.rectangle(2409,e-3e3+907,149,199,{isStatic:!0});f.src=t+"stoneA.png";var v=a.Bodies.rectangle(1759,e-3e3+851,223,288,{isStatic:!0});v.src=t+"treeN.png";var b=a.Bodies.rectangle(1633,e-3e3+776,276,356,{isStatic:!0});b.src=t+"treeA.png";var S=a.Bodies.rectangle(1535,e-3e3+840,276,356,{isStatic:!0});S.src=t+"treeA.png";var x=a.Bodies.rectangle(734,e-3e3+796,266,343,{isStatic:!0});x.src=t+"treeC.png";var B=a.Bodies.rectangle(1146,e-3e3+227,276,356,{isStatic:!0});B.src=t+"treeA.png";var k=a.Bodies.rectangle(2505,e-3e3+205,188,243,{isStatic:!0});k.src=t+"treeH.png";var y=a.Bodies.rectangle(1009,e-3e3+1432,70,113,{isStatic:!0});y.src=t+"ruinK.png";var w=a.Bodies.rectangle(882,e-3e3+1504,129,200,{isStatic:!0});w.src=t+"ruinD.png";var M=a.Bodies.rectangle(1047,e-3e3+1609,80,179,{isStatic:!0});M.src=t+"ruinB.png";var A=a.Bodies.rectangle(1236,e-3e3+1727,80,179,{isStatic:!0});A.src=t+"ruinF.png";var P=a.Bodies.rectangle(1467,e-3e3+1582,80,179,{isStatic:!0});P.src=t+"ruinF.png";var D=a.Bodies.rectangle(1557,e-3e3+1525,63,113,{isStatic:!0});D.src=t+"ruinI.png";var T=a.Bodies.rectangle(1614,e-3e3+1139,63,113,{isStatic:!0});T.src=t+"ruinC.png";var O=a.Bodies.rectangle(1417,e-3e3+952,80,180,{isStatic:!0});O.src=t+"ruinA.png";var C=a.Bodies.rectangle(1189,e-3e3+868,128,199,{isStatic:!0});C.src=t+"ruinJ.png";var j=a.Bodies.rectangle(933,e-3e3+863,80,179,{isStatic:!0});j.src=t+"ruinB.png";var E=a.Bodies.rectangle(500,e-3e3+992,80,179,{isStatic:!0});for(E.src=t+"ruinB.png",i=[i,s,n,r,o,l,c,h,p,g,d,m,u,f,v,b,S,x,B,k,y,w,M,A,P,D,T,O,C,j,E],s=0,n=i.length;s<n;s++)i[s].name=i[s].label="staticOriGPass"+a.cKs(),i[s].FixedPosition={x:i[s].position.x,y:i[s].position.y-e},i[s].fixedBounds||(i[s].fixedBounds=15);return i}()}),s("staticOriGPassLayerD",{x:3e3,y:-3e3,location:"mapDungeonH",layer:function(){var i=e+-3e3,s=a.Bodies.rectangle(2334,i+2815,247,292,{isStatic:!0});s.src=t+"treeE.png";var n=a.Bodies.rectangle(2202,i+2456,459,324,{isStatic:!0});n.src=t+"houseB.png",n.fixedBounds=60;var r=a.Bodies.rectangle(1378,i+2238,2238,356,{isStatic:!0});r.src=t+"treeA.png";var o=a.Bodies.rectangle(407,i+2397,216,280,{isStatic:!0});o.src=t+"treeO.png";var l=a.Bodies.rectangle(497,i+1389,242,312,{isStatic:!0});l.src=t+"treeB.png";var c=a.Bodies.rectangle(318,i+1286,266,343,{isStatic:!0});c.src=t+"treeC.png";var h=a.Bodies.rectangle(721,i+310,276,356,{isStatic:!0});h.src=t+"treeA.png";var p=a.Bodies.rectangle(2277,i+385,266,343,{isStatic:!0});p.src=t+"treeC.png";var g=a.Bodies.rectangle(2454,i+1280,223,288,{isStatic:!0});g.src=t+"treeN.png";var d=a.Bodies.rectangle(2266,i+1165,266,343,{isStatic:!0});d.src=t+"treeC.png";var m=a.Bodies.rectangle(1535,i+864,266,343,{isStatic:!0});m.src=t+"treeC.png";var u=a.Bodies.rectangle(1066,i+1289,276,356,{isStatic:!0});u.src=t+"treeA.png";var f=a.Bodies.rectangle(1800,i+1785,266,343,{isStatic:!0});f.src=t+"treeC.png";var v=a.Bodies.rectangle(2078,i+1371,63,113,{isStatic:!0});v.src=t+"ruinC.png";var b=a.Bodies.rectangle(1750,i+1343,80,179,{isStatic:!0});b.src=t+"ruinB.png";var S=a.Bodies.rectangle(1600,i+1624,80,179,{isStatic:!0});S.src=t+"ruinF.png";var x=a.Bodies.rectangle(1310,i+1761,128,199,{isStatic:!0});x.src=t+"ruinJ.png";var B=a.Bodies.rectangle(1295,i+1475,80,179,{isStatic:!0});B.src=t+"ruinF.png";var k=a.Bodies.rectangle(925,i+1040,80,180,{isStatic:!0});k.src=t+"ruinA.png";var y=a.Bodies.rectangle(1070,i+988,63,113,{isStatic:!0});y.src=t+"ruinC.png";var w=a.Bodies.rectangle(1230,i+891,80,180,{isStatic:!0});w.src=t+"ruinA.png";var M=a.Bodies.rectangle(1686,i+1016,63,113,{isStatic:!0});M.src=t+"ruinI.png";var A=a.Bodies.rectangle(1851,i+1121,71,113,{isStatic:!0});A.src=t+"ruinE.png";var P=a.Bodies.rectangle(2044,i+963,80,179,{isStatic:!0});for(P.src=t+"ruinB.png",(i=a.Bodies.rectangle(2342,i+1006,80,179,{isStatic:!0})).src=t+"ruinB.png",s=[s,n,r,o,l,c,h,p,g,d,m,u,f,v,b,S,x,B,k,y,w,M,A,P,i],n=0,r=s.length;n<r;n++)s[n].name=s[n].label="staticOriDPass"+a.cKs(),s[n].FixedPosition={x:s[n].position.x,y:s[n].position.y-e},s[n].fixedBounds||(s[n].fixedBounds=25);return s}()})]},a.hEP.value.mapDungeonH.content}(),function(){var t=a.Bodies.rectangle(500,a.halfBottom,128,25,{isStatic:!0});t.label="staticBoxPreventJumpSpawnA",t.src=a.path+"/grass/grassHalf.png";var e=a.Bodies.rectangle(3100,a.halfBottom,128,25,{isStatic:!0});e.label="staticSpawnPhaseOneB",e.src=a.path+"/grass/grassHalf.png";var s=a.Bodies.rectangle(3300,a.halfCenter,256,25,{isStatic:!0});s.label="staticBoxSmallB",s.src=a.path+"/grass/staticBoxSmallB.png";var n=a.Bodies.rectangle(3500,a.halfTopCenter,128,25,{isStatic:!0});n.label="staticSpawnPhaseOneC",n.src=a.path+"/grass/grassHalf.png";for(var r=200,o=3500,l=[],c=0;3>c;c++)if(o+=r,1===c){var h=a.Bodies.rectangle(o,a.halfTopTop,600,50,{isStatic:!0});h.label="staticBoxPreventJumpMapAA",h.src=a.path+"/grass/preventJumpA.png",o+=100}else if(2===c){var p=a.Bodies.rectangle((o+=r)+400-75,a.levelHeight,300,50,{isStatic:!0});p.moveSate=!0,p.label="staticBoxPreventJumpUpDownA",p.switchTo="up",p.moveEnd=a.halfTopTop,p.moveStart=a.levelHeight,p.src=a.path+"/grass/rollUp.png";var g=a.Bodies.rectangle(o+=r/2-25,a.halfCenter,200,a.levelHeight+50,{isStatic:!0});g.label="staticBoxUpA",g.src=a.path+"/grass/hill.png";var d=a.Bodies.rectangle(o+=2*r+50,a.levelHeight-50,50,50,{isStatic:!0});d.label="staticBoxrollPairA",d.triggerTo="staticBoxPreventJumpUpDownA",d.switchState=!0,l.push(d);var m=a.Bodies.rectangle(o,a.halfTopTop+a.halfBottomLvl2,85,50,{isStatic:!0});m.label="staticBoxLvlB3a",m.src=a.path+"/grass/grassHalfSmall.png",l.push(m),(m=a.Bodies.rectangle(o-r,a.halfCenterLvl2,85,50,{isStatic:!0})).label="staticBoxLvlB3b",m.src=a.path+"/grass/grassHalfSmall.png",l.push(m),(d=a.Bodies.rectangle(o,a.halfTopCenterLvl2,85,50,{isStatic:!0})).label="staticBoxLvlB3c",d.src=a.path+"/grass/grassHalfSmall.png";var u=a.Bodies.rectangle(o-3*r,a.halfCenterLvl2,200,50,{isStatic:!0});u.label="staticBoxLvlB3d",u.src=a.path+"/grass/grassMed.png";var f=a.Bodies.rectangle(o+=r+400+25,a.halfTopTopLvl2,850,50,{isStatic:!0});f.label="staticBoxPreventJumpMapAB6",f.src=a.path+"/grass/grass850.png"}r=200;var v=3500,b=100;for(o=[],c=0;21>c;c++)if(5===c){var S=a.Bodies.rectangle(v+r-125,a.halfTopTop+a.halfBottomLvl2/2,50,a.halfBottomLvl2-50,{isStatic:!0});S.label="staticBoxPreventJumpMapAB2",S.src=a.path+"/grass/grassHill.png"}else if(3<c){if(16===c){var x=a.Bodies.rectangle((v+r)/2,a.halfBottomLvl2,2600,50,{isStatic:!0});x.label="staticBoxPreventJumpMapAB3",x.src=a.path+"/grass/preventJumpC.png"}if(17===c&&((m=a.Bodies.rectangle(b,a.halfTopCenter,200,50,{isStatic:!0})).label="staticBoxPreventJumpMapAB4",m.src=a.path+"/grass/grassMed.png",o.push(m)),19===c){var B=a.Bodies.rectangle(b+=4*r,a.halfTopTop+a.halfBottomLvl2/2,10,10,{isStatic:!0});B.label="staticBoxPreventJump-"+c}}else{if(3===c){var k=a.Bodies.rectangle(v+r,a.halfTopTop,600,50,{isStatic:!0});k.label="staticBoxPreventJumpMapAB1",k.src=a.path+"/grass/preventJumpB.png"}v-=r}return r=0,a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/grassSmallLeft.png",range:r+=400,attach:"staticWallOutterBottom"}),a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/fence.png",range:r+=1200,attach:"staticWallOutterBottom"}),a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/grassSmallLeft.png",range:r+=100,attach:"staticWallOutterBottom"}),a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/bush.png",range:r+=2300,attach:"staticWallOutterBottom"}),a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/foliagePack.png",range:r+=1200,attach:"staticWallOutterBottom"}),a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/flwrC.png",range:r+100,attach:"staticWallOutterBottom"}),a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/grassSamllB.png",range:150,attach:"staticBoxSmallB"}),r=0,a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/foliagePack.png",range:r+=130,attach:"staticBoxPreventJumpMapAB1"}),a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/mushroomRedSmall.png",range:r+=40,attach:"staticBoxPreventJumpMapAB1"}),a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/grassSmallC.png",range:r+40,attach:"staticBoxPreventJumpMapAB1"}),r=0,a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/fence.png",range:r+=600,attach:"staticBoxPreventJumpMapAB3"}),a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/tree-big.png",range:r+=100,attach:"staticBoxPreventJumpMapAB3"}),a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/tree-small.png",range:r+=150,attach:"staticBoxPreventJumpMapAB3"}),a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/grassSmallE.png",range:r+=750,attach:"staticBoxPreventJumpMapAB3"}),a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/grassSmallD.png",range:r+200,attach:"staticBoxPreventJumpMapAB3"}),a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/grassSmallD.png",range:50,attach:"staticSpawnPhaseOneH"}),r=0,a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/mushroomRedSmall.png",range:r+=150,attach:"staticBoxPreventJumpMapAA"}),a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/mushroomRedMed.png",range:r+50,attach:"staticBoxPreventJumpMapAA"}),a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/bush.png",range:50,attach:"staticBoxUpA"}),r=0,a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/bush.png",range:r+=50,attach:"staticBoxPreventJumpMapAB6"}),a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/stoneA.png",range:r+=50,attach:"staticBoxPreventJumpMapAB6"}),a.staticGeometry.createEnviPoint("mapA",{src:a.path+"/ornaments/foliagePackB.png",range:r+50,attach:"staticBoxPreventJumpMapAB6"}),r=a.staticGeometry.createPortal({width:200,height:200,range:100,color:a.rgbRandom(1),effect:"glowPortal",attach:"staticBoxPreventJumpMapAB3",location:"mapA",targetLocation:"mapB"}),c=a.staticGeometry.createPortal({width:200,height:200,range:500,color:a.rgbRandom(1),effect:"glowPortal",attach:"staticWallOutterBottom",location:"mapA",targetLocation:"mapAADungeonA"}),m=a.staticGeometry.createPortal({width:200,height:200,range:700,attach:"staticWallOutterBottom",color:a.rgbRandom(1),effect:"glowPortal",location:"mapA",targetLocation:"mapDungeonH"}),a.hEP.value.mapA.content={staticWallOuttermapA:i("mapA"),staticSpawnPhaseOneA:t,staticSpawnPhaseOneB:e,staticSpawnPhaseOneC:n,staticSpawnPhaseOneD:B,staticSpawnPhaseOneG:d,staticSpawnPhaseOneH:u,staticOriPortalMapA:r,staticOriPortalMapAA:c,staticOriPortalMapATemp:m,staticBoxSmallJumpC:l,staticBoxSmallJumpD:o,staticSpawnPhaseOneF:S,staticBoxPreventJumpMapAB6:f,staticBoxPreventJumpMapAA:h,staticBoxPreventJumpMapAB1:k,staticBoxPreventJumpMapAB3:x,staticBoxPreventJumpUpDownA:p,staticBoxUpA:g,staticBoxSmallB:s},a.hEP.value.mapA.content}(),{staticCoin:function(){var t=a.Bodies.circle(0,0,20,{collisionFilter:{category:2},render:{sprite:{texture:a.path+"/coin-sprite.png"}}});return t.label="coin-"+a.cKs(),t.name="item",t.inverseInertia=0,t}},{staticFireBall:function(){var t=a.Bodies.circle(0,0,1,{isStatic:!0,collisionFilter:{category:2},render:{sprite:{texture:a.path+"/1px.png"}}});return t.label="staticFireBall-"+a.cKs(),t.name="pass",t.inverseInertia=0,t}},{staticRocket:function(){var t=a.Bodies.rectangle(800,200,40,40,{isStatic:!0,collisionFilter:{mask:2},render:{sprite:{texture:a.path+"/rocket-sprite.png"}}});return t.label="staticRocket-"+a.cKs(),t}},{createItem:function(t,e,i){return"Ness Scale"===t&&(t="drop-item"),item=a.Bodies.rectangle(0,0,e,i,{collisionFilter:{category:4},render:{sprite:{texture:a.path+"/"+t+".png"}}}),item.label="item_"+t+"_"+a.cKs(),item.name="item",item.inverseInertia=0,item}},{staticMonsterBlack:function(){var t=a.Bodies.circle(0,0,20,{collisionFilter:{mask:1},render:{sprite:{texture:a.path+"/monster-black-right.png"}}});return t.label="monster-black-"+a.cKs(),t.inverseInertia=0,t.name="monster-black",t.visible=!0,t}},{staticMonsterHorn:function(){var t=a.Bodies.circle(0,0,20,{collisionFilter:{category:4},render:{sprite:{texture:a.path+"/monster-horn-right.png"}}});return t.label="monster-horn-"+a.cKs(),t.inverseInertia=0,t.name="monster-horn",t.visible=!0,t}},{staticMonsterSlime:function(){var t=a.Bodies.rectangle(0,0,40,25,{collisionFilter:{category:4},render:{sprite:{texture:a.path+"/monster-slime-right.png"}}});return t.label="monster-slime-"+a.cKs(),t.inverseInertia=0,t.name="monster-slime",t.visible=!0,t}},{staticAreaDmg:function(t,e,i){return(t=a.Bodies.rectangle(t.x,t.y,e,i,{isStatic:!0,collisionFilter:{category:4},render:{sprite:{texture:a.path+"/1px.png"}}})).monsterParameters=[],t.label="areaDmg-"+a.cKs(),t.inverseInertia=0,t.name="areaDmg",t.visible=!0,t.pass=!0,t}},{staticGeneralMonster:function(t,e,i,s){var n=a.Bodies.rectangle(0,0,60,70,{collisionFilter:{category:4},render:{sprite:{texture:a.path+"/"+t+"-right.png"}}});return n.label="monster-"+t+"-"+a.cKs(),n.inverseInertia=0,n.name="monster-"+t,n.initialName=t,n.additionalBoundsValue=e,n.additionalBoundsHeightValue=s,n.additionalBoundsWidthValue=i,n.walkFrameSpeed=2,n.visible=!0,n.mapMark=new a.draw.mapMark,n.stateStorage="monster"+t.charAt(0).toUpperCase()+t.slice(1)+"State",n}},(e=a.Bodies.rectangle(a.browserWidthUpdate/2,a.browserHeightUpdate/2,60,70,{friction:1,collisionFilter:{mask:1},render:{sprite:{texture:a.path+"/mage-character-right.png"}}}),e.label="oval",e.behave="idle",e.stateStorage="feWs",e.initialName="mage-character",e.additionalBoundsHeightValue=58,e.additionalBoundsWidthValue=21,e.pions=[],e.totalOfFrames=45,e.additionalBoundsValue=60,e.mapMark=new a.draw.mapMark,e.walkFrameSpeed=2,e.name="character",e.inverseInertia=0,{oval:e}),{staticMonsterGolem:function(){var t=a.Bodies.rectangle(0,0,200,130,{collisionFilter:{category:4},render:{sprite:{texture:a.path+"/golem-right.png"}}});return t.label="monster-golem-"+a.cKs(),t.inverseInertia=0,t.name="monster-golem",t.visible=!0,t}},{staticMonsterYellow:function(){var t=a.Bodies.circle(0,0,20,{collisionFilter:{mask:1},render:{sprite:{texture:a.path+"/monster-yellow-rocket-right.png"}}});return t.label="monster-yellow-"+a.cKs(),t.inverseInertia=0,t.name="monster-land",t.visible=!0,t}},{staticGreenDragon:function(){var t=a.Bodies.rectangle(200,200,111,50,{isStatic:!0,collisionFilter:{category:4},render:{sprite:{texture:a.path+"/dragon-green-left.png"}}});return t.label="monster-green-dragon-"+a.cKs(),t.inverseInertia=0,t.name="monster-green-dragon",t.visible=!0,t}}]},IufW:function(){if(scope.tickMinute--,1>=scope.tickMinute){var t=scope.GusT.value.storage,e=scope.NMns.value.get("oval");if(t.length)for(var a in t){var i=scope.getFirstChild(scope.id(t[a].status.id));scope.text(i,Math.floor(25*t[a].status.tick/1e3)+"s")}for(t=0,a=e.length;t<a;t++)if(!e[t].state){e[t].tickUpdate--,i=scope.qs("time-span-"+e[t].label);var s=e[t],n=s.tickUpdate,r=Math.floor(25*n/1e3);0>=n&&(s.loading.remove="true"),r=60<=r?(s=Math.floor(r/60))+","+(r-60*s):0>r?1:r+1,i&&"block"!==i.style.display&&(i.style.display="block"),i&&scope.text(i,r)}scope.tickMinute=40}},HgeE:function(){var t=this,e=Matter.MouseConstraint,a=Matter.Mouse.create(canvas);t.world=t.engine.world;for(var i=0,s=t.fragment;i<s.length;i++)for(var n in s[i])n in s[i]&&(/staticWall|staticOri|staticMonsterBlack|staticFireBall|staticMonsterYellow|staticGreenDragon|staticCoin|staticRocket/i.test(n)?"staticWallOuttermapA"===n&&t.World.add(t.world,s[i][n]):t.World.add(t.world,s[i][n]),t.objFragment[n]=s[i][n]);t.world.gravity.y=1.7,t.world.gravity.x=0,e=e.create(t.engine,{mouse:a,constraint:{stiffness:.2,render:{visible:!0}}}),t.extend(t.objFragment,{monsterSlimeState:new t.jfE.value,monsterBlackState:new t.jfE.value,monsterHornState:new t.jfE.value,monsterGolemState:new t.jfE.value,monsterYetiState:new t.jfE.value,monsterYetiAlphaState:new t.jfE.value,monsterLightElementalState:new t.jfE.value,monsterFireElementalState:new t.jfE.value,monsterBugTailWarriorRedState:new t.jfE.value,monsterBugWarriorRedState:new t.jfE.value,monsterBugWarriorState:new t.jfE.value,monsterBugTailWarriorState:new t.jfE.value,monsterBugQueenState:new t.jfE.value,monsterBugState:new t.jfE.value,monsterGoblinWarriorMageState:new t.jfE.value,monsterGoblinWarriorSpearState:new t.jfE.value,monsterGoblinWarriorArmoredState:new t.jfE.value,monsterGoblinWarriorArcherState:new t.jfE.value,monsterBeastElementalSpearState:new t.jfE.value,monsterBeastElementalArmoredState:new t.jfE.value,monsterEarthElementalMageBState:new t.jfE.value,monsterEarthElementalMageState:new t.jfE.value,monsterWhiteBoarJrState:new t.jfE.value,monsterBoarJrState:new t.jfE.value,monsterBoarState:new t.jfE.value,monsterBoarWhiteState:new t.jfE.value,monsterWolfArcherState:new t.jfE.value,monsterWolfHunterState:new t.jfE.value,monsterWolfMageState:new t.jfE.value,monsterWolfSpearState:new t.jfE.value,monsterWolfArmoredState:new t.jfE.value,monsterWolfHummerState:new t.jfE.value,monsterHollowArcherBState:new t.jfE.value,monsterHollowArcherState:new t.jfE.value,monsterHollowArmoredState:new t.jfE.value,monsterHollowSpearState:new t.jfE.value,monsterHollowMageState:new t.jfE.value,monsterMinatourMageState:new t.jfE.value,monsterMinatourArmoredState:new t.jfE.value,monsterMinatourSpearState:new t.jfE.value,monsterMinatourArcherState:new t.jfE.value,monsterHumanRoyalArmoredState:new t.jfE.value,monsterHumanRoyalSpearState:new t.jfE.value,monsterHumanRoyalArcherState:new t.jfE.value,monsterHumanArmoredState:new t.jfE.value,monsterHumanMageState:new t.jfE.value,monsterHumanArcherState:new t.jfE.value,monsterElfSpearState:new t.jfE.value,monsterElfArcherState:new t.jfE.value,monsterElfMageState:new t.jfE.value,monsterElfArmoredState:new t.jfE.value,monsterGoblinSpearState:new t.jfE.value,monsterGoblinArmoredState:new t.jfE.value,monsterGoblinMageState:new t.jfE.value,monsterGoblinArcherState:new t.jfE.value,monsterSekletonArmoredState:new t.jfE.value,monsterSekletonArcherState:new t.jfE.value,monsterYellowState:new t.jfE.value,greenDragonState:new t.jfE.value,rocketState:new t.jfE.value,monsterParameters:new t.jfE.value,monsterGetDamage:new t.jfE.value,itemShop:new t.jfE.value,monsterAttribute:function(a,b,c){if(0<=a&&5>a){if("soul"===b)return a=t.tTH(13,7),c?2*a:a;if("exp"===b)return a=t.tTH(45,31),c?2*a:a}else if(5<=a&&10>a){if("soul"===b)return a=t.tTH(17,11),c?2*a:a;if("exp"===b)return a=t.tTH(84,63),c?2*a:a}else if(10<=a&&13>a){if("soul"===b)return a=t.tTH(21,9),c?2*a:a;if("exp"===b)return a=t.tTH(155,105),c?2*a:a}else if(13<=a&&16>a){if("soul"===b)return a=t.tTH(28,15),c?2*a:a;if("exp"===b)return a=t.tTH(185,135),c?2*a:a}else if(16<=a&&19>a){if("soul"===b)return a=t.tTH(35,23),c?2*a:a;if("exp"===b)return a=t.tTH(235,175),c?2*a:a}else if(19<=a&&21>a){if("soul"===b)return a=t.tTH(45,33),c?2*a:a;if("exp"===b)return a=t.tTH(237,185),c?2*a:a}else if(21<=a&&23>a){if("soul"===b)return a=t.tTH(21,15),c?2*a:a;if("exp"===b)return a=t.tTH(215,165),c?2*a:a}else if(23<=a&&25>a){if("soul"===b)return a=t.tTH(42,34),c?2*a:a;if("exp"===b)return a=t.tTH(295,215),c?2*a:a}else if(25<=a&&27>a){if("soul"===b)return a=t.tTH(58,43),c?2*a:a;if("exp"===b)return a=t.tTH(435,375),c?2*a:a}else if(27<=a&&30>a){if("soul"===b)return a=t.tTH(91,73),c?2*a:a;if("exp"===b)return a=t.tTH(565,495),c?2*a:a}},ifE:function(e){var a=e.parent,i=e.initial;if(e=e.value,t.csYe.value[a][i]){for(var s=t.nqAW.value.get("oval"),n=!0,r=0;r<s.length;r++)if(s[r].root.initial===i&&99>s[r].quantity){s[r].unique?n=!0:99<s[r].quantity+e?(e=s[r].quantity+e-99,s[r].quantity=99,n=!0):(n=!1,s[r].quantity+=e);break}n&&s.push(new t.csYe.value[a][i]({quantity:e}))}},LKe:function(e){t.nqAW.value.get("oval");var a=t.oval.value.position,i=t.tTH(1,0)?"left":"right",s=e.displayName?e.displayName:e.name,n=a.x+("left"===i?t.tTH(1,0)?t.tTH(-50,-100):t.tTH(50,100):t.tTH(1,0)?t.tTH(50,100):t.tTH(-50,-100));a=a.y+("left"===i?t.tTH(1,0)?t.tTH(-50,-100):t.tTH(50,100):t.tTH(1,0)?t.tTH(50,100):t.tTH(-50,-100)),(s=new t.monsterControl.item.create(n,a,s,{name:"Ness Scale",width:74,height:68},e.root)).object.itemVal=e.quantity,t.monsterControl.itemTemp.push(s),t.World.add(t.doW.value,s.object)},HHD:new t.jfE.value,Tnm:"",Uhd:"",E_D:"",YFjd:new t.jfE.value,HYd:new t.jfE.value,EOd:"",REq:"",kdL:new t.jfE.value,nqAW:new t.jfE.value,JnsH:function(){for(var e=["lightningShock"],a=!0,i=function(e){for(var a=t.slice(t.qsAll("disable-skill")),i=0;i<a.length;i++)/undead/i.test(a[i].parentNode.className)&&(a[i].style.display=e?"block":"none")},s=0;s<e.length;s++)if(t.GusT.value.get(e[s])){a=!1;break}if(a){e=t.NMns.value.get("oval"),a=t.nqAW.value.get("oval"),s=0;var n=e.length;t:for(;s<n;s++)if("undead"===e[s].name){var r=t._hsQ.value()?t.qs("familiar-box-mb"):t.qs("familia-box");if(divItem=t.slice(r.getElementsByTagName("div")),!divItem.length){e[s].disable=!0,i(!0);break t}r=0;for(var o=divItem.length;r<o;r++){var l=divItem[r].getAttribute("label");if(l)for(var c=0,h=a.length;c<h;c++)if(l===a[c].label){e[s].disable=!1,i(!1);break t}}}}},NMns:new t.jfE.value,BegQ:function(e){var a,i=t.NMns.value.get("oval"),s=t.REq.value.mp,n=[],r=[],o=!0,l=t.GusT.value.storage,c=!0;for(a in l)/lightningShock/i.test(l[a].name)&&(c=!1);if(c){for(l=0,c=i.length;l<c;l++)s<i[l].mp&&!i[l].disable||e?(i[l].disable=!0,n.push(i[l])):(s>=i[l].mp&&i[l].disable||e)&&(i[l].disable=!1,r.push(i[l])),s<i[l].mp&&"undead"===i[l].name&&(o=!1);n.length&&t.NTiq.value("disable",n),r.length&&t.NTiq.value("enable",r),o&&!t.qs("familia-box").getElementsByTagName("div").length&&t.JnsH.value()}},BdWd:function(e,a){for(var i=t.NMns.value.get(t.oval.value.label),s=0,n=i.length;s<n;s++)if(a)for(var r=0;r<a.length;r++)i[s].label===a[r].label&&(i[s].disable="disable"===e);else i[s].disable="disable"===e;t.JnsH.value()},NTiq:function(e,a){for(var i=t.slice(t.qsAll("disable-skill")),s=0;s<i.length;s++)if(a)for(var n=i[s].parentNode.getAttribute("label"),r=0;r<a.length;r++)n===a[r].label&&(i[s].style.display="disable"===e?"block":"none");else i[s].style.display="disable"===e?"block":"none"},feWs:new t.jfE.value,tsSM:{status:"",charObj:"",top:!1,left:!1,bottom:!1,right:!1,jump:!1},GdWo:"",FwWW:function(e,a){var i,s,n=t.REq.value,r=[n],o=function(e,i){var s={attributLvl:{mage:{statA:{attackRange:2,attack:1,hp:4.2,mp:4.7,magicDefense:8,defense:3},statB:{attackRange:12,attack:8,hp:5.7,mp:5.8,magicDefense:16,defense:12},statC:{attackRange:17,attack:12,hp:6.8,mp:6.3,magicDefense:24,defense:22},statD:{attackRange:24,attack:18,hp:8.8,mp:9.3,magicDefense:31,defense:21},statE:{attackRange:36,attack:28,hp:10.8,mp:10.3,magicDefense:41,defense:41}},warrior:{statA:{attackRange:1,attack:6,hp:5,mp:70,magicDefense:3,defense:13},statB:{attackRange:5,attack:21,hp:7.4,mp:35,magicDefense:6,defense:17},statC:{attackRange:9,attack:37,hp:9.7,mp:15,magicDefense:9,defense:25},statD:{attackRange:13,attack:47,hp:10.7,mp:13,magicDefense:12,defense:22},statE:{attackRange:23,attack:41,hp:12.7,mp:10,magicDefense:22,defense:29}},archer:{statA:{attackRange:6,attack:3,hp:4.1,mp:70,magicDefense:7,defense:13},statB:{attackRange:24,attack:6,hp:4.7,mp:35,magicDefense:11,defense:15},statC:{attackRange:41,attack:12,hp:7.7,mp:15,magicDefense:13,defense:17},statD:{attackRange:53,attack:19,hp:9.4,mp:12,magicDefense:24,defense:19},statE:{attackRange:50,attack:27,hp:11.4,mp:14,magicDefense:44,defense:32}}},instantceFormula:function(e){var a=t._hsQ.value()?t.qs("items-equipment-mb"):t.qs("passive-magic"),i=t.slice(a.getElementsByTagName("li")),s=t.nqAW.value.get("oval");a=[];for(var n=0,r=i.length;n<r;n++){var o=i[n].getElementsByTagName("div");if(o.length)for(var l=0;l<s.length;l++)o[0].getAttribute("label")===s[l].label&&a.push(s[l])}if((a=t.iTs(a)).length)for(n=0,i=e.originalParams;n<a.length;n++)if(a[n].effect)for(r in s=a[n].effect)switch(r){case"attack":e.attackRangeMax+=i.attackRangeMax*s[r].value/100,e.attackRangeMin+=i.attackRangeMin*s[r].value/100,e.attackMax+=i.attackMax*s[r].value/100,e.attackMin+=i.attackMin*s[r].value/100;break;case"defense":e.defenseMax+=i.defenseMax*s[r].value/100,e.defenseMin+=i.defenseMin*s[r].value/100;break;case"magicDefense":e.magicDefenseMax+=i.magicDefenseMax*s[r].value/100,e.magicDefenseMin+=i.magicDefenseMin*s[r].value/100}},changeCharStat:function(e,a,s){var n=i.originalParams?i.originalParams:i;e=this.attributLvl[e][a],percentageKill=s?1:t.LcQ(.99,.8),i.attackRangeMax=n.attackRangeMax+=Math.round(e.attackRange*percentageKill),i.attackRangeMin=n.attackRangeMin+=Math.round(e.attackRange*percentageKill),i.attackMax=n.attackMax+=Math.round(e.attack*percentageKill),i.attackMin=n.attackMin+=Math.round(e.attack*percentageKill),i.magicDefenseMax=n.magicDefenseMax+=Math.round(e.magicDefense*percentageKill),i.magicDefenseMin=n.magicDefenseMin+=Math.round(e.magicDefense*percentageKill),i.defenseMax=n.defenseMax+=Math.round(e.defense*percentageKill),i.defenseMin=n.defenseMin+=Math.round(e.defense*percentageKill),i.maxHealth=n.maxHealth+=Math.round(Math.round(e.hp/100*n.maxHealth)*percentageKill),i.maxMp=n.maxMp+=Math.round(Math.round(e.mp/100*n.maxMp)*percentageKill),i.originalParams&&this.instantceFormula(i)}},n="oval"===i.name?"mage":"Blood Lich Warrior"===i.name?"warrior":"archer",r=i.name===a;0<=e&&3>e?s.changeCharStat(n,"statA",r):3<=e&&7>e?s.changeCharStat(n,"statA",r):7<=e&&13>e?s.changeCharStat(n,"statB",r):13<=e&&15>e?s.changeCharStat(n,"statC",r):15<=e&&18>e?s.changeCharStat(n,"statD",r):18<=e&&25>=e&&s.changeCharStat(n,"statE",r)},l=[25,50,75,100,125,150,175,200,225,250],c=[300,350,400,450,500,550,600,650,700,750],h=[750,1050,1350,1700,4200,4700,5200,5700,6200,6700],p=function(t,e,a,i){var s=0;for(e=a.length+e;s<e;s++)if(i.tot+=a[s],s+1===t.level){i.tot=10===s+1?i.tot+c[0]:20===s+1?i.tot+h[0]:i.tot+a[s+1];break}},g=n.object.pions,d=t.nqAW.value.get("oval"),m=[];if(g.length)t:for(n=0;n<g.length;n++)for(var u=g[n].rigBody.itemLabel,f=0,v=d.length;f<v;f++)if(d[f].label===u){m.push(d[f].familiar);continue t}for(n=0,f=(r=r.concat(m)).length;n<f;n++)g=r[n],m="oval"===r[n].name,d={tot:0},e&&(u=g.name===a?1:t.LcQ(.85,.65),u=Math.round(e.exp*u),g.expTemp+=u,m&&(t.text(t.qs("addedExp"),"+"+u),$(".addedExp").show(),$(".addedExp").fadeOut(4500),t.text(t.qs("currentExp"),g.expTemp),t.Tnm.value({title:"regular-title",text:{white:"Got",chocolate:" +"+u+" ",skyBlue:"Exp"}}))),m&&(t.text(t.qs("level"),g.level),t.text(t.qs("currentExp"),g.expTemp)),s=d,10>=(i=g).level?p(i,0,l,s):10<i.level&&20>=i.level?p(i,i.level,l.concat(c),s):20<i.level&&30>=i.level&&p(i,i.level,l.concat(c).concat(h),s),g.expTemp>g.exp+d.tot&&(g.exp=g.expTemp,g.level++,m&&g.skillPoint++,o(g.level,g)),m&&(m=(g.expTemp-g.exp)/d.tot*100,t.css(t.qs("exp-bar"),{width:Math.round(m)+"%"}),t.text(t.qs("nextEpx"),g.exp+d.tot),t.text(t.qs("level"),g.level))},FAuf:function(e){var a={clearParameters:function(t){t.modifierAbilities={},t.originalParams&&(originalParams=t.originalParams,t.attackRangeMax=originalParams.attackRangeMax,t.attackRangeMin=originalParams.attackRangeMin,t.attackMax=originalParams.attackMax,t.attackMin=originalParams.attackMin,t.magicDefenseMax=originalParams.magicDefenseMax,t.magicDefenseMin=originalParams.magicDefenseMin,t.defenseMax=originalParams.defenseMax,t.defenseMin=originalParams.defenseMin)},expandAbilityParams:function(e,a,i,s){a[s]=i[s].value,t.extend(e.modifierAbilities,a,!0)},parameters:function(e,a,i,s){for(e.originalParams||(e.originalParams={},t.extend(e.originalParams,e,!0)),e.modifierAbilities||(e.modifierAbilities={}),i=0,s=e.originalParams;i<a.length;i++)if(a[i].effect){var n,r=a[i].effect;for(n in r){var o={};switch(n){case"attack":e.attackRangeMax+=s.attackRangeMax*r[n].value/100,e.attackRangeMin+=s.attackRangeMin*r[n].value/100,e.attackMax+=s.attackMax*r[n].value/100,e.attackMin+=s.attackMin*r[n].value/100;break;case"defense":e.defenseMax+=s.defenseMax*r[n].value/100,e.defenseMin+=s.defenseMin*r[n].value/100;break;case"magicDefense":e.magicDefenseMax+=s.magicDefenseMax*r[n].value/100,e.magicDefenseMin+=s.magicDefenseMin*r[n].value/100;break;case"avoid":case"stun":this.expandAbilityParams(e,o,r,n);break;case"critical":this.expandAbilityParams(e,o,r,n)}}}}},i=t.nqAW.value.get("oval");if("reset"===e){for(var s=0,n=i.length;s<n;s++)if(i[s].familiar){var r=i[s].familiar;a.clearParameters(r)}}else if("update"===e){s=t._hsQ.value()?t.qs("items-equipment-mb"):t.qs("passive-magic"),e=t.oval.value.pions,r=t.slice(s.getElementsByTagName("li"));var o=[];for(s=0,n=r.length;s<n;s++){var l=r[s].getElementsByTagName("div");if(l.length)for(var c=0;c<i.length;c++)l[0].getAttribute("label")===i[c].label&&function(){var t,e=i[c].effect;for(t in e)for(var a=0,s=e[t].target;a<s.length;a++)if(/pion/i.test(s[a]))return!0;return!1}()&&o.push(i[c])}if((o=t.iTs(o)).length)for(n=0,c=i.length;n<c;n++)i[n].familiar&&(r=i[n].familiar,a.parameters(r,o,i));if(e.length&&o.length)t:for(s=0;s<e.length;s++)for(r=e[s].rigBody.itemLabel,n=0,c=i.length;n<c;n++)if(i[n].label===r){r=i[n].familiar,a.parameters(e[s].rigBody.monsterParameters,o,i);continue t}}},csYe:"",BVdQ:{map:2,mark:8,centerMark:{x:20,y:35},centerMap:{x:30,y:0},close:!1},_hsQ:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},HiQx:new t.jfE.value,VOea:new t.jfE.value,EdAj:new t.jfE.value,AyD:"",kWdN:new t.jfE.value,GusT:new t.jfE.value,YdOf:e,LgAn:new t.jfE.value,GdwD:t.UndW,JuEb:t.engine,KdEB:t.World,GWQd:t.Body,qeH_:function(){},TBhT:"",uE_d:new t.jfE.value,ThWB:function(){var e=t.slice(t.qsAll(".med-divice-nav"));if(t._hsQ.value()){for(var a in t.qs(".nav-left-b").style.display="block",e)e[a].style.display="block";t.qs("hidden-menu").style.display="block",t.removeClass(t.qs("mini-map-mobile"),"hidden"),t.addClass(t.qs("menu-map-mobile"),"hidden"),t.qs("controller-right").style.display="block",t.qs("nav-bottom").style.display="none",t.qs("nav-bottom-mobile").style.display="block",t.qs("info-menu").style.display="none",t.qs("nav-info-text").style.display="none",t.qs("info-text").style.display="none",t.qs("menu-map").style.display="none"}else{for(a in t.qs("nav-left-b").style.display="none",e)e[a].style.display="none";t.qs("hidden-menu").style.display="none",t.qs("nav-bottom").style.display="block",t.qs("nav-bottom-mobile").style.display="none",t.qs("controller-right").style.display="none",t.addClass(t.qs("mini-map-mobile"),"hidden"),t.addClass(t.qs("menu-map-mobile"),"hidden"),t.qs("info-menu").style.display="block",t.qs("nav-info-text").style.display="block",t.qs("info-text").style.display="block",t.qs("menu-map").style.display="block"}t.FwWW.value()},HdWP:function(t,e,a,i,s,n){s-=(i="small"===i?100:"medium"===i?150:200)/2,n-=20,t.fillStyle="rgba(0, 0, 0, 0.5)",t.fillRect(s,n,1*i,8),t.fillStyle="#FF0000",t.fillRect(s,n,e/a*i,8)},hSdP:function(){for(var e=t.Composite.allBodies(t.engine.world),a=[],i=[],s=[],n=0,r=e.length;n<r;n++){var o=e[n].bounds.max.y;/PassBG/i.test(e[n].label)?s.push(o):a.push(o)}a.sort(function(t,e){return t-e}),t.orderObj=a,s.sort(function(t,e){return t-e}),i=s,n=0,r=e.length;t:for(;n<r;n++){o=e[n].bounds.max.y;for(var l=0,c=a;l<c.length;l++)if(o===c[l]&&!/PassBG/i.test(e[n].label)){t.orderObj[l]=e[n];continue t}for(l=0,c=s;l<c.length;l++)if(o===c[l]&&/PassBG/i.test(e[n].label)){i[l]=e[n];continue t}}for(a=i.concat(t.orderObj),e="",n=0;n<a.length;n++)/controlRigh/i.test(a[n].label)&&(e=a[n],a.splice(n,1),a.unshift(e));t.orderObj=a},UidL:function(){var e=t.path+"/MarkMonster.png",a=document.body.getBoundingClientRect(),i=t.Bodies.rectangle(a.x,a.y,200,100,{isStatic:!0});i.name=i.label="staticOriPassControlRight",i.fixedBounds=0,i.src=e,t.Body.setPosition(i,{x:a.x+a.width/2,y:a.y+a.height/2}),t.Composite.addBody(t.engine.world,i),t.hEP.value[t.ThQ.value].content.staticOriPassControlRight=i;var s={};return s[a=i.label]={textures:"",src:e},t.getTexture(s[a],s[a].src),t.extend(t.hEP.value[t.ThQ.value].textures,s,!0),t.hSdP.value(),t.ufR.value.objectMarker.state=!0,t.ufR.value.objectMarker.monster=i},FusQ:function(e,a,i){var s=document.createElement("div");if(s.className="quest-tree gold",span=document.createElement("span"),t.text(s,e.detail),e.isFinish||(e.active=!0),/slay|collect/i.test(e.type)?(span.setAttribute("label",e.label),span.className="questStatus",t.text(span," ( "+e.current+" / "+e.require+" ) "),s.appendChild(span)):/info/i.test(e.type)&&(span.setAttribute("label",e.label),span.className="hidden",s.appendChild(span)),a.appendChild(s),""!==e.mapMark){var n=document.createElement("div");a=document.createElement("div");var r=function(e,a){for(var i=t.slice(t.qsAll("preventError"+e)),s=0,n=i.length;s<n;s++)"removeHidden"===a?t.removeClass(i[s],"hidden"):t.addClass(i[s],"hidden")};markingQuest=function(e,a){/npc/i.test(e.target)&&(t[e.target].value.isVisible=!0),r(e.label,"removeHidden");for(var i=t[e.mapMark].value.quest.update,s=0,n=i.length,o=!0;s<n;s++)i[s]===e.label&&(o=!1),s===n-1&&o&&i.push(e.label);if(i.length||i.push(e.label),e.mapMarkExtend&&e.mapMarkExtend.length)for(i=0,s=e.mapMarkExtend;i<s.length;i++)t[s[i]].value.quest.update.push(e.label)},n.className="active-quest",a.className="click preventError"+e.label+" hidden",n.appendChild(a),s.appendChild(n),i&&(t.removeClass(a,"hidden"),markingQuest(e,t.getFirstChild(n))),t.Ge(s,"click",function(e){var a=t.getFirstChild(n);if(/hidden/i.test(a.className))markingQuest(e,a);else{r(e.label,"addHidden");for(var i=0,s=(a=t[e.mapMark].value.quest.update).length;i<s;i++)a[i]===e.label&&a.splice(i,1);if(e.mapMarkExtend&&e.mapMarkExtend.length)for(var o=0,l=e.mapMarkExtend;o<l.length;o++)for(i=0,s=(a=t[l[o]].value.quest.update).length;i<s;i++)if(a[i]===e.label){a.splice(i,1);break}}}.bind(null,e))}else t.addClass(s,"dot-quest");return s},ZsYu:{cluesQuestE:function(){return t.nqAW.value.get("oval").push(new t.csYe.value.tool.upgrader({quantity:1})),t.hDwB.value("UPGRADER TOOL TO BE ADDED TO INVENTORY",400),!0},elementalQuestD:function(){return t.nqAW.value.get("oval").push(new t.csYe.value.dropMonster.obsidian({quantity:1})),t.hDwB.value("OBSIDIAN FRAGMENT TO BE ADDED TO INVENTORY",400),!0},familiarQuestA:function(){var e=t.staticOriPortalmapDungeonG.value.attach;return t.staticOriPortalmapDungeonG.value.isVisible=!0,t[e].value.isVisible=!0},goblinraceQuestD:function(){return t.nqAW.value.get("oval").push(new t.csYe.value.dropMonster.nortusHeart({quantity:1})),t.hDwB.value("NORTUS HEART TO BE ADDED TO INVENTORY",400),!0},goblinraceQuestF:function(){for(var e=t.nqAW.value.get("oval"),a=0,i=e.length;a<i;a++)if("Nortus Shield"===e[a].name)return e[a].quantity=0,e.push(new t.csYe.value.dropMonster.mossealMysticalStone({quantity:1})),t.hDwB.value("MOSSEAL STONE TO BE ADDED TO INVENTORY",400),e=t.staticOriPortalBmapDungeonC.value.attach,t.staticOriPortalBmapDungeonC.value.isVisible=!0,t[e].value.isVisible=!0;return!1},necromancerQuestD:function(){return t.staticOriNpcPassSpawnC.value.isVisible=!0,t.staticOriNpcDngCPassSpawnA.value.isVisible=!0},slaygoblinQuestA:function(){return t.staticOriNpcDngCPassSpawnA.value.isVisible=!0,t.staticOriNpcDngCPassSpawnA.value.quest.update.length=0,!0},slaygoblinQuestB:function(){return t.staticOriNpcDngCPassSpawnA.value.isVisible=!1,t.staticOriNpcDngCPassSpawnA.value.quest.update.length=0,!0},slaygoblinQuestF:function(){return t.staticOriNpcPassSpawnC.value.isVisible=!0},slaygoblinQuestG:function(){t.staticOriNpcPassSpawnC.value.isVisible=!1;var e=t.staticOriPortalBmapDungeonG.value.attach;return t.staticOriPortalBmapDungeonG.value.isVisible=!0,t[e].value.isVisible=!0},telsadianQuestD:function(){var e=t.nqAW.value.get("oval");return e.push(new t.csYe.value.magic.bloodLichWarrior({quantity:1})),e.push(new t.csYe.value.dropMonster.radianMagol({quantity:1})),t.hDwB.value("BLOOD LICH WARRIOR AND RADIOAN MAGOL TO BE ADDED TO INVENTORY",400),!0},bloodlicharcherQuestD:function(){return t.nqAW.value.get("oval").push(new t.csYe.value.magic.bloodLichArcher({quantity:1})),t.staticOriNpcDngAPassSpawnB.value.isVisible=!1,t.hDwB.value("BLOOD LICH ARCHER TO BE ADDED TO INVENTORY",400),!0},bloodlicharcherQuestE:function(){t.staticOriNpcDngAPassSpawnA.value.isVisible=!1;var e=t.staticOriPortalBmapDungeonA.value.attach;return t.staticOriPortalBmapDungeonA.value.isVisible=!0,t[e].value.isVisible=!0},magicianQuestC:function(){return t.staticOriNpcMapAADngAPassSpawnA.value.isVisible=!0,t.staticOriNpcMapAADngAPassSpawnB.value.isVisible=!0,t.staticOriNpcMapAADngAPassSpawnC.value.isVisible=!0,t.staticOriNpcMapAADngBPassSpawnA.value.isVisible=!1,!0},khalQuestA:function(){return t.staticOriNpcMapAADngAPassSpawnA.value.isVisible=!1,t.staticOriNpcMapAADngAPassSpawnB.value.isVisible=!1,t.staticOriNpcMapAADngAPassSpawnC.value.isVisible=!1,t.staticOriNpcDngDPassSpawnA.value.isVisible=!0},khalQuestB:function(){return t.staticOriNpcDngDPassSpawnA.value.isVisible=!1,t.staticOriNpcDngDPassSpawnB.value.isVisible=!0,t.staticOriNpcDngDPassSpawnC.value.isVisible=!0},khalQuestG:function(){var e=t.staticOriPortalBmapDungeonD.value.attach;return t.staticOriPortalBmapDungeonD.value.isVisible=!0,t[e].value.isVisible=!0,t.staticOriNpcDngDPassSpawnB.value.isVisible=!1,t.staticOriNpcDngDPassSpawnC.value.isVisible=!1,!0},lapisQuestD:function(){var e=t.staticOriPortalBmapDDungeonA.value.attach;return t.staticOriPortalBmapDDungeonA.value.isVisible=!0,t[e].value.isVisible=!0},lapisQuestF:function(){for(var e=t.nqAW.value.get("oval"),a=0,i=e.length;a<i;a++)if("Lapis Fragment"===e[a].name)return e[a].quantity=0,e.push(new t.csYe.value.magic.lapisGemstone({quantity:1})),t.hDwB.value("LAPIST GEMSTONE TO BE ADDED TO INVENTORY",400),t.staticOriNpcMapAADngAPassSpawnA.value.isVisible=!1,!0;return!1},invasionQuestD:function(){return t.nqAW.value.get("oval").push(new t.csYe.value.dropMonster.voidOre({quantity:1})),t.hDwB.value("VOID ORE TO BE ADDED TO INVENTORY",400),!0},invasionQuestF:function(){var e=t.staticOriPortalBmapDungeonH.value.attach;return t.staticOriPortalBmapDungeonH.value.isVisible=!0,t[e].value.isVisible=!0},invasionQuestI:function(){var e=t.staticOriPortalBmapDungeonH.value.attach;for(var a in t.staticOriPortalBmapDungeonH.value.isVisible=!0,t[e].value.isVisible=!0,e=t.staticOriPortalBmapDungeonE.value.attach,t.staticOriPortalBmapDungeonE.value.isVisible=!0,t[e].value.isVisible=!0,e=t.staticOriPortalmapDungeonF.value.attach,t.staticOriPortalmapDungeonF.value.isVisible=!0,t[e].value.isVisible=!0,t.staticOriNpcDngHPassSpawnA.value.isVisible=!1,e=t.hEP.value.mapDungeonE.content)/npc/i.test(a)&&(e[a].isVisible=!0);return!0},tragedyQuestA:function(){var e=t.staticOriPortalmapDungeonF.value.attach;return t.staticOriPortalmapDungeonF.value.isVisible=!1,t[e].value.isVisible=!1,t.staticOriNpcDngFPassSpawnB.value.isVisible=!0},tragedyQuestF:function(){var e=t.staticOriPortalBmapDungeonF.value.attach;return t.staticOriPortalBmapDungeonF.value.isVisible=!0,t[e].value.isVisible=!0,e=t.staticOriPortalCmapDungeonH.value.attach,t.staticOriPortalCmapDungeonH.value.isVisible=!0,t[e].value.isVisible=!0,t.staticOriNpcDngHPassSpawnA.value.isVisible=!0,t.staticOriNpcDngFPassSpawnB.value.behaveState="die",!0},tragedyQuestG:function(){return t.removeClass(t.qs("dev-note"),"hidden"),!0}},hDwB:function(e,a){for(var i=document.createElement("div"),s=document.createElement("div"),n="msg-"+t.cKs(),r=t.YFjd.value.storage,o=!1,l=0,c=0,h=r.length;c<h;c++)if(r[c].status.name&&"msg-text"===r[c].status.name&&2<=++l){o=!0;break}if(!o){for(c=0,h=(r=t.qs("info-important").getElementsByTagName("div")).length;c<h;c++)/close-msg/i.test(r[c].className)||t.addClass(r[c],"pop-up-text-move");s.className="close-msg",i.className="pop-up-text "+n,t.text(i,e),i.appendChild(s),t.qs("info-important").appendChild(i),t.Ge(s,"click",function(){/pop-up-text-move/i.test(t.qs(n).className)?t.addClass(t.qs(n),"pop-up-text-out pop-up-text-move"):t.addClass(t.qs(n),"pop-up-text-out")}),t.YFjd.value.set(n,{name:"msg-text",classNm:n,tick:10,fn:function(){t.addClass(t.qs(n),"pop-up-text-in")}}),t.YFjd.value.set(n+"_mimic",{name:"msg-text",classNm:n,tick:a,fn:function(){/pop-up-text-move/i.test(t.qs(n).className)?t.addClass(t.qs(n),"pop-up-text-out pop-up-text-move"):t.addClass(t.qs(n),"pop-up-text-out"),setTimeout(function(){t.qs(n).remove()},450)}})}},EtCS:function(e){var a,i=t.HYd.value.storage,s="";for(a in i){var n=i[a].status;if(n&&!n.isFinish){for(var r in i=n.questTree)i[r].active&&i[r].message&&i[r].target.toLowerCase()===e.toLowerCase()&&(s=i[r].message);s&&t.textDialog(s);break}}}},!0),t.accessor.call(t,{global:t.objFragment,accessorName:"_worldObject",namespace:Za.QpZ}),t.objFragment.length=0,t.kWdN.value.set("aqua-heal",{name:"aquaHeal",tick:2400,healing:3,delay:50}),t.kWdN.value.set("aqua-spirit",{name:"aquaSpirit",tick:2400,healing:3,delay:50}),t.AyD.value=function(){return t["staticWallOutter"+t.ThQ.value].value},t.csYe.value={tool:{upgrader:function(e){this.name="upgrader",this.displayName="crafting tool",this.root={parent:"tool",initial:"upgrader"},this.quantity=e&&e.quantity||1,this.className="upgrader",this.type="crafting tool",this.usage="tool",this.bagLocation="",this.detail="a tool for upgrading, enchanting or combining items",this.unique=!0,this.label=t.cKs()}},dropMonster:{nessQueenScale:function(e){this.name="Ness Queen Scale",this.root={parent:"dropMonster",initial:"nessQueenScale"},this.quantity=e&&e.quantity||1,this.className="ness-queen-scale",this.type="consumable material",this.usage="mana potion",this.size="small",this.bagLocation="",this.detail="Queen ness scale contains magical herb, it gives magic effect to increase of magic points",this.unique=!1,this.label=t.cKs()},nessScale:function(e){this.name="ness scale",this.root={parent:"dropMonster",initial:"nessScale"},this.quantity=e&&e.quantity||1,this.className="ness-scale",this.type="consumable material",this.usage="health potion",this.size="small",this.bagLocation="",this.detail="Ness scale contains magical herb, it gives magic effect to increase of health points",this.unique=!1,this.label=t.cKs()},nessFang:function(e){this.name="ness fang",this.root={parent:"dropMonster",initial:"nessFang"},this.quantity=e&&e.quantity||1,this.className="ness-fang",this.usage=this.type="enchantment material",this.size="small",this.bagLocation="",this.enchant=["consumable material"],this.formula={healthPotion:"tierA",manaPotion:"tierA"},this.detail="Ness fang contains magical herb, it gives a higher success rate when combined to consumable herb material",this.unique=!1,this.label=t.cKs()},bedrockMeat:function(e){this.name="Bedrock Meat",this.root={parent:"dropMonster",initial:"bedrockMeat"},this.quantity=e&&e.quantity||1,this.className="bedrock-meat",this.type="medium consumable material",this.usage="health medium potion",this.size="small",this.bagLocation="",this.detail="Bedrock meat contains magical herb, it gives effect to cure of health points",this.unique=!1,this.label=t.cKs()},bedrockBone:function(e){this.name="Bedrock Bone",this.root={parent:"dropMonster",initial:"bedrockBone"},this.quantity=e&&e.quantity||1,this.className="bedrock-bone",this.type="medium consumable material",this.usage="mana medium potion",this.size="small",this.bagLocation="",this.detail="Bedrock Bone contains magical herb, it gives effect to cure of mana points",this.unique=!1,this.label=t.cKs()},bedrockFang:function(e){this.name="Bedrock Fang",this.root={parent:"dropMonster",initial:"bedrockFang"},this.quantity=e&&e.quantity||1,this.className="bedrock-fang",this.type="Bedrock Fang",this.size="small",this.bagLocation="",this.enchant=["medium consumable material"],this.formula={healthPotion:"tierB",manaPotion:"tierB"},this.detail="Bedrock Fang contains magical herb, gives a higher success rate when it's combined to medium consumable material",this.unique=!1,this.label=t.cKs()},meat:function(e){this.name="Gall Boar Meat",this.root={parent:"dropMonster",initial:"meat"},this.quantity=e&&e.quantity||1,this.className="meat",this.type="consumable material",this.usage="health potion",this.size="small",this.bagLocation="",this.detail="Gall Boar meat contains magical herb, gives effect to increase of small amount of health",this.unique=!1,this.label=t.cKs()},gallBoarFang:function(e){this.name="Gall Boar Fang",this.root={parent:"dropMonster",initial:"gallBoarFang"},this.quantity=e&&e.quantity||1,this.className="boar-fang",this.usage=this.type="enchantment material",this.size="small",this.bagLocation="",this.enchant=["consumable material"],this.formula={healthPotion:"tierA",manaPotion:"tierA"},this.detail="Gall Boar Fang contains magical herb, gives a higher success rate when it's combined to consumable herb material",this.unique=!1,this.label=t.cKs()},nortusGreenScale:function(e){this.name="Nortus Green Scale",this.root={parent:"dropMonster",initial:"nortusGreenScale"},this.quantity=e&&e.quantity||1,this.className="nortus-green-scale",this.type="nortus green material",this.usage="nortus shield",this.size="small",this.bagLocation="",this.detail="Nortus green, given a higher success rate when combined to nortus heart material",this.unique=!1,this.label=t.cKs()},nortusRedScale:function(e){this.name="Nortus Red Scale",this.root={parent:"dropMonster",initial:"nortusRedScale"},this.quantity=e&&e.quantity||1,this.className="nortus-red-scale",this.type="nortus red material",this.usage="nortus shield",this.size="small",this.bagLocation="",this.detail="nortus red, it gives a higher success rate when combined to nortus heart material",this.unique=!1,this.label=t.cKs()},nortusHeart:function(e){this.name="Nortus Heart",this.root={parent:"dropMonster",initial:"nortusHeart"},this.quantity=e&&e.quantity||1,this.className="nortus-heart",this.type="nortus's heart",this.size="small",this.bagLocation="",this.sacrifice=4,this.enchant=["nortus red material","nortus green material"],this.formula={nortusShield:"tierA"},this.detail="nortus heart, provide mysterious mystic energy",this.unique=!1,this.label=t.cKs()},taintedGem:function(e){this.name="Tainted Gem",this.root={parent:"dropMonster",initial:"taintedGem"},this.quantity=e&&e.quantity||1,this.className="tainted-gem",this.type="tainted gem material",this.usage="tainted material",this.size="small",this.bagLocation="",this.detail="enchantment material, merger it to void ore to create a magic item",this.unique=!1,this.label=t.cKs()},taintedSoul:function(e){this.name="Tainted Soul",this.root={parent:"dropMonster",initial:"taintedSoul"},this.quantity=e&&e.quantity||1,this.className="tainted-soul",this.type="tainted soul material",this.usage="tainted material",this.size="small",this.bagLocation="",this.detail="enchantment material, merger it to void ore to create a magic item",this.unique=!1,this.label=t.cKs()},voidOre:function(e){this.name="Void Ore",this.root={parent:"dropMonster",initial:"voidOre"},this.quantity=e&&e.quantity||1,this.className="void-ore",this.type="void ore",this.size="small",this.bagLocation="",this.sacrifice=4,this.enchant=["tainted soul material","tainted gem material"],this.formula={taintedJewel:"tierA"},this.detail="raw material, enchant it to tainted materials to create a magic item",this.unique=!1,this.label=t.cKs()},nortusGreenTailScale:function(e){this.name="Nortus Green Tail Scale",this.root={parent:"dropMonster",initial:"nortusGreenTailScale"},this.quantity=e&&e.quantity||1,this.className="nortus-green-tail-scale",this.type="nortus tail material",this.usage="mana strong potion",this.size="small",this.bagLocation="",this.detail="nortus green tail material will provide mana strong potion, gives a higher success rate when combined to nortus heart",this.unique=!1,this.label=t.cKs()},nortusRedTailScale:function(e){this.name="Nortus Red Tail Scale",this.root={parent:"dropMonster",initial:"nortusRedTailScale"},this.quantity=e&&e.quantity||1,this.className="nortus-red-tail-scale",this.type="nortus tail material",this.usage="health strong potion",this.size="small",this.bagLocation="",this.detail="nortus red tail will provide health storng potion, gives a higher success rate when it's combined to nortus heart ",this.unique=!1,this.label=t.cKs()},nortusTailHeart:function(e){this.name="Nortus Tail Heart",this.root={parent:"dropMonster",initial:"nortusTailHeart"},this.quantity=e&&e.quantity||1,this.className="nortus-tail-heart",this.type="enchantment material",this.size="small",this.bagLocation="",this.enchant=["nortus tail material"],this.formula={healthPotion:"tierC",manaPotion:"tierC"},this.detail="nortus heart material",this.unique=!1,this.label=t.cKs()},nortusShield:function(e){this.name="Nortus Shield",this.root={parent:"dropMonster",initial:"nortusShield"},this.quantity=e&&e.quantity||1,this.className="nortus-shield",this.type="nortus shield material",this.size="small",this.bagLocation="",this.detail="it gives maximum defense when enchant to a magic item",this.unique=!1,this.label=t.cKs()},mossealMysticalStone:function(e){this.name="Mosseal mystical  Stone",this.root={parent:"dropMonster",initial:"mossealMysticalStone"},this.quantity=e&&e.quantity||1,this.className="mosseal-mystical-stone",this.type="mosseal mystical  stone material",this.sacrifice=3,this.enchant=["light soul material"],this.formula={telsadian:"tierA"},this.bagLocation="",this.detail="legend tells the elementals put in their heart soul to this stone to bring back their life and lives hundred years",this.unique=!1,this.label=t.cKs()},lightSoul:function(e){this.name="Light Soul",this.root={parent:"dropMonster",initial:"lightSoul"},this.quantity=e&&e.quantity||1,this.className="light-soul",this.type="light soul material",this.usage="telsadian fragment",this.bagLocation="",this.detail="light soul, can be combined with mosseal stone",this.unique=!1,this.label=t.cKs()},obsidian:function(e){this.name="Obsidian Stone",this.root={parent:"dropMonster",initial:"obsidian"},this.quantity=e&&e.quantity||1,this.className="runes-a",this.type="obsidian stone",this.usage="red gem stone",this.bagLocation="",this.detail="Obsidian Fragment",this.unique=!1,this.label=t.cKs()},telsadian:function(e){this.name="Telsadian Stone",this.root={parent:"dropMonster",initial:"telsadian"},this.quantity=e&&e.quantity||1,this.className="runes-b",this.type="telsadian stone",this.usage="red gem stone",this.bagLocation="",this.detail="Telsadian Fragment",this.unique=!1,this.label=t.cKs()},radianMagol:function(e){this.name="Radian Magol Stone",this.root={parent:"dropMonster",initial:"radianMagol"},this.quantity=e&&e.quantity||1,this.className="runes-c",this.type="radian magol stone",this.bagLocation="",this.enchant=["obsidian stone","telsadian stone"],this.formula={redGemStone:"tierA"},this.detail="Radian Magol Fragment",this.unique=!1,this.label=t.cKs()},lapisFragment:function(e){this.name="Lapis Fragment",this.root={parent:"dropMonster",initial:"lapisFragment"},this.quantity=e&&e.quantity||1,this.className="lapis-fragment",this.type="Gemstone",this.usage="lapis gemstone",this.bagLocation="",this.detail="a piece of lapis Gemstone, contained strong magic, can be enchanted with magic item",this.unique=!1,this.label=t.cKs()},basicMagicPlant:function(e){this.name="basic magical plant",this.root={parent:"dropMonster",initial:"basicMagicPlant"},this.quantity=e&&e.quantity||1,this.className="basic-magic-plant",this.type="basic plant material",this.usage="mana medium potion",this.size="small",this.bagLocation="",this.detail="basic magical plant contains goblin light magic it gives a mana potion when it's combined to goblin elixir",this.unique=!1,this.label=t.cKs()},basicHerbPlant:function(e){this.name="Basic Herb Plant",this.root={parent:"dropMonster",initial:"basicHerbPlant"},this.quantity=e&&e.quantity||1,this.className="basic-herb-plant",this.type="basic plant material",this.usage="health medium potion",this.size="small",this.bagLocation="",this.detail="basic medical herb contains goblin light magic it gives a strong healing when it's combined to goblin elixir",this.unique=!1,this.label=t.cKs()},goblinElixir:function(e){this.name="Goblin Elixir",this.root={parent:"dropMonster",initial:"goblinElixir"},this.quantity=e&&e.quantity||1,this.className="goblin-elixir",this.type="goblin elixir material",this.size="small",this.enchant=["basic plant material"],this.formula={healthPotion:"tierB",manaPotion:"tierB"},this.bagLocation="",this.detail="goblin elixir, can be enchanted to goblin basic plant",this.unique=!1,this.label=t.cKs()}},magic:{manaStrongPotion:function(e){this.name="manapotion",this.displayName="Mana Strong Potion",this.root={parent:"magic",initial:"manaStrongPotion"},this.quantity=e&&e.quantity||1,this.cure=350,this.cooldown=140,this.className="mana-strong-potion",this.enchantment=!1,this.type="potion",this.usage="healing",this.size="small",this.bagLocation="",this.detail="Restore 350 points of Mana, Cooldown 3.5s ",this.unique=!1,this.label=t.cKs()},healthStrongPotion:function(e){this.name="healthpotion",this.displayName="Health Strong Potion",this.root={parent:"magic",initial:"healthStrongPotion"},this.quantity=e&&e.quantity||1,this.cure=350,this.cooldown=140,this.className="health-strong-potion",this.enchantment=!1,this.type="potion",this.usage="healing",this.size="small",this.bagLocation="",this.detail="Restore 350 points of Health, Cooldown 3.5s ",this.unique=!1,this.label=t.cKs()},manaMediumPotion:function(e){this.name="manapotion",this.displayName="Mana Medium Potion",this.root={parent:"magic",initial:"manaMediumPotion"},this.quantity=e&&e.quantity||1,this.cure=200,this.cooldown=120,this.className="mana-medium-potion",this.enchantment=!1,this.type="potion",this.usage="healing",this.size="small",this.bagLocation="",this.detail="Restore 200 points of Mana, Cooldown 3s ",this.unique=!1,this.label=t.cKs()},taintedJewel:function(e){this.name="taintedJewel",this.displayName="Tainted Jewel",this.root={parent:"magic",initial:"taintedJewel"},this.quantity=e&&e.quantity||1,this.className="tainted-jewel",this.enchantment=!1,this.type="mystic",this.usage="upgrade",this.bagLocation="",this.effect={defense:{target:["character","pion"],value:10},magicDefense:{target:["character","pion"],value:10}},this.registered=[],this.detail="+ 10% defense increased for companions",this.unique=!0,this.label=t.cKs()},lapisGemstone:function(e){this.name="lapisGemstone",this.displayName="Lapis Gemstone",this.root={parent:"magic",initial:"lapisGemstone"},this.quantity=e&&e.quantity||1,this.className="lapis-gemstone",this.enchantment=!1,this.type="mystic",this.usage="upgrade",this.bagLocation="",this.effect={attack:{target:["character","pion"],value:10}},this.registered=[],this.detail="+ 10% all attack increased for companions",this.unique=!0,this.label=t.cKs()},healthMediumPotion:function(e){this.name="healthpotion",this.displayName="Health Medium Potion",this.root={parent:"magic",initial:"healthMediumPotion"},this.quantity=e&&e.quantity||1,this.cure=200,this.cooldown=120,this.className="health-medium-potion",this.enchantment=!1,this.type="potion",this.usage="healing",this.size="small",this.bagLocation="",this.detail="Restore 200 points of Health, Cooldown 3s ",this.unique=!1,this.label=t.cKs()},healthPotion:function(e){this.name="healthpotion",this.displayName="Health Potion",this.root={parent:"magic",initial:"healthPotion"},this.quantity=e&&e.quantity||1,this.cooldown=this.cure=100,this.className="health-potion",this.enchantment=!1,this.type="potion",this.usage="healing",this.size="small",this.bagLocation="",this.detail="Restore 100 points of Health, Cooldown 2.5s ",this.unique=!1,this.label=t.cKs()},manaPotion:function(e){this.name="manapotion",this.displayName="Mana Potion",this.root={parent:"magic",initial:"manaPotion"},this.quantity=e&&e.quantity||1,this.cure=100,this.className="mana-potion",this.enchantment=!1,this.type="potion",this.usage="healing",this.size="small",this.bagLocation="",this.detail="Restore 100 points of mana, Cooldown 2.5s",this.unique=!1,this.label=t.cKs()},blueJewel:function(e){this.name="bluejewel",this.displayName="Blue Jewel",this.root={parent:"magic",initial:"blueJewel"},this.quantity=e&&e.quantity||1,this.className="blue-jewel",this.enchantment=!1,this.type="mystic",this.usage="upgrade",this.bagLocation="",this.effect={attack:{target:["character","pion"],value:20},defense:{target:["character","pion"],value:20},magicDefense:{target:["character","pion"],value:20}},this.registered=[],this.detail="+ 20% all attack, +15% All defense increased for companions",this.unique=!1,this.label=t.cKs()},redJewel:function(e){this.name="redjewel",this.displayName="Red Jewel",this.root={parent:"magic",initial:"redJewel"},this.quantity=e&&e.quantity||1,this.className="red-jewel",this.enchantment=!1,this.type="mystic",this.usage="upgrade",this.bagLocation="",this.effect={attack:{target:["character","pion"],value:20}},this.registered=[],this.detail="+ 20% all attack increased for companions",this.unique=!0,this.label=t.cKs()},greenLightNecklace:function(e){this.name="greenlightnecklace",this.displayName="Green Light Necklace",this.root={parent:"magic",initial:"greenLightNecklace"},this.quantity=e&&e.quantity||1,this.className="green-light-necklace",this.enchantment=!1,this.type="mystic",this.usage="upgrade",this.bagLocation="",this.effect={stun:{target:["character","pion"],value:15},critical:{target:["character","pion"],value:15}},this.registered=[],this.detail=" + 15% provide both stun and critical chance to companions ",this.unique=!0,this.label=t.cKs()},redGemStone:function(e){this.name="redgemstone",this.displayName="Red Gemstone",this.root={parent:"magic",initial:"redGemStone"},this.quantity=e&&e.quantity||1,this.className="red-gem-stone",this.type="mystic",this.usage="upgrade",this.enchantment=!1,this.bagLocation="",this.effect={avoid:{target:["character"],value:15}},this.registered=[],this.detail="+ 15% dodge ability to character ",this.unique=!0,this.label=t.cKs()},goldGemStone:function(e){this.name="goldgemstone",this.displayName="Gold Gemstone",this.root={parent:"magic",initial:"goldGemStone"},this.quantity=e&&e.quantity||1,this.className="gold-gem-stone",this.enchantment=!1,this.type="mystic",this.usage="upgrade",this.bagLocation="",this.effect={critical:{target:["character"],value:15}},this.registered=[],this.detail="+ 15% critical chance to character ",this.unique=!0,this.label=t.cKs()},bloodLichWarrior:function(e){this.name="bloodlichwarrior",this.displayName="Blood Lich Warrior",this.root={parent:"magic",initial:"bloodLichWarrior"},this.quantity=e&&e.quantity||1,this.className="blood-lich-warrior",this.enchantment=!1,this.type="mystic",this.bagLocation="",this.expTemp=this.exp=0,this.companion="monsterSekletonArmored",this.familiar={name:"Blood Lich Warrior",level:1,exp:0,expTemp:0,attackRangeMax:10,attackRangeMin:5,attackRange:70,attackMax:25,attackMin:15,defenseMax:43,defenseMin:32,magicDefenseMax:8,magicDefenseMin:4,maxHealth:2200,maxMp:10,hpBar:"medium",requiredSoul:15,buffSkill:{},abilitySkill:{block:25,defense:{max:35,min:15}},item:[],attackFrame:[{frame:[15],audio:["hit-sword"]}],audioDie:"",spell:!0,attckerType:"warrior"},this.registered=[],this.detail="He's called the Dread Terror, The Elder of Undead Clan, Required souls to summon Blood Lich Warrior",this.unique=!0,this.label=t.cKs()},bloodLichArcher:function(e){this.name="bloodlichArcher",this.displayName="Blood Lich Archer",this.root={parent:"magic",initial:"bloodLichArcher"},this.quantity=e&&e.quantity||1,this.className="blood-lich-archer",this.enchantment=!1,this.type="mystic",this.bagLocation="",this.expTemp=this.exp=0,this.companion="monsterSekletonArcher",this.familiar={name:"Blood Lich Archer",level:1,exp:0,expTemp:0,posX:35,posY:50,weaponName:"arrow",weaponWidth:7,weaponHeight:44,attackRangeMax:28,attackRangeMin:17,attackRange:70,attackMax:25,attackMin:15,defenseMax:15,defenseMin:7,magicDefenseMax:28,magicDefenseMin:16,maxHealth:1300,maxMp:10,hpBar:"medium",requiredSoul:15,buffSkill:{},abilitySkill:{},item:[],attackFrame:[{frame:[20],audio:["arrow-fly-2"]}],audioDie:"",spell:!0,attckerType:"warrior"},this.registered=[],this.detail="Undead Lich Archer, Required souls to summon Blood Lich Archer",this.unique=!0,this.label=t.cKs()}},skills:{fireballAcid3:{name:"fireball-acid-3",className:"fireball-acid-3",displayName:"Meteor Rain",type:"active",caracterClass:"wizard",tick:1e3,tickUpdate:1e3,mp:678,state:!0,disable:!1,label:t.cKs(),target:"",detail:"A fireball which explodes on impact for 220% of average damage of character in a 100 radius, cooldown 25s",firstLoad:!0,active:!1,slotLocation:"",level:20},fireballAcid2:{name:"fireball-acid-2",className:"fireball-acid-2",displayName:"Meteor Strike",type:"active",caracterClass:"magus",tick:600,tickUpdate:600,mp:200,state:!0,disable:!1,label:t.cKs(),target:"",detail:"A fireball which explodes on impact for 420% of average damage of character in a 100 radius, cooldown 15s",upgradeClass:"fireball-acid-3",upgradeProperty:"fireballAcid3",next:"A fireball which explodes on impact for 220% of average damage of character in a 100 radius, cooldown 25s",require:{skillPoint:7,level:20},firstLoad:!0,active:!1,slotLocation:"",level:15},fireballAcid:{name:"fireball-acid",className:"fireball-acid",displayName:"Fire Ball",type:"active",caracterClass:"magus",tick:300,tickUpdate:300,mp:50,state:!0,disable:!1,label:t.cKs(),target:"",detail:"A bolt of fire that inflicts 250% of average damage of character.",upgradeClass:"fireball-acid-2",upgradeProperty:"fireballAcid2",next:"A fireball which explodes on impact for 420% of average damage of character in a 100 radius, cooldown 15s",require:{skillPoint:3,level:15},firstLoad:!0,active:!0,slotLocation:"",level:1},iceBeam:{name:"ice-beam",className:"ice-beam",displayName:"Ice Beam",type:"active",tick:400,tickUpdate:400,mp:45,caracterClass:"magus",state:!0,disable:!1,label:t.cKs(),target:"",detail:"A spike of ice that take 120% of average damage of character, cooldown 10s",firstLoad:!0,active:!0,slotLocation:"",level:3},lifeDrain:{name:"life-drain",className:"life-drain",displayName:"Life Drain",type:"active",tick:1e3,tickUpdate:1e3,mp:165,caracterClass:"magus",state:!0,disable:!1,label:t.cKs(),target:"",firstLoad:!0,active:!0,detail:"it continuously takes of health points of target and +3% chance to convert damage to mana , cooldown 50s ",slotLocation:"",level:11},aquaSpirit:{name:"aqua-spirit",className:"aqua-spirit",displayName:"Aqua Spirit",type:"active",tick:3600,tickOriginal:3600,tickUpdate:3600,mp:355,caracterClass:"wizard",state:!0,disable:!1,label:t.cKs(),target:"",detail:"An aura surrounds target will take effect in a 300, it gives an increase of health rate points for 60s, cooldown 90s",firstLoad:!0,active:!1,slotLocation:"",level:13},aquaHeal:{name:"aqua-heal",className:"aqua-heal",displayName:"Aqua Heal",type:"active",tick:3600,tickOriginal:3600,tickUpdate:3600,mp:180,caracterClass:"magus",state:!0,disable:!1,label:t.cKs(),target:"",detail:"Restored player Health points for 60s.",upgradeClass:"aqua-spirit",upgradeProperty:"aquaSpirit",next:"An aura surrounds target will take effect in a 300 radius, gives an increase health rate points for 30s, cooldown 90s",require:{skillPoint:5,level:13},firstLoad:!0,active:!0,slotLocation:"",level:6},lightning:{name:"lightning",className:"lightning",displayName:"Lightning",type:"active",tick:300,tickUpdate:300,mp:60,caracterClass:"magus",state:!0,disable:!1,label:t.cKs(),target:"",detail:"150% lightning damage to selected target.",upgradeClass:"lightning-strike",upgradeProperty:"lightningStrike",next:"strike a target continuously with lightning, 40% deal damage to selected target, cooldown 20s",require:{skillPoint:3,level:13},firstLoad:!0,active:!0,slotLocation:"",level:5},lightningStrike:{name:"lightning-strike",className:"lightning-strike",displayName:"Lightning Strike",type:"active",tick:2e3,tickUpdate:2e3,mp:215,caracterClass:"magus",state:!0,disable:!1,label:t.cKs(),target:"",detail:"strike a target continuously with lightning, 40% deal damage to selected target, cooldown 50s",upgradeClass:"chain-lightning",upgradeProperty:"chainLightning",next:"chain lightning with 420% deal damage in a 300 radius, cooldown 25s",require:{skillPoint:6,level:18},firstLoad:!0,active:!1,slotLocation:"",level:13},chainLightning:{name:"chain-lightning",className:"chain-lightning",displayName:"chain Lightning",type:"active",tick:1e3,tickUpdate:1e3,mp:550,caracterClass:"wizard",state:!0,disable:!1,label:t.cKs(),target:"",detail:"chain lightning with 420% deal damage in a 300 radius, cooldown 25s",firstLoad:!0,active:!1,slotLocation:"",level:18},undead:{name:"undead",className:"undead",displayName:"Gate of Undead World",type:"active",tick:7200,tickUpdate:7200,mp:350,caracterClass:"magus",state:!0,disable:!1,label:t.cKs(),target:"",detail:"The Darkest Gate of Undead World, Summons undead familiar for 180 seconds, cooldown 180s",familiar:[],firstLoad:!0,active:!0,slotLocation:"",level:1}}},t.feWs.value.set(t.oval.value.label,"idle"),t.E_D.value=function(e,a){var i=d.quest;if(questStat=function(e,a,i){var s=document.createElement("div"),n=document.createElement("div"),r=document.createElement("abbr");return t.text(r,e.title),r.className="primary-title",e.active=!0,checked=1>=i,a=t.FusQ.value(a,n,checked),n.className="wrap",n.insertBefore(r,n.firstChild),s.className="quest",s.appendChild(n),t.qs("wrap-box").className="wrap-box",t.qs("wrap-box").insertBefore(s,t.qs("wrap-box").firstChild),t.Tnm.value({title:"primary-title",text:{yellow:e.title}}),{wrap:n,firstQuest:a}},i[e])if(a)for(i=0;i<a.length;i++){var s,n=a[i].status,r=n.questTree,o=!0,l=0;for(s in r)(r[s].isFinish||r[s].active)&&l++;if(n.active)for(var c in r)if(o){var h=questStat(n,r[c],l);o=!1,a[i-1]&&(prevObjQuest=a[i-1].status,prevObjQuest.visibility&&(t[prevObjQuest.visibility.hide].value.isVisible=!1,t[prevObjQuest.visibility.show].value.isVisible=!0,t[prevObjQuest.visibility.hide].value.quest.update.length=0)),r[c].isFinish&&(h.firstQuest.className="quest-tree gold linethrough")}else r[c].active&&(r[c].message&&t.text(t.qs("body-dialog"),r[c].message),t.FusQ.value(r[c],h.wrap,!0))}else if(n=i[e],!t.HYd.value.get(n.title))for(c in r=n.questTree,t.HYd.value.set(n.title,n),r)if(!r[c].isFinish){questStat(n,r[c],!0);break}},t.EOd.value=function(e,a){var i,s=t.HYd.value.storage,n=function(t,e){if(t.merger){var a,i=t.merger;for(a in e)if(e[a].merger===i&&!e[a].isFinish&&e[a].label!==t.label)return!1}return!0},r=function(e){return!e.fn||t.ZsYu.value[e.fn]()},o=function(e,a){if(e.isFinish=!0,e.active=!1,e.mapMarkExtend)for(var i=0,s=e.mapMarkExtend;i<s.length;i++)for(var n=t[s[i]].value.quest.update,r=0,o=n.length;r<o;r++)n[r]===e.label&&n.splice(r,1);for(s=""===e.mapMark?"dot-quest":"",(n=t.eTz(c,1)).className="quest-tree gold linethrough "+s,n=t.slice(n.getElementsByTagName("div")),i=0;i<n.length;i++)/click/i.test(n[i].className)&&(n[i].className="click hidden");if("dot-quest"!==s)for(r=0,o=(n=t[e.mapMark].value.quest.update).length;r<o;r++)n[r]===e.label&&n.splice(r,1)};for(i in s){var l=s[i].status;if(l&&!l.isFinish){for(var c,h=t.slice(t.qs("wrap-box").getElementsByTagName("span")),p=l.questTree,g=!0,d=0,m=h.length;d<m;d++)for(var u in p)if(!p[u].isFinish&&h[d].getAttribute("label")===p[u].label&&p[u].target.toLowerCase()===e.toLowerCase()){if(c=h[d],/slay|collect/i.test(p[u].type)&&r(p[u])){if(p[u].current++,!(p[u].current<p[u].require)){o(p[u],e.toLowerCase());var f=n(p[u],p);if(p[u].next&&f){f=0;for(var v=p[u].next;f<v.length;f++)p[v[f]].active=!0,t.FusQ.value(p[v[f]],t.eTz(c,2),!0)}}t.text(c," ( "+p[u].current+" / "+p[u].require+" ) ")}else if(/info/i.test(p[u].type)&&r(p[u])&&(o(p[u],e.toLowerCase()),f=n(p[u],p),p[u].next&&f))for(f=0,v=p[u].next;f<v.length;f++)p[v[f]].active=!0,t.FusQ.value(p[v[f]],t.eTz(c,2),!0);break}for(d in p)if(!p[d].isFinish){g=!1;break}g&&(l.next&&t.E_D.value(l.next),l.visibility&&(t[l.visibility.hide].value.isVisible=!1,t[l.visibility.show].value.isVisible=!0,t[l.visibility.hide].value.quest.update.length=0),t.eTz(c,3).remove(),0===t.slice(t.qs("wrap-box").getElementsByTagName("div")).length&&(t.qs("wrap-box").className="wrap-box nopadding"),l.isFinish=!0,l.active=!1,t.preventBugLoad=!1)}}},t.Tnm.value=function(e){t.HHD.value.set(t.cKs(),e);var a=(e=t.HHD.value.storage).length,i=t.qs("wrap-box-text"),s=t.qs("wrap-box-text-mobile");for(s.innerHTML=i.innerHTML="",t.css(i,{transform:"0px, 0px,0px"}),t.css(s,{transform:"0px, 0px,0px"}),50<a&&(e.splice(0,1),a--);a--;){var n=document.createElement("span");for(var r in n.className=e[a].status.title,e[a].status.text){var o=n,l=r,c=e[a].status.text[r],h=document.createElement("abbr");h.className=l,t.text(h,c),o.appendChild(h)}i.appendChild(n),s.appendChild(n.cloneNode(!0))}for(r=0,a=(e=t.slice(t.qs("nav-info-text").getElementsByTagName("div"))).length;r<a;r++)if(i=e[r].className,t.getFirstChild(e[r])){"checkbox-all"===i?t.Uhd.value(0):"checkbox-quest"===i?t.Uhd.value(2):"checkbox-item"===i&&t.Uhd.value(3);break}},t.Uhd.value=function(e){for(var a=t.slice(t.qs("wrap-box-text").getElementsByTagName("span")),i=0,s=a.length;i<s;i++)t.addClass(a[i],"hidden");if(0===e)for(i=0,s=a.length;i<s;i++)t.removeClass(a[i],"hidden");else if(2===e)for(i=0,s=a.length;i<s;i++)/primary-title/i.test(a[i].className)&&t.removeClass(a[i],"hidden");else if(3===e)for(i=0,s=a.length;i<s;i++)/regular-title|exp-title/i.test(a[i].className)&&t.removeClass(a[i],"hidden")},t.kdL.value.set(t.oval.value.label,[]),t.nqAW.value.set(t.oval.value.label,[new t.csYe.value.magic.manaPotion({quantity:99}),new t.csYe.value.magic.manaMediumPotion({quantity:99}),new t.csYe.value.magic.manaStrongPotion({quantity:99}),new t.csYe.value.magic.healthPotion({quantity:99}),new t.csYe.value.magic.healthMediumPotion({quantity:99}),new t.csYe.value.magic.healthStrongPotion({quantity:99})]),t.NMns.value.set(t.oval.value.label,[t.csYe.value.skills.undead,t.csYe.value.skills.fireballAcid,t.csYe.value.skills.fireballAcid2,t.csYe.value.skills.fireballAcid3,t.csYe.value.skills.lifeDrain,t.csYe.value.skills.iceBeam,t.csYe.value.skills.lightning,t.csYe.value.skills.lightningStrike,t.csYe.value.skills.chainLightning,t.csYe.value.skills.aquaHeal,t.csYe.value.skills.aquaSpirit]),t.REq.value={name:"oval",range:600,attackRangeMax:25,attackRangeMin:15,rigBody:"",health:500,maxHealth:500,maxHealthCure:500,mp:500,maxMp:500,maxMpCure:500,attackMax:5,attackMin:1,defenseMax:10,defenseMin:5,magicDefenseMax:35,magicDefenseMin:25,buffSkill:0,setting:{mpPercentage:100,healthPercentage:100,effect:!0},abilitySkill:{},lifeDrainDmg:{damage:45},fireBall3:{damage:220,effect:{burningEffect:new t.Dye.value.burningEffect}},fireBall2:{damage:420,effect:{burningEffect:new t.Dye.value.burningEffect}},fireBallDmg:{damage:250},iceBeamDmg:{damage:150},lightning:{damage:150},lightningStrike:{damage:40},chainLightning:{damage:420,effect:{lightningShock:new t.Dye.value.lightningShock}},attackDelaySkill:{lifeDrain:0},attackDelayNormal:0,exp:0,expTemp:0,skillPoint:0,soulPoint:5e4,level:1,attckerType:"caster",object:t.oval.value},t.NMns.value.set("initial",{label:"",state:!1,target:""}),t.doW.value=t.engine.world,t.ThWB.value(),localStorage.getItem("load")||(t.itemShop.value.set("global",d.shop),t.E_D.value("clues"),t.YdJv())}},Za.GUI=function(t){var e=this;e.fn=new t.Pq;var a={path:e.fn.qs("site").getAttribute("data-bitmap")};for(var i in a)t[i]=a[i];for(var s=(i=arguments).length;s--;)"function"==typeof i[s]&&(i[s].apply(null,[e,t]),i[s].apply(null,[e,a]),e.controllers(),e.bagAndSkill(),e.mouseCreate(document.body))},Za.GUI.prototype={controllers:function(){var t=this,e=t.qs("jump-right-nav"),a=t.qs("attack-right-nav"),i=t.slice(t.qs("menu-map").getElementsByTagName("li")),s=t.slice(t.qs("menu-map-mobile").getElementsByTagName("li"));i=i.concat(s),s=t.qs("menu-ui-left");var n=t.qs("menu-ui-right"),r=t.qs("close-dialog"),o=t.qs("gui-player"),l={outterObj:t.qs("outter"),innerObj:t.qs("inner"),move:!1,pointRad:{},angle:0,offset:{top:0,left:0}},c={outterObj:t.qs("controller-right"),innerObj:t.qs("inner-right"),markObj:"",markerLabel:"",move:!1,pointRad:{},angle:0,offset:{top:0,left:0},moveRange:{oldX:0,oldY:9,x:0,y:0,start:0}},h={getControlRad:function(t){var e=t.outterObj.getBoundingClientRect();t.pointRad.x=e.left+e.width/2,t.pointRad.y=e.top+e.height/2,t.offset.left=e.left,t.offset.top=e.top,t.outterWidth=t.outterObj.offsetWidth,t.innerWidth=t.innerObj.offsetWidth},getPointRad:function(t){return{x:Math.cos(t),y:Math.sin(t)}},getAngle:function(t,e){if(0===t&&0===e)return l.angle;var a=Math.atan(e/t);return 0>t&&0<=e?a+=Math.PI:0>t&&0>e?a+=Math.PI:0<=t&&0>e&&(a+=2*Math.PI),l.angle=a},isInside:function(t,e){return t<=e/2},setBtnPosition:function(e,a,i){var s=i.innerWidth/2;t.css(i.innerObj,{top:i.offset.top-s-i.innerWidth+5+i.outterWidth-a*i.outterWidth/2-s+"px",left:i.offset.left-s-30+i.outterWidth+e*i.outterWidth/2-s+"px",position:"fixed"})},setIdle:function(e,a,i){var s=t.browserWidth()/2;if(t.DJF.value.pos.mousedown.x<s){var n=t.tsSM.value;if(i&&(t.ufR.value.moveUp=!1,t.ufR.value.moveDown=!1,n.charObj.moveUp=!1,n.charObj.moveDown=!1),e!==n.status){i=t.oval.value.stateStorage;var r=t.oval.value.label;t._hsQ.value()&&("up"!==e&&(t.ufR.value.moveUp=!1),"down"!==e&&(t.ufR.value.moveDown=!1),"left"!==e&&(t.ufR.value.moveLeft=!1),"right"!==e&&(t.ufR.value.moveRight=!1),"left"!==e&&(n.charObj.moveLeft=!1),"right"!==e&&(n.charObj.moveRight=!1),"up"!==e&&(n.charObj.moveUp=!1),"down"!==e&&(n.charObj.moveDown=!1),"right"===e&&(n.charObj.dirSwitch.right=!0),"left"===e&&(n.charObj.dirSwitch.left=!0),/idle|die/i.test(e)&&(/idle/i.test(e)&&t[i].value.set(r,"idle"),t.ufR.value.staticObjMoveX=0),n.status=a)}}},control:function(e){var a=t.tsSM.value,i=a.charObj.dirSwitch;"left"===e?a.charObj.moveLeft||(t.ufR.value.moveLeft=!0,a.charObj.moveLeft=!0,i.delayDir=2):"right"===e?a.charObj.moveRight||(t.ufR.value.moveRight=!0,a.charObj.moveRight=!0,i.delayDir=2):"up"===e?a.charObj.moveUp||(t.ufR.value.moveUp=!0,a.charObj.moveUp=!0,i.delayDir=2):"down"!==e||a.charObj.moveDown||(t.ufR.value.moveDown=!0,a.charObj.moveDown=!0,i.delayDir=2)},centerMap:function(t){6===t.mark?(t.centerMap.x=-10,t.centerMap.y=55,t.centerMark.x=0,t.centerMark.y=25):8===t.mark?(t.centerMap.x=40,t.centerMap.y=0,t.centerMark.x=25,t.centerMark.y=35):10===t.mark&&(t.centerMap.x=85,t.centerMap.y=-62,t.centerMark.x=40,t.centerMark.y=45)},inMobleControl:function(e){if(!t._hsQ.value())return!1;var a=document.body.getBoundingClientRect(),i=a.right/2,s=a.bottom-50,n=a.bottom/2;50<e.x&&e.x<i&&e.y>n&&e.y<s&&(l.outterObj.style.marginLeft=e.x-l.outterWidth/2+"px",l.outterObj.style.marginTop=e.y-a.bottom-l.outterWidth/2+5+"px",t.removeClass(l.innerObj,"center"),t.removeClass(l.outterObj,"hidden"),l.move=!0)},inMobleControlRight:function(e){if(!t._hsQ.value())return!1;var a=c.outterObj.getBoundingClientRect();e.x>a.x&&e.x<a.x+a.width&&e.y>a.y&&e.y<a.y+a.height&&(t.removeClass(c.innerObj,"center"),c.move=!0,c.markObj=t.UidL.value(),c.markerLabel=c.markObj.label,c.moveRange.x=e.x,c.moveRange.y=e.y,c.moveRange.oldX=c.markObj.position.x,c.moveRange.oldY=c.markObj.position.y)},initControl:function(e){h.getControlRad(e);var a=t.DJF.value.pos.mousemove.x,i=t.DJF.value.pos.mousemove.y,s=t.distanceAndAngleBetweenTwoPoints(e.pointRad.x,e.pointRad.y,a,i),n=e.outterWidth/2,r=h.getAngle((a-e.offset.left+n-e.outterWidth)/e.outterWidth*2,(-(i-e.offset.top+n)+e.outterWidth)/e.outterWidth*2);return n=180/Math.PI*r,h.isInside(s.distance,e.outterWidth)?t.css(e.innerObj,{top:i+"px",left:a+"px",position:"fixed"}):(s=h.getPointRad(r),h.setBtnPosition(s.x,s.y,e)),{degree:n,pos:{x:a,y:i}}},removeMarkerMonster:function(e){e=t.JuEb.value.world.bodies;for(var a=0;a<e.length;a++)/controlRight/i.test(e[a].label)&&t.KdEB.value.remove(t.JuEb.value.world,e[a])}};t.Ge(t.qs("credit-close"),"click",function(e){t.addClass(t.eTz(this,2),"hidden")});for(var p=0,g=t.slice(t.qsAll("loading-header li"));p<g.length;p++)t.Ge(g[p],"click",function(e,a){t.pAo("tab-selected"),2===e?t.removeClass(t.qs("credit-alert"),"hidden"):1===e?t.fullscreenToogle(a):0===e&&(/off/i.test(a.className)?(a.className="speaker-on",d.mute=!1):(a.className="speaker-off",d.mute=!0))}.bind(this,p,g[p]));for(t.scrollSlide(),t.Ge(s,"click",function(t){localStorage.setItem("load",scope.JSONstringfy(owlDATA.jsonData)),location.reload()}),t.Ge(n,"click",function(e){/expand/i.test(this.className)?(t.css(t.qs("menu-save"),{width:"0px",transition:"width 450ms ease-in-out"}),t.css(this,{transform:"0px,0px,0px",transition:"transform 450ms ease-in-out"}),t.removeClass(this,"expand")):(t.css(t.qs("menu-save"),{width:"250px",transition:"width 450ms ease-in-out"}),t.css(this,{transform:"170px,0px,0px",transition:"transform 450ms ease-in-out"}),t.addClass(this,"expand"))}),t.Ge(r,"click",function(e){t.addClass(t.eTz(this,2),"hidden")}),s=t.qs("info-text").getBoundingClientRect(),n=t.qs("init-box").getBoundingClientRect(),r=document.body.getBoundingClientRect(),t.qs("info-text").style.height=(r.bottom-s.top)/1.5+"px",t.qs("init-box").style.maxHeight=(r.bottom-n.top)/2+"px",n=0,r=(s=t.slice(t.qs("nav-info-text").getElementsByTagName("div"))).length;n<r;n++)/checkbox/i.test(s[n].className)&&t.Ge(s[n],"click",function(e,a){e.appendChild(t.qs("check")),t.Uhd.value(a)}.bind(this,s[n],n));for(t.Ge(t.qs("mini-map-mobile"),"click",function(e){/hidden/i.test(t.qs("menu-map-mobile").className)?(t.removeClass(t.qs("menu-map-mobile"),"hidden"),t.removeClass(t.qs("box-map"),"hidden"),(e=t.BVdQ.value)&&(t.qs("progress-exp").style.marginTop="180px",t.qs("progress-exp").style.marginRight="0",e.close=!1)):t.addClass(t.qs("menu-map-mobile"),"hidden")}),t.Ge(t.qs("mini-map"),"click",function(e){e=t.BVdQ.value,this.style.display="none",t.removeClass(t.qs("box-map"),"hidden"),t.qs("menu-map").style.display="block",t._hsQ.value()||(t.qs("info-menu").style.display="block"),t.qs("progress-exp").style.marginTop="180px",t.qs("progress-exp").style.marginRight="0",e.close=!1}),n=0,r=i.length;n<r;n++)t.Ge(i[n],"click",function(e){var a=t.BVdQ.value;0===e||5===e?(a.close=!0,5===e?(t.addClass(t.qs("menu-map-mobile"),"hidden"),t.removeClass(t.qs("mini-map-mobile"),"hidden")):(t.qs("menu-map").style.display="none",t.qs("mini-map").style.display="block",t.qs("info-menu").style.display="none"),t.addClass(t.qs("box-map"),"hidden"),t.qs("progress-exp").style.marginTop="-5px",t.qs("progress-exp").style.marginRight="55px"):(2===e||3===e)&&6<a.mark?(a.map-=.5,a.mark-=2,h.centerMap(a)):(1===e||4===e)&&10>a.mark&&(a.map+=.5,a.mark+=2,h.centerMap(a))}.bind(this,n));t.Ge(a,t.CursorStartEvent,function(e){t.tsSM.value.charObj.isAttacking=!0}),t.Ge(e,t.CursorStartEvent,function(e){t.oval.value.forceGravity&&(t.tsSM.value.charObj.jump=!0)}),t.Ge(document,t.CursorStartEvent,function(e){/hidden/i.test(o.className)&&(h.inMobleControl(t.DJF.value.pos.mousemove),h.inMobleControlRight(t.DJF.value.pos.mousemove))}),t.Ge(document.body,t.CursorMoveEvent,function(e){"die"!==t[t.oval.value.stateStorage].value.storage[0].status?(c.move&&/hidden/i.test(o.className)&&(e=h.initControl(c).pos,t.GWQd.value.setPosition(c.markObj,{x:c.moveRange.oldX+5*(e.x-c.moveRange.x),y:c.moveRange.oldY+5*(e.y-c.moveRange.y)}),t.css(c.outterObj,{"z-index":"2",opacity:"1",transition:"opacity 0.5s linear"})),l.move&&/hidden/i.test(o.className)&&(h.getControlRad(l),35<(e=h.initControl(l).degree)&&65>e?(h.setIdle("right","right"),h.control("up"),h.control("right")):65<e&&115>e?(h.setIdle("up","up"),h.control("up")):115<e&&155>e?(h.setIdle("left","left"),h.control("up"),h.control("left")):155<e&&215>e?(h.setIdle("left","left",!0),h.control("left")):215<e&&245>e?(h.setIdle("left","left"),h.control("down"),h.control("left")):245<e&&295>e?(h.setIdle("down","down"),h.control("down")):(295<e&&335>e?(h.setIdle("right","right"),h.control("down")):h.setIdle("right","right",!0),h.control("right")))):h.setIdle("die")}),t.Ge(document.body,t.CursorEndEvent,function(e){"die"===t[t.oval.value.stateStorage].value.storage[0].status?h.setIdle("die"):!t.tsSM.value.charObj.jump&&h.setIdle("idle"),l.innerObj.setAttribute("style",""),c.innerObj.setAttribute("style",""),t.addClass(l.outterObj,"hidden"),t.addClass(c.outterObj,"center"),l.move=!1,c.move&&(h.removeMarkerMonster(c.markerLabel),t.hSdP.value(),t.ufR.value.objectMarker.state=!1,c.move=!1,t.css(c.outterObj,{"z-index":"0",opacity:"0",transition:"opacity 0.5s linear"}))})},bagAndSkill:function(){setTimeout(function(){var t=this;t.bagLoot.getElementsByTagName("div");var e=t.slice(t.qs("passive-magic").getElementsByTagName("li")),a=t.slice(t.qs("body-box").getElementsByTagName("div")),i=t.slice(t.qs("familia-box").getElementsByTagName("li")),s=t.slice(t.bagLoot.getElementsByTagName("li")).concat([t.slotButtonHp,t.slotButtonMp]).concat(e).concat(a).concat(i),n=[t.slotSkillA,t.slotSkillB,t.slotSkillC,t.id("slot-skill-i"),t.id("slot-skill-j"),t.id("slot-skill-k"),t.id("slot-skill-l"),t.id("slot-skill-m"),t.id("slot-skill-n"),t.id("slot-skill-o"),t.id("slot-skill-p"),t.id("slot-skill-q")],r=t.slice(t.slotPassiveSkill.getElementsByTagName("li")),o=n.concat(r),l=t.slice(t.qs("list-skills").getElementsByTagName("li")),c=t.qs("container-skill"),h=t.slice(t.skillBox.getElementsByTagName("li")).concat(n).concat(r).concat(l),p=window.localStorage,g=t.qs("switch-right-nav"),d=t.qsAll("nav-right"),m=t.qs("gui-player"),u=t.qs("skill-point"),f=t.qs("soul-point"),v=t.qs("upgrade-msg"),b=t.qs("save-msg"),S=t.qs("load-msg"),x=t.qs("load-alert"),B=t.qs("load-alert").getElementsByTagName("button"),k=t.qs("upgrade-header"),y=t.qs("upgrade-alert"),w=t.qs("upgrade-alert").getElementsByTagName("button")[0],M=t.qs("upgrade-msg").getElementsByTagName("button"),A=t.qs("save-msg").getElementsByTagName("button"),P=t.qs("load-msg").getElementsByTagName("button"),D=t.qs("upgrade-msg").getElementsByTagName("p")[1],T=t.qs("static-detail"),O=t.slice(t.qs("control-container-detail").getElementsByTagName("div")),C=t.qs("main-config").getElementsByTagName("li"),j=t.qs("save-detail-cnt"),E=t.qs("menu-save").getElementsByTagName("ul")[0],q=t.qs("save-alert"),N=t.qs("save-alert").getElementsByTagName("button")[0],H=t.qs("dev-note"),F=H.getElementsByTagName("button")[0],R=t.qs("drop-alert"),G=R.getElementsByTagName("button")[0],L=R.getElementsByTagName("button")[1],W=t.slice(t.qs("button-small").getElementsByTagName("div")),I=t.slice(t.qs("hidden-menu").getElementsByTagName("li")),Y=t.qs("box-level"),V=t.qs("monster-params"),_=V.getElementsByTagName("button")[0],X=t.qs("shop-box"),U=X.getElementsByTagName("button")[0],J=t.qs("shop"),z=t.qs("buy-box"),Q=t.qs("buy-box").getElementsByTagName("button")[0],K=t.qs("orientation-alert"),Z=K.getElementsByTagName("button")[0],$=I[0],tt=W[0];i=W[1];var et=W[2],at=W[4],it=W[5],st=(W=W[3],t.slice(t.qs("menu-bag-bottom").getElementsByTagName("li")).slice(2,5)),nt=!1;if(t._hsQ.value()){nt=!0,e=t.slice(t.qs("items-equipment-mb").getElementsByTagName("li"));var rt=t.slice(t.qs("items-hidden-potion-mb").getElementsByTagName("li")),ot=t.slice(t.qs("items-hidden-familiar-mb").getElementsByTagName("li")),lt=t.slice(t.qs("items-bag-mb").getElementsByTagName("li"));s=lt.concat(e).concat(a).concat(ot).concat(rt),st=t.slice(t.qs("control-itembg-mb").getElementsByTagName("div")),T=t.qs("wrap-item-info-mb"),m=t.qs("gui-player-mb");var ct=rt[0],ht=rt[1];u=t.qs("skill-point-mb"),f=t.qs("soul-point-mb");var pt=t.slice(t.qs("items-slot-skill-mb").getElementsByTagName("li"));l=t.slice(t.qs("items-skill-mb").getElementsByTagName("li")),o=n.concat(r).concat(pt),h=t.slice(t.skillBox.getElementsByTagName("li")).concat(n).concat(r).concat(l).concat(pt),j=t.qs("save-detail-cnt-mb"),pt=t.slice(t.qsAll("sc-confirm")),t.addClass(t.qs("upgrader-box"),"mobile"),t.qs("cnt-bag-mb").insertBefore(t.qs("upgrader-box"),t.qs("cnt-bag-mb").firstChild),r=0;for(var gt=pt.length;r<gt;r++)t.addClass(pt[r],"mobile");r=document.getElementsByTagName("html")[0].getBoundingClientRect().height-55,t.css(t.qs("monster-content"),{height:r+"px"})}var dt={HfEI:function(e,a){var i,s=t.NMns.value.get("oval");for(i in s)for(var n in s[i])if(s[i][n]===e&&a===n)return s[i]},APdC:function(e){for(var a={operators:{"+":function(t,e){return t+e},"-":function(t,e){return t-e}},removeNotExistObjectinItem:function(a){a=t.JuEb.value.world.bodies;var i=0,s=e.item.registered.length;t:for(;i<s;i++){for(var n=0,r=a.length;n<r;n++)if(e.item.registered[i]===a[n].label)continue t;e.item.registered.splice(i,1)}},isObjectRegistered:function(t,e,a,i){for(var s=0,n=t.registered.length;s<n;s++){if("check"===a&&t.registered[s]===e){if("attach"===i)return!1;break}if("delete"===a&&t.registered[s]===e){t.registered.splice(s,1);break}}return!0},require:function(e,a,i){return!!this.isObjectRegistered(i.item,a,"check",i.status)&&(e.originalParams||(e.originalParams={},t.extend(e.originalParams,e,!0)),e.modifierAbilities||(e.modifierAbilities={}),"detached"===i.status?this.isObjectRegistered(i.item,a,"delete"):i.item.registered.push(a),!0)},stunOrCriticalChange:function(e,a,i,s){this.require(e,a,i)&&(a="attached"===i.status?"+":"-","attached"===i.status?e.modifierAbilities[s]?e.modifierAbilities[s]=this.operators[a](e.modifierAbilities[s],i.prop.value):((a={})[s]=i.prop.value,t.extend(e.modifierAbilities,a,!0)):e.modifierAbilities[s]=this.operators[a](e.modifierAbilities[s],i.prop.value))},defenseChange:function(t,e,a){if(this.require(t,e,a)){e=t.originalParams.defenseMin;var i="attached"===a.status?"+":"-";t.defenseMax=this.operators[i](t.defenseMax,t.originalParams.defenseMax*a.prop.value/100),t.defenseMin=this.operators[i](t.defenseMin,e*a.prop.value/100)}},magicDefenseChange:function(t,e,a){if(this.require(t,e,a)){e=t.originalParams.magicDefenseMin;var i="attached"===a.status?"+":"-";t.magicDefenseMax=this.operators[i](t.magicDefenseMax,t.originalParams.magicDefenseMax*a.prop.value/100),t.magicDefenseMin=this.operators[i](t.magicDefenseMin,e*a.prop.value/100)}},attackChange:function(t,e,a){if(this.require(t,e,a)){e=t.originalParams.attackRangeMin;var i=t.originalParams.attackMax,s=t.originalParams.attackMin,n="attached"===a.status?"+":"-";t.attackRangeMax=this.operators[n](t.attackRangeMax,t.originalParams.attackRangeMax*a.prop.value/100),t.attackRangeMin=this.operators[n](t.attackRangeMin,e*a.prop.value/100),t.attackMax=this.operators[n](t.attackMax,i*a.prop.value/100),t.attackMin=this.operators[n](t.attackMin,s*a.prop.value/100)}},initControl:function(t,e,a){switch(a.init){case"attack":this.attackChange(t,e,a);break;case"defense":this.defenseChange(t,e,a);break;case"magicDefense":this.magicDefenseChange(t,e,a);break;case"stun":this.stunOrCriticalChange(t,e,a,"stun");break;case"critical":this.stunOrCriticalChange(t,e,a,"critical");break;case"avoid":this.stunOrCriticalChange(t,e,a,"avoid")}}},i=e.prop,s=t.REq.value,n=t.oval.value.pions,r=0,o=i.target.length;r<o;r++)if("character"===i.target[r])a.initControl(s,s.object.label,e);else if("pion"===i.target[r]){for(var l=t.nqAW.value.get("oval"),c=0,h=l.length;c<h;c++)l[c].familiar&&a.initControl(l[c].familiar,l[c].label,e);if(n.length){var p=0;t:for(;p<n.length;p++){var g=n[p].rigBody.itemLabel;for(c=0,h=l.length;c<h;c++)if(l[c].label===g){a.initControl(n[p].rigBody.monsterParameters,n[p].rigBody.label,e);continue t}}}}a.removeNotExistObjectinItem(e),"attached"===e.status&&t.HiQx.value.set(e.item.label,e.item)},eDiX:function(e,a){for(var i=t.nqAW.value.get(t.oval.value.label),s=t.HiQx.value,n=0,r=i.length;n<r;n++){var o;if(!(o="detached"===a))t:{o=0;for(var l=s.storage.length;o<l;o++)if(i[n]&&s.storage[o].name===i[n].label){o=!1;break t}o=!0}if(o&&i[n]&&i[n].label===e&&/lapisGemstone|taintedJewel|greenlightnecklace|redjewel|bluejewel|redgemstone|goldgemstone/i.test(i[n].name)){for(var c in i[n].effect)this.APdC({init:c,prop:i[n].effect[c],label:i[n].label,item:i[n],status:a});break}}},xWpd:function(a){for(var i=t.HiQx.value,s=0,n=e.length;s<n;s++){var r=e[s].getElementsByTagName("div");r.length&&this.eDiX(r[0].getAttribute("label"),"attached")}s=0,n=i.storage.length;t:for(;s<n;s++)if(i.storage[s]){if(!a)for(var o=0,l=e.length;o<l;o++)if((r=e[o].getElementsByTagName("div")).length&&i.storage[s].name===r[0].getAttribute("label"))continue t;this.eDiX(i.storage[s].name,"detached"),i.storage[s]&&t.HiQx.value.remove(i.storage[s].name)}},upgrade:function(e,a,i){var s=this;t.Ge(e,"click",function(){t.pAo("tab-selected"),t.removeClass(v,"hidden");var e=s.HfEI(a,"className");t.text(D,e.detail),t.text(k,e.displayName),v.setAttribute("label",e.label),v.setAttribute("prev-label",i)})},bcWM:function(e){for(var i={healthPotion:{tierA:{root:"magic",item:"healthPotion",type:"small",material:["health potion"]},tierB:{root:"magic",item:"healthMediumPotion",type:"small",material:["health medium potion"]},tierC:{root:"magic",item:"healthStrongPotion",type:"small",material:["health strong potion"]}},manaPotion:{tierA:{root:"magic",item:"manaPotion",type:"small",material:["mana potion"]},tierB:{root:"magic",item:"manaMediumPotion",type:"small",material:["mana medium potion"]},tierC:{root:"magic",item:"manaStrongPotion",type:"small",material:["mana strong potion"]}},nortusShield:{tierA:{root:"dropMonster",item:"nortusShield",type:"small",material:["nortus shield"]}},telsadian:{tierA:{root:"dropMonster",item:"telsadian",type:"small",material:["telsadian fragment"]}},redGemStone:{tierA:{root:"magic",item:"redGemStone",type:"small",material:["red gem stone"]}},taintedJewel:{tierA:{root:"magic",item:"taintedJewel",type:"small",material:["tainted material"]}}},s=t.nqAW.value.get("oval"),n=[],r=e.sacrifice&&e.sacrifice||1,o=0,l=a.length;o<l;o++){var c=a[o].getElementsByTagName("div");if(c.length){c=c[0].getAttribute("label");for(var h=0,p=s.length;h<p;h++)for(var g=0,d=e.enchant.length;g<d;g++)c===s[h].label&&!s[h].enchant&&e.enchant[g]===s[h].type&&s[h].quantity>=r&&n.push(s[h])}}var m;c=e.formula;t:for(m in c)if(i[m])for(r=i[m][c[m]],h=0,p=r.material,o=[],l=l=0;h<p.length;h++){for(g=0;g<n.length;g++)n[g].usage===p[h]&&(o.push(n[g]),l++);if(l===e.enchant.length){for((i=[]).push(e.quantity),n=0,m=o.length;n<m;n++)i.push(o[n].quantity);for(l=e.sacrifice?e.sacrifice:i.sort(function(t,e){return t-e})[0],n=0,m=o.length;n<m;n++)o[n].quantity-=l;e.quantity=e.sacrifice?0:l<e.quantity?e.quantity-l:0,(e=new t.csYe.value[r.root][r.item]({quantity:e.sacrifice?1:l})).bagLocation="slot-upgrd-f",e.enchantment=!0,i.length=0,s.push(e),this.RcxP(e),t.EOd.value(r.item),this.iTZx();break t}}this.iTZx()},upgrader:function(){var e=t.qs("upgrader-box"),i=this;/hidden/i.test(e.className)?t.removeClass(e,"hidden"):t.addClass(e,"hidden"),e=t.qs("head-box").cloneNode(!0),t.qs("head-box").parentNode.replaceChild(e,t.qs("head-box")),t.Ge(e,"click",function(){t.pAo("tab-selected"),t.addClass(this.parentNode,"hidden");for(var e=0;e<a.length;e++)a[e].innerHTML="",i.iTZx(!0)}),e=t.qs("footer-box").cloneNode(!0),t.qs("footer-box").parentNode.replaceChild(e,t.qs("footer-box")),t.Ge(t.qs("footer-box"),"click",function(){if(t.pAo("tab-selected"),!t.id("slot-upgrd-f").getElementsByTagName("div").length)for(var e=t.nqAW.value.get("oval"),s=0,n=a.length;s<n;s++){var r=a[s].getElementsByTagName("div");if(r.length){r=r[0].getAttribute("label");for(var o=0,l=e.length;o<l;o++)if(r===e[o].label&&e[o].enchant){i.bcWM(e[o]);break}}}})},jhfW:function(){var e=t.HYd.value.storage,a=nt?"main-quest-mb":"main-quest",i=nt?"child-quest-mb":"quest-detail",s=function(e){for(var i=t.slice(document.querySelectorAll("."+a+" > li")),s=0,n=i.length;s<n;s++)t.removeClass(i[s],"active");t.addClass(e,"active")},n=function(e){var a=!0,s=function(e){e=t.slice(e.getElementsByTagName("div"));for(var a=0;a<e.length;a++)/click/i.test(e[a].className)&&r.active&&t[r.mapMark]&&t[r.mapMark].value.quest.update.length&&t.removeClass(e[a],"hidden")};for(var n in t.qs(i).innerHTML="",e){var r=e[n];o=document.createElement("li"),(r.active||r.isFinish)&&(t.FusQ.value(r,o),t.qs(i).appendChild(o),a=""===r.mapMark?"dot-quest":"",r.isFinish&&(t.getFirstChild(o).className="quest-tree gold linethrough "+a),a=!1,s(o))}if(a)for(n in e){r=e[n];var o=document.createElement("li");t.FusQ.value(r,o),t.qs(i).appendChild(o),s(o);break}};for(var r in t.qs(i).innerHTML=t.qs(a).innerHTML="",e){var o=e[r].status;if(o){var l=document.createElement("li");t.text(l,o.title),s(l),t.Ge(l,"click",function(e,a){t.pAo("tab-selected"),s(e),n(a)}.bind(this,l,o.questTree)),t.qs(a).insertBefore(l,t.qs(a).firstChild)}}e.length&&n(e[e.length-1].status.questTree)},kFgs:function(){for(var e=t.NMns.value.get(t.oval.value.label),a=0;a<e.length;a++)if(""!==e[a].slotLocation){var i=document.createElement("div");i.className="item clone "+e[a].className,i.setAttribute("label",e[a].label),i.setAttribute("type",e[a].type);var s=document.createElement("div");s.className="time-span time-span-"+e[a].label,i.appendChild(s),(s=document.createElement("div")).className="disable-skill",i.appendChild(s),t.id(e[a].slotLocation).innerHTML="",t.id(e[a].slotLocation).appendChild(i)}},o_fv:function(){var e=t.csYe.value.skills,a=t.REq.value;t.text(u,a.skillPoint),t.text(f,a.soulPoint),soulCnt=nt?t.qs("soul-val-mb"):t.qs("soul-val");for(var i=0,s=t.slice(c.getElementsByTagName("li"));i<s.length;i++)s[i].innerHTML="";i=0;for(var r=n.length;i<r;i++){var o=t.getFirstChild(n[i]);if(o)for(var p in e){var g=e[p];if(o.getAttribute("label")===g.label){var d=document.createElement("div");for(s=0;s<h.length;s++)if(!h[s].getElementsByTagName("div").length&&/slot-skill/i.test(h[s].className)){d.className="item "+g.className,d.setAttribute("label",g.label),d.setAttribute("type",g.type),h[s].appendChild(d);break}}}}for(e=t.csYe.value.skills,i=0,r=l.length;i<r;i++)for(p in s=t.getFirstChild(l[i]),e)g=e[p],s.className.split(" ")[1]===g.className&&(s.innerHTML="",s.parentNode.setAttribute("drag","true"),(e[p].level>a.level||e[p].next&&!e[p].active||/wizard/i.test(e[p].caracterClass)&&!e[p].active)&&(o=document.createElement("div"),divInner=document.createElement("div"),o.className="cover-up",divInner.className="cover-level",t.text(divInner,g.level),o.appendChild(divInner),s.innerHTML="",s.parentNode.setAttribute("drag","false"),s.appendChild(o)),s.setAttribute("label",g.label))},iTZx:function(e){for(var a=t.slotButtonHp.getElementsByTagName("div"),i=t.slotButtonMp.getElementsByTagName("div"),n=t.nqAW.value.get(t.oval.value.label),r=0;r<n.length;r++)for(var o=0;o<s.length;o++)if(s[o]&&n[r]){var l=t.slice(s[o].getElementsByTagName("div")),c=l.length&&n[r].label===l[0].getAttribute("label");if(c&&(l[1]&&1<n[r].quantity&&(t.text(l[1],n[r].quantity),t.removeClass(l[1],"hidden")),0===n[r].quantity&&(t.eTz(l[0],1).innerHTML="",n.splice(r,1))),c||a.length&&n[r].label===a[0].getAttribute("label")||i.length&&n[r].label===i[0].getAttribute("label"))break;o===s.length-1&&n[r].quantity&&this.RcxP(n[r],e)}},xdRQ:function(e){for(var a=t.NMns.value.get(t.oval.value.label),i=t.csYe.value.skills,s=nt?t.qs("innerwrap-info-skill-mb"):t.detailSkill,n=0;n<a.length;n++)if(a[n]&&a[n].label===e){var r=t.qs("familiar-temp-box").getElementsByTagName("div").length,o=t.qs("items-hidden-familiar-mb").getElementsByTagName("li").length;if(r||"undead"===a[n].name?o||t.qs("items-hidden-familiar-mb").appendChild(t.qs("familiar-box-mb")):t.qs("familiar-temp-box").appendChild(t.qs("familiar-box")),r||"undead"!==a[n].name){var l;s.innerHTML="";t:for(l in a[n])if(/displayName|familiar|detail|next|upgradeClass|require/i.test(l)&&"className"!==l){r=document.createElement("li");var c=document.createElement("span"),h=document.createElement("span");if((o=i[a[n].upgradeProperty])&&o.active&&/next|upgradeClass|require/i.test(l))continue t;if("require"===l){var p="skill points : "+a[n][l].skillPoint+", Required Level  : "+a[n][l].level;t.text(c,l),t.text(h,p),r.appendChild(c),r.appendChild(h),p=document.createElement("li"),c=document.createElement("abbr"),t.text(c,"Unlock"),p.className="upgrade-button",p.appendChild(c),dt.upgrade(p,a[n].upgradeClass,e)}else"upgradeClass"===l?((c=document.createElement("div")).className="item "+a[n][l],r.className="box",r.appendChild(c)):"familiar"===l?nt?(r.className="familiar-inner-box-mb",r.appendChild(t.qs("familiar-box-mb"))):(r.className="familiar-inner-box",r.appendChild(t.qs("familiar-box"))):(t.text(c,"displayName"===l?"Name":l),t.text(h,a[n][l]),r.appendChild(c),r.appendChild(h));s.appendChild(r),"require"===l&&o&&!o.active&&s.appendChild(p)}}break}},RcxP:function(e,a){var i=document.createElement("div");i.className="item "+e.className,i.setAttribute("label",e.label);var n=document.createElement("div");if(n.className="item-number hidden",t.text(n,e.quantity),i.appendChild(n),""===e.bagLocation||a){for(n=0;n<s.length;n++)if(!s[n].getElementsByTagName("div").length){s[n].appendChild(i);break}}else t.id(e.bagLocation).appendChild(i)},createDetail:function(e,a){if(e="enchant"===e.toLowerCase()?"Required Material":e,a instanceof Object&&!(a instanceof Array)){if(/magic resistance/i.test(e))var i="magicDefenseMin",s="magicDefenseMax";else/physical resistance/i.test(e)?(i="defenseMin",s="defenseMax"):/range damage/i.test(e)?(i="attackRangeMin",s="attackRangeMax"):/melee damage/i.test(e)?(i="attackMin",s="attackMax"):"displayName"===e&&(e="Name");if(a.originalParams)var n=a.originalParams[i],r=Math.round(Math.round(a[i])-n),o=a.originalParams[s],l=Math.round(Math.round(a[s])-o);else n=Math.round(a[i]),o=Math.round(a[s]);s=document.createElement("li"),i=document.createElement("span");var c=document.createElement("span"),h=document.createElement("abbr"),p=document.createElement("span"),g=document.createElement("abbr");spanStrip=document.createElement("span"),p.className=c.className="static bold",i.className="staticBlock",h.className=g.className="light-blue",t.text(i,e),t.text(c,n),t.text(h," + "+r),t.text(p,o),t.text(g," + "+l),t.text(spanStrip," - "),parseInt(r)&&c.appendChild(h),parseInt(l)&&p.appendChild(g),parseInt(l)&&parseInt(l),s.appendChild(i),s.appendChild(c),s.appendChild(spanStrip),s.appendChild(p)}else s=document.createElement("li"),i=document.createElement("span"),n=document.createElement("span"),r=a instanceof Array,n.className=r?"gold":"",a=r?a.join(", "):a,"Abilities "===e?n.className="light-blue":"displayName"===e?e="Name":"mp"===e&&(e="Required Magic Points"),t.text(i,e),t.text(n,a),s.appendChild(i),s.appendChild(n);return s},charDetail:function(t){var e=t.params;if(nt||(t.box.innerHTML=""),t.box.appendChild(this.createDetail("Level ",Math.round(e.level))),t.box.appendChild(this.createDetail("Health Points ",e.health?e.health+" / "+e.maxHealth:e.maxHealth)),t.box.appendChild(this.createDetail("Magic Points ",e.mp?e.maxMp?e.mp+" / "+e.maxMp:e.mp:e.maxMp)),t.box.appendChild(this.createDetail("Attack Range ",e.range?e.range:e.attackRange)),t.box.appendChild(this.createDetail("Melee Damage",e)),t.box.appendChild(this.createDetail("Range Damage",e)),t.box.appendChild(this.createDetail("Physical Resistance ",e)),t.box.appendChild(this.createDetail("Magic Resistance ",e)),e.modifierAbilities){var a,i=[];for(a in e.modifierAbilities)0<e.modifierAbilities[a]&&i.push(("avoid"===a?"dodge":a)+" "+Math.round(e.modifierAbilities[a])+" %");i.length&&t.box.appendChild(this.createDetail("Abilities ",i.join(" ,  ")))}},skillInfoDetail:function(e){var a=t.csYe.value.skills,i=t.detailInventory;if(/clone/i.test(e.className))return!1;for(var s in a)if(a[s]&&a[s].label===e.getAttribute("label")){for(var n in i.innerHTML="",a[s])/displayName|mp|detail/i.test(n)&&"className"!==n&&i.appendChild(this.createDetail(n,a[s][n]));nt||(e=e.parentNode.getBoundingClientRect(),t.css(t.qs("item-popup"),{top:e.top+"px",left:e.left+5+"px"}));break}},shopDetail:function(t){t.box.innerHTML="";for(var e=0,a=t.items;e<a.length;e++)if(a[e].label===t.label){for(var i in a[e])!/displayName|type|detail/i.test(i)&&"enchant"!==i||"className"===i||t.box.appendChild(this.createDetail(i,a[e][i]));return a[e]}},itemDetail:function(e){var a=t.nqAW.value.get(t.oval.value.label),i=nt?T:t.detailInventory;if(i.innerHTML="",e)for(var s=0;s<a.length;s++)if(a[s]&&a[s].label===e.getAttribute("label")){for(var n in a[s])!/displayName|name|type|detail/i.test(n)&&"enchant"!==n||"className"===n||a[s].displayName&&"name"===n||i.appendChild(this.createDetail(n,a[s][n]));nt||(e=e.parentNode.getBoundingClientRect(),t.css(t.qs("item-popup"),{top:e.top+"px",left:e.left+"px"}));break}},guiPionToogle:function(e){if(/blood-lich/i.test(e.className)){e=e.getAttribute("label");for(var a=nt?T:t.qs("pion-detail"),i=t.nqAW.value.get("oval"),s=0,n=i.length;s<n;s++)if(e===i[s].label){this.charDetail({params:i[s].familiar,box:a});break}if(!nt)var r=0,o=setInterval(function(){t.removeClass(t.qs("familiar-params-box"),"hidden");var e=t.qs("item-popup").getBoundingClientRect(),a=t.qs("familiar-params-box").getBoundingClientRect(),i=document.body.getBoundingClientRect(),s=e.top-(a.height-e.height)/2,n={top:s+"px"};i.bottom<a.bottom&&(n={top:e.top-a.height+e.height+"px"}),s&&e.right?t.css(t.qs("familiar-params-box"),t.extend({position:"absolute",opacity:r,left:e.right+"px"},n)):t.addClass(t.qs("familiar-params-box"),"hidden"),1<++r&&clearInterval(o)},10)}},guiToogle:function(){nt&&/hidden/i.test(m.className)?(t.removeClass(m,"hidden"),this.GUImobile.firstLoad(),this.GUImobile.replaceSkills("attach"),t.pAo("Inventory_Open_01")):/hidden/i.test(m.className)?(t.removeClass(m,"hidden"),t.addClass(document.getElementsByTagName("header")[0],"hidden"),t.addClass(t.qs("nav-bottom-mobile"),"hidden"),t.pAo("Inventory_Open_01")):(t.addClass(m,"hidden"),t.removeClass(document.getElementsByTagName("header")[0],"hidden"),t.removeClass(t.qs("nav-bottom-mobile"),"hidden"),t.pAo("inventory-close"))},activeTab:function(e){var a=t.slice(t.qs("container-menu").getElementsByTagName("li"));t.pAo("tab-selected");for(var i=0,s=a.length;i<s;i++){var n=t.getFirstChild(a[i]);t.removeClass(n,"active-tab"),n.className===e.className&&t.addClass(e,"active-tab")}},selectTab:function(e,a){var i=t.qs("gui-player"),s=[t.bagContainer,t.skillContainer,t.questContainer,t.controlContainer];this.jhfW(),this.charDetail({params:t.REq.value,box:T}),this.iTZx(),this.o_fv(),/hidden/i.test(i.className)?t.removeClass(i,"hidden"):/hidden/i.test(e.className)||dt.guiToogle();for(var n=0;n<s.length;n++)e===s[n]?(t.addClass(e,"active"),t.removeClass(e,"hidden")):(t.addClass(s[n],"hidden"),t.removeClass(s[n],"active"));this.activeTab(a),t.removeClass($,"expand"),t.css(t.qs("hidden-menu"),{transform:"0px,0px,0px",transition:"transform 450ms ease-in-out"}),/hidden/i.test(i.className)?(t.removeClass(document.getElementsByTagName("header")[0],"hidden"),t.removeClass(t.qs("nav-bottom-mobile"),"hidden")):(t.addClass(document.getElementsByTagName("header")[0],"hidden"),t.addClass(t.qs("nav-bottom-mobile"),"hidden"))},emptyBagLocation:function(e){for(var a=t.nqAW.value.get("oval"),i=0,s=a.length;i<s;i++)if(e===a[i].label){a[i].bagLocation="";break}},loadSaveGame:function(){var e=JSON.parse(p.getItem("saveGame"));for(a in e)(e=document.createElement("li")).setAttribute("target",a),t.text(e,a),j.insertBefore(e,j.firstChild),cloneLi=e.cloneNode(!0),E.insertBefore(cloneLi,E.firstChild);var a=document.createElement("li");for(t.text(a,"SAVE NEW GAME"),j.appendChild(a),a=j.getElementsByTagName("li"),e=t.slice(a),a=0;a<e.length;a++)t.Ge(e[a],"click",function(){t.pAo("tab-selected");var e=this.getAttribute("target");if(e){var a=S.getElementsByTagName("p")[0];t.text(a,"Save Game, "+e),t.removeClass(S,"hidden"),S.setAttribute("target",e)}else/hidden/i.test(b.className)?t.removeClass(b,"hidden"):t.addClass(b,"hidden")});for(e=t.slice(E.getElementsByTagName("li")),a=0;a<e.length;a++)t.Ge(e[a],"click",function(){t.pAo("tab-selected");var e=JSON.parse(p.getItem("saveGame"))[this.getAttribute("target")];p.setItem("load",t.JSONstringfy(e)),location.reload()})},loadMenuSaveGame:function(){t.Ge(B[1],"click",function(){t.pAo("tab-selected"),t.addClass(x,"hidden")}),t.Ge(B[0],"click",function(){t.pAo("tab-selected"),dt.saveNewGame(S.getAttribute("target"),!1,!0),t.addClass(x,"hidden")}),t.Ge(P[0],"click",function(){t.pAo("tab-selected");var e=JSON.parse(p.getItem("saveGame"))[S.getAttribute("target")];p.setItem("load",t.JSONstringfy(e)),location.reload()}),t.Ge(P[1],"click",function(){t.pAo("tab-selected"),t.removeClass(x,"hidden"),t.addClass(S,"hidden")}),t.Ge(P[2],"click",function(){t.pAo("tab-selected"),t.addClass(S,"hidden")}),t.Ge(N,"click",function(){t.pAo("tab-selected"),t.addClass(q,"hidden")}),t.Ge(A[1],"click",function(){t.pAo("tab-selected"),t.addClass(b,"hidden")}),t.Ge(A[0],"click",function(){t.pAo("tab-selected");var e=t.eTz(this,2).getElementsByTagName("input")[0],a=t.UTa(e.value);a.length?dt.saveNewGame(a,e):e.focus()})},saveNewGame:function(e,a,i){var n=JSON.parse(p.getItem("saveGame"));if(n&&4>Object.keys(n).length||null===n||i){i=t.nqAW.value.get(t.oval.value.label);var r=t.NMns.value.get(t.oval.value.label);dt.checkBagLocation(s,i,"bag"),dt.checkBagLocation(o,r,"skill"),t.BdWd.value("enable"),i=t.nqAW.value.get("oval"),r=t.REq.value;var l=t.HYd.value.storage,c=t.NMns.value.get("oval");if(activeMap=t.ThQ.value,regMagicItem=t.HiQx.value.storage,itemShop=t.itemShop.value.get("global"),forceGravity=t.oval.value.forceGravity,test=!0,pathPoint={pathPoint:t.hEP.value[activeMap].content.staticOriGroupPathPoints[0].position,userPoint:t.oval.value.position,map:activeMap},format={charPoints:pathPoint,charBag:i,charParams:r,charQuest:l,charForceGravity:forceGravity,regMagicItem:regMagicItem,charSkills:t.JSONstringfy(c),systemSkills:t.JSONstringfy(t.csYe.value.skills),itemShop:itemShop},t.addClass(b,"hidden"),t.addClass(S,"hidden"),i={},n){for(var h in n)if(h===e){n[h]=format,test=!1;break}i[e]=format,test&&t.extend(n,i)}else n={},i[e]=format,t.extend(n,i);e=t.JSONstringfy(n),p.setItem("saveGame",e),j.innerHTML="",dt.loadSaveGame()}else t.removeClass(q,"hidden"),t.addClass(b,"hidden");a&&(a.value="")},kHvx:function(){var e=setInterval(function(){t.qeH_.value&&(t.qeH_.value=function(){dt.charDetail({params:t.REq.value,box:T}),dt.iTZx(),dt.o_fv(),dt.kFgs()},clearInterval(e),t.TBhT.value=dt.saveNewGame)},100)},checkLoadGame:function(){var e=p.getItem("load");if(e)var a=JSON.parse(e),i=setInterval(function(){t.GdwD.value&&(t.GdwD.value(a.charPoints.map,a),t.addClass(t.qs("loading-ui"),"hidden"),p.removeItem("load"),clearInterval(i))},100);else t.removeClass(t.qs("loading-ui"),"hidden")},checkBagLocation:function(e,a,i){for(var s=0;s<a.length;s++)"bag"===i?a[s].bagLocation="":a[s].slotLocation="";for(var n=0;n<e.length;n++){var r=t.getFirstChild(e[n]);if(r.getAttribute){var o=r.getAttribute("label");if(o)for(s=0;s<a.length;s++)if(o===a[s].label){"bag"===i?a[s].bagLocation=r.parentNode.id:a[s].slotLocation=r.parentNode.id;break}}}},GUImobile:{isFirstLoad:!1,heightInventory:0,transformInventory:0,itemWWHH:{inventory:0,skill:0},previousItem:"",firstLoad:function(t){this.layoutMobile(),this.hideItemCntOverflow("hidden"),this.isFirstLoad||(this.tabsInventory(),this.tabsMainGUI(t),this.tabsControl(),this.isFirstLoad=!0)},hideItemCntOverflow:function(e){for(var a=t.qs("items-bag-mb").getBoundingClientRect(),i=0,s=lt.length;i<s;i++)if("hidden"===e){var n=lt[i].getBoundingClientRect();lt[i].style.opacity=a.bottom<n.bottom||n.top+5<a.top?0:1}else lt[i].style.opacity=1},replaceSkills:function(e){var a=t.slice(t.qs("items-slot-skill-mb").getElementsByTagName("li")),i=t.slice(t.qsAll("slot-mb")),s=function(t,e){for(var a=0,i=t.length;a<i;a++){var s=t[a].getElementsByTagName("div"),n=t[a].getAttribute("att");if(s.length)for(var r=0,o=e.length;r<o;r++)if(n===e[r].getAttribute("att")){s[0].setAttribute("style",""),e[r].appendChild(s[0]);break}}};"attach"===e?s(i,a):s(a,i)},replaceSekleton:function(e){var a=function(e){for(var a=0;a<ot.length;a++){var i=ot[a].getElementsByTagName("div");"inventory"===e?ot[a].setAttribute("style",""):t.css(ot[a],{width:this.itemWWHH[e]+"px",height:this.itemWWHH[e]+"px"}),i.length&&t.css(i[0],{width:this.itemWWHH[e]+"px",height:this.itemWWHH[e]+"px"})}}.bind(this);"attach"===e?(t.qs("items-hidden-familiar-mb").appendChild(t.qs("familiar-box-mb")),a("inventory")):(e=t.qs("familiar-inner-box-mb"))&&(e.appendChild(t.qs("familiar-box-mb")),a("skill"))},replacePotions:function(e){var a=ct.getElementsByTagName("div"),i=ht.getElementsByTagName("div"),s=t.slotButtonHp.getElementsByTagName("div"),n=t.slotButtonMp.getElementsByTagName("div");"attach"===e?(a.length&&t.slotButtonHp.appendChild(a[0]),i.length&&t.slotButtonMp.appendChild(i[0])):(s.length&&ct.appendChild(s[0]),n.length&&ht.appendChild(n[0]))},infoItemToogle:function(e,a){"char"===e?(t.removeClass(t.qs("item-info-detail"),"active"),t.addClass(t.qs("chara-info-detail"),"active"),dt.charDetail({params:t.REq.value,box:T})):(t.removeClass(t.qs("chara-info-detail"),"active"),t.addClass(t.qs("item-info-detail"),"active"),dt.itemDetail(a),dt.guiPionToogle(a),this.previousItem=a)},layoutMobile:function(){var e=t.qs("items-bag-mb").offsetHeight;t.css(t.qs("items-bag-mb"),{width:e+"px"});var a=t.qs("items-bag-mb").offsetHeight/5;t.css(t.qs("items-equipment-mb"),{width:a+"px"}),t.css(t.qs("items-hidden-potion-mb"),{width:a+"px",height:e+"px","margin-left":-(a+30)+"px"}),t.css(t.qs("items-hidden-familiar-mb"),{width:a+"px",height:e+"px","margin-left":-(a+30)+"px"});var i=t.qs("cnt-bag-mb").offsetWidth-e-a-35;t.css(t.qs("items-info-mb"),{width:i+"px"}),i=(e=t.qs("items-skill-mb").offsetHeight)/5,t.css(t.qs("items-skill-mb"),{width:e-i+"px"});var s=t.qs("items-skill-mb").getElementsByTagName("li");e=s[0].offsetWidth;for(var n=0;n<s.length;n++)t.css(s[n],{height:e-2+"px"});s=t.qs("items-slot-skill-mb").getElementsByTagName("li");var r=t.qs("items-slot-skill-mb").getElementsByTagName("ul")[0];for(t.css(t.qs("items-slot-skill-mb"),{width:2*(e-2)+4+"px"}),n=0;n<s.length;n++)t.css(s[n],{width:e-2+"px",height:e-2+"px"});t.css(r,{"margin-top":i+"px"}),i=t.qs("cnt-skill-mb").offsetWidth-t.qs("items-skill-mb").offsetWidth-t.qs("items-slot-skill-mb").offsetWidth-35,t.css(t.qs("items-info-skill-mb"),{width:i+"px"}),i=t.qs("items-quest-mb").offsetHeight,t.css(t.qs("items-quest-mb"),{width:i+"px"}),i=t.qs("cnt-quest-mb").offsetWidth-t.qs("items-quest-mb").offsetWidth-15,t.css(t.qs("items-info-quest-mb"),{width:i+"px","margin-left":"15px"}),i=t.qs("items-control-mb").offsetHeight,t.css(t.qs("items-control-mb"),{width:i-i/4+"px"}),i=t.qs("cnt-control-mb").offsetWidth-t.qs("items-control-mb").offsetWidth-15,t.css(t.qs("items-info-control-mb"),{width:i+"px","margin-left":"15px"}),this.heightInventory=5*t.id("slot-a-mb").offsetHeight,this.transformInventory=-(a+30),this.itemWWHH.inventory=a,this.itemWWHH.skill=e-2},tabsInventory:function(){t.Ge(t.qs("chara-info-detail"),"click",function(){t.pAo("tab-selected"),T.innerHTML="",this.infoItemToogle("char")}.bind(this)),t.Ge(t.qs("item-info-detail"),"click",function(){t.pAo("tab-selected"),T.innerHTML="",this.infoItemToogle("item",this.previousItem)}.bind(this))},tabsMainGUI:function(e){for(var a=t.slice(t.qs("container-menu-mb").getElementsByTagName("li")),i=a.splice(0,4),s=t.slice(document.querySelectorAll(".tab-list-content-mb > li")),n=0;n<i.length;n++)t.Ge([i[n],I[n+1]],"click",function(e,a){t.removeClass(m,"hidden");for(var n=0;n<i.length;n++)t.removeClass(i[n],"active-tab-mb"),t.removeClass(s[n],"active-detail-mb");t.addClass(e,"active-tab-mb"),t.addClass(s[a],"active-detail-mb"),this.layoutMobile(),this.replaceSkills("attach"),t.scrollSlideParams.fn(),0===a?this.replaceSekleton("attach"):1===a&&this.replaceSekleton("detached"),dt.jhfW(),t.removeClass($,"expand"),t.css(t.qs("hidden-menu"),{transform:"0px,0px,0px",transition:"transform 450ms ease-in-out"}),t.pAo("tab-selected")}.bind(this,i[n],n));t.Ge(a[0],"click",function(){t.addClass(t.qs("gui-player-mb"),"hidden"),this.replaceSkills("detached"),t.pAo("inventory-close")}.bind(this))},tabsControl:function(){for(var e=t.slice(t.qs("items-control-mb").getElementsByTagName("li")),a=0,i=e.length;a<i;a++)t.Ge(e[a],"click",function(e,a){for(var i=0,s=e.length;i<s;i++)t.removeClass(e[i],"active");t.addClass(t.qs("tab-performance-mb"),"hidden"),t.addClass(t.qs("tab-save-game-mb"),"hidden"),0===a?(t.removeClass(t.qs("tab-performance-mb"),"hidden"),t.addClass(e[a],"active")):1===a&&(t.removeClass(t.qs("tab-save-game-mb"),"hidden"),t.addClass(e[a],"active")),t.pAo("tab-selected")}.bind(this,e,a))}},initShop:function(){var e=this,a=t.qs("shop-detail"),i=t.qs("shop-detail-item"),s={selected:{charaterParams:t.REq.value,characterLoot:t.nqAW.value.get("oval"),attach:!1,item:"",current:1,itemParams:"",initialTimeOut:"",initialTimeInverval:"",reset:function(){this.itemParams=this.item="",this.current=1}},objectItems:[],items:t.itemShop.value.get("global"),displayBuyProperties:function(e,a){document.createElement("li");var i=document.createElement("div"),n=document.createElement("abbr"),r=t.qs("buy-item-content"),o=t.qs("buy-title"),l=t.qs("buy-text"),c=t.qs("price-display");if(a=s.selected,t.text(n," S.CRISTALS "+a.charaterParams.soulPoint),t.text(o,e.name),t.text(l,e.shop.price+" x 1"),i.className="item "+e.className,i.setAttribute("label",e.label),n.className="gold",o.appendChild(n),r.innerHTML="",r.appendChild(i),a.itemParams=e,t.text(c,e.shop.price*a.current),!a.attach){a.attach=!0,i=t.qs("buy-button-plus"),n=t.qs("buy-button-min"),r=t.qs("buy-button-confirm");var h=function(e){var i=a.itemParams;a.current<i.shop.max&&i.shop.price*(a.current+1)<a.charaterParams.soulPoint&&a.current++,t.text(l,i.shop.price+" x "+a.current),t.text(c,i.shop.price*a.current),t.css(e,{"background-size":"30%"})},p=function(e){var i=a.itemParams;1<a.current&&a.current--,t.text(l,i.shop.price+" x "+a.current),t.text(c,i.shop.price*a.current),t.css(e,{"background-size":"30%"})};t.Ge(r,"click",function(){var e=a.itemParams,i=e.shop.price*a.current,n=s.items[e.shop.itemName];i<=a.charaterParams.soulPoint?(a.charaterParams.soulPoint-=i,a.characterLoot.push(new t.csYe.value[e.shop.root][e.shop.itemName]({quantity:a.current})),"~"!==n.available&&s.items[e.shop.itemName].available--,t.hDwB.value("+"+a.current+" "+e.displayName+" TO BE ADDED TO INVENTORY",400)):t.hDwB.value("NOT ENOUGH SOUL CRISTAL",400),t.addClass(X,"hidden"),t.addClass(z,"hidden"),a.reset()}),t.Ge([i,n],t.CursorStartEvent,function(){var t=this,e=/buy-button-plus/i.test(t.className)?h:p;clearTimeout(a.initialTimeOut),clearInterval(a.initialTimeInverval),a.initialTimeOut=setTimeout(function(){a.initialTimeInverval=setInterval(function(){e(t)},100)},1e3),e(t)}),t.Ge([i,n],t.CursorEndEvent,function(){clearTimeout(a.initialTimeOut),clearInterval(a.initialTimeInverval),t.css(this,{"background-size":"35%"})})}},createItem:function(e){var a=document.createElement("li"),i=document.createElement("div"),s=document.createElement("span"),n=new t.csYe.value[e.root][e.itemName],r=n.className;return e.shopParams.itemName=e.itemName,t.extend(n,{shop:e.shopParams},!0),i.setAttribute("label",n.label),i.className="item "+r,s.className="price",t.text(s,e.price),a.appendChild(i),a.appendChild(s),this.objectItems.push(n),a},generateItems:function(){for(var t in this.items){var e=this.items[t];e.available&&(e=this.createItem({price:e.price,root:e.root,itemName:t,shopParams:e}),this.attachEvent(e),a.appendChild(e))}},attachEvent:function(a){var n="",r=a.getElementsByTagName("div")[0],o=function(){t.removeClass(i,"hidden");var r=t.getFirstChild(a),o=a.getBoundingClientRect(),l=t.DJF.value.pos.mousedown.x,c=t.getFirstChild(X).getBoundingClientRect(),h=i.getBoundingClientRect(),p=c.left+c.width/2;i.setAttribute("style",""),o.right>p?t.css(i,{left:(nt?o.left:l)-(nt?h.width:c.left+h.width+o.width/2)+"px","border-right":"2px solid rgba( 0, 0, 0, 0.33 )","text-align":"right",position:"fixed"}):t.css(i,{left:(nt?o.left:l)+o.width-c.left-(nt?0:o.width/2)+"px","border-left":"2px solid rgba( 0, 0, 0, 0.33 )","text-align":"left",position:"fixed"}),n=e.shopDetail({box:i,items:s.objectItems,label:r.getAttribute("label")})};t.Ge(r,t.CursorStartEvent,o),t.Ge(r,t.CursorMoveEvent,o),t.Ge(r,t.CursorLeaveEvent,function(e){t.addClass(i,"hidden")}),t.Ge(r,t.CursorEndEvent,function(e){s.displayBuyProperties(n),t.removeClass(z,"hidden")}),t.Ge(X,t.CursorEndEvent,function(e){t.addClass(i,"hidden")})}};t.Ge(J,"click",function(e){s.items=t.itemShop.value.get("global"),s.selected.charaterParams=t.REq.value,s.selected.characterLoot=t.nqAW.value.get("oval"),a.innerHTML="",s.generateItems(),t.removeClass(X,"hidden"),t.pAo("tab-selected")}),t.Ge(U,"click",function(e){t.addClass(X,"hidden"),t.pAo("tab-selected")}),t.Ge(Q,"click",function(e){t.addClass(z,"hidden"),t.pAo("tab-selected"),s.selected.reset()})},objDiscard:"",initDropItem:function(e){var a=this;e?"open"===e&&t.eTz(a.objDiscard,2)&&t.removeClass(R,"hidden"):(t.Ge(G,"click",function(e){t.addClass(R,"hidden")}),t.Ge(L,"click",function(){for(var e=t.nqAW.value.get("oval"),i=0,s=e.length;i<s;i++)if(e[i]&&e[i].label===a.objDiscard.getAttribute("label")){t.LKe.value(e[i]),t.addClass(R,"hidden"),e.splice(i,1);break}a.objDiscard.remove()}))},hDcO:function(){t.Ge(Y,"click",function(e){if(/hidden/i.test(V.className)){t.removeClass(V,"hidden"),e=t.monsterParameters.value.get(t.jgeE.value);var a=t.qs("content-detail"),i=t.qs("monster-title");a.innerHTML="",t.text(i,e.name),dt.charDetail({params:e,box:a})}else t.addClass(V,"hidden")}),t.Ge(_,"click",function(e){t.addClass(V,"hidden")})},iddD:function(){t.Ge(M[0],"click",function(){var e=v.getAttribute("label"),a=v.getAttribute("prev-label");e=dt.HfEI(e,"label");for(var i=t.REq.value,s=t.NMns.value.get(t.oval.value.label),n=t.csYe.value.skills,r=0;r<s.length;r++)if(s[r].label===a){if(i.skillPoint>=s[r].require.skillPoint&&i.level>=s[r].require.level){for(var o in i.skillPoint-=s[r].require.skillPoint,n)n[o].label===e.label&&(n[o].active=!0);e.active=!0,dt.xdRQ(e.label),dt.o_fv()}else t.removeClass(y,"hidden");t.addClass(v,"hidden");break}t.pAo("tab-selected")}),t.Ge(w,"click",function(){t.pAo("tab-selected"),t.addClass(y,"hidden")}),t.Ge(M[1],"click",function(){t.pAo("tab-selected"),t.addClass(v,"hidden")})},_dWC:function(){t.Ge(Z,"click",function(){t.addClass(K,"hidden")}),t.Ge(F,"click",function(){t.addClass(H,"hidden")})},StS:function(){var e=t.slice(t.qs("preload-alert").getElementsByTagName("button"));t.Ge(e[0],"click",function(){t.addClass(t.qs("preload-alert"),"hidden"),t.pAo("tab-selected")}),t.Ge(e[1],"click",function(){var e=JSON.parse(localStorage.getItem("saveGame"))["Auto Save"];if( e ){ localStorage.setItem("load",t.JSONstringfy(e)),t.addClass(t.qs("preload-alert"),"hidden"),t.pAo("tab-selected"),location.reload()}else{localStorage.setItem( 'load', scope.JSONstringfy( owlDATA.jsonData ) );location.reload();}}),t.Ge(e[2],"click",function(){t.JngT.value(),t.addClass(t.qs("preload-alert"),"hidden"),t.pAo("tab-selected")}),e=t.slice(t.qs("exit-alert").getElementsByTagName("button")),t.Ge(e[0],"click",function(){t.addClass(t.qs("exit-alert"),"hidden"),t.pAo("tab-selected")}),t.Ge(e[1],"click",function(){location.reload(),t.pAo("tab-selected")})},rASe:function(){t.YFjd.value.set("auto-save",{always:!0,tick:12e3,tickUpdate:12e3,fn:function(){t.hDwB.value("saving your progress ",100),t.TBhT.value("Auto Save","",!0)}})}};for(t.Ge(g,"click",function(){for(var e=0,a=d.length;e<a;e++)/hidden/i.test(d[e].className)?t.removeClass(d[e],"hidden"):t.addClass(d[e],"hidden")}),dt.iddD(),dt.checkLoadGame(),dt.kHvx(),dt.loadSaveGame(),nt&&dt.GUImobile.firstLoad(),dt.hDcO(),dt.initShop(),dt.initDropItem(),dt.loadMenuSaveGame(),dt._dWC(),dt.StS(),dt.rASe(),r=0;r<C.length;r++)t.Ge(C[r],"click",function(){if(t.pAo("tab-selected"),this.getAttribute("target")){for(var e=0;e<O.length;e++)O[e].getAttribute("target")&&t.addClass(O[e],"hidden");for(e=0;e<C.length;e++)t.removeClass(C[e],"selected");t.removeClass(t.qs([this.getAttribute("target")]),"hidden"),t.addClass(this,"selected")}else t.removeClass(t.qs("exit-alert"),"hidden")});for(t.Ge($,"click",function(){/expand/i.test(this.className)?(t.removeClass(this,"expand"),t.css(t.qs("hidden-menu"),{transform:"0px,0px,0px",transition:"transform 450ms ease-in-out"})):(t.addClass(this,"expand"),t.css(t.qs("hidden-menu"),{transform:"-195px,0px,0px",transition:"transform 450ms ease-in-out"}))}),r=0,g=[t.controlTab,tt];r<g.length;r++)t.Ge(g[r],"click",function(){dt.selectTab(t.controlContainer,t.controlTab)});for(r=0,g=[t.questTab,i];r<g.length;r++)t.Ge(g[r],"click",function(){dt.selectTab(t.questContainer,t.questTab)});for(r=0,g=[t.skillTab,et];r<g.length;r++)t.Ge(g[r],"click",function(){dt.selectTab(t.skillContainer,t.skillTab)});for(r=0,g=[t.bagTab,W];r<g.length;r++)t.Ge(g[r],"click",function(e){dt.selectTab(t.bagContainer,t.bagTab)});for(t.Ge(at,"click",function(){t.fullscreenToogle(this),t.pAo("tab-selected")}),t.Ge(it,"click",function(){/off/i.test(this.className)?(this.className="speaker-on",owlDATA.mute=!1):(this.className="speaker-off",owlDATA.mute=!0),t.pAo("tab-selected")}),t.Ge(t.slotPassiveSkill,"click",function(e){e.target===this&&(e=this.getElementsByTagName("div")[0],/hidden/i.test(e.className)?t.removeClass(e,"hidden"):t.addClass(e,"hidden"))}),t.Ge(t.bagButton,"click",function(){dt.charDetail({params:t.REq.value,box:T}),dt.iTZx(),dt.iTZx(),dt.o_fv(),dt.guiToogle(),dt.jhfW(),t.scrollSlideParams.fn()}),t.Ge(t.qs("close-btn-skill"),"click",function(){t.addClass(t.qs("list-skills"),"hidden"),t.qs("button-skills").style.backgroundImage="url("+t.path+"/plus.png)"}),t.Ge(t.qs("close-quest"),"click",function(e){/hidden/i.test(t.qs("init-box").className)?(t.removeClass(t.qs("init-box"),"hidden"),this.style.backgroundImage="url("+t.path+"/minus.png)"):(t.addClass(t.qs("init-box"),"hidden"),this.style.backgroundImage="url("+t.path+"/plus.png)")}),t.Ge(t.qs("button-skills"),"click",function(){/hidden/i.test(t.qs("list-skills").className)?(t.removeClass(t.qs("list-skills"),"hidden"),t.qs("button-skills").style.backgroundImage="url("+t.path+"/minus.png)"):(t.addClass(t.qs("list-skills"),"hidden"),t.qs("button-skills").style.backgroundImage="url("+t.path+"/plus.png)")}),r=0;r<n.length;r++)t.Ge(n[r],"click",function(){var e=this.getElementsByTagName("div")||this.getElementsByTagName("li");if(e.length){var a=e[0].getAttribute("label"),i=t.NMns.value.get(t.oval.value.label);charParams=t.REq.value;for(var s=0;s<i.length;s++)if(i[s].label===a&&i[s].state&&(/undead|aqua-heal|aqua-spirit/i.test(i[s].name)||t.jgeE.value)&&charParams.mp>i[s].mp){if(i[s].active&&charParams.level>=i[s].level&&!i[s].disable){i[s].firstLoad=!1,t.NMns.value.set("initial",{label:a,state:!0,target:e[0]});break}}else i[s].label!==a||i[s].disable||t.jgeE.value||!charParams.health||t.hDwB.value("SKILL'll ACTIVE WHEN TARGET IS SELECTED  AND WITHIN ATTACK RANGE   ",100)}});var mt={move:!1,startX:0,startY:0,endX:0,endY:0,startItem:"",endItem:"",itemName:!0};for(r=0;r<h.length;r++)t.Ge(h[r],t.CursorMoveEvent,function(e){!mt.move&&t.getFirstChild(this)&&mt.itemName!==t.getFirstChild(this).className&&(e=t.getFirstChild(this),dt.skillInfoDetail(e),/clone/i.test(e.className)?t.addClass(t.qs("item-popup"),"hidden"):t.removeClass(t.qs("item-popup"),"hidden"),mt.itemName=e.className)}),t.Ge(h[r],t.CursorLeaveEvent,function(e){t.addClass(t.qs("item-popup"),"hidden"),mt.itemName=!0}),t.Ge(h[r],t.CursorStartEvent,function(e){if((e=this.getElementsByTagName("div")).length&&!mt.move){var a=e[0].getBoundingClientRect();mt.startX,t.DJF.value.pos.mousedown.x,mt.clientX,mt.startX=a.left,mt.startY=a.top,mt.move=!0,mt.bugMove=!0,mt.startItem=e[0],dt.xdRQ(mt.startItem.getAttribute("label")),dt.GUImobile.replaceSekleton("detached"),/container-skill/i.test(t.eTz(e[0],3).className)&&t.addClass(t.qs("list-skills"),"hidden")}});t.Ge(document.body,t.CursorMoveEvent,function(e){if((e=mt.move)&&(e=!(e=mt.startItem.parentNode.getAttribute("drag"))||"false"!==e),e){e=t.DJF.value.pos.mousemove.x;var a=t.DJF.value.pos.mousemove.y;t.addClass(t.qs("item-popup"),"hidden"),mt.bugMove&&(mt.clientX=e,mt.clientY=a,mt.bugMove=!1),t.css(mt.startItem,{top:mt.startY+(a-mt.clientY)+"px",left:mt.startX+(e-mt.clientX)+"px",width:mt.startItem.parentNode.offsetWidth+"px ",height:mt.startItem.parentNode.offsetHeight+"px ",position:"fixed","z-index":"1"})}}),t.Ge(document.body,t.CursorEndEvent,function(e){var a;if(t.id("nav").appendChild(t.qs("item-popup")),e=t.getRelativeMousePositionToRegisterObject(o),a=mt.move&&!!e)t:{for(a=0;a<o.length;a++){var i=o[a].getElementsByTagName("div");if(i.length&&i[0].getAttribute("label")===mt.startItem.getAttribute("label")){a=!1;break t}}a=!0}if(a){a=(e=t.id(e)).getBoundingClientRect(),i=mt.startItem.cloneNode(!0);var s=/active/i.test(e.className)?"active":"passive";if(i.className+=" clone",i.innerHTML="",mt.startItem.getAttribute("type")===s){t.pAo("item-drop"),e.innerHTML="",(s=document.createElement("div")).className="time-span time-span-"+i.getAttribute("label");var n=document.createElement("div");n.className="disable-skill",i.appendChild(n),i.appendChild(s),e.appendChild(i),t.css(i,{top:a.top+"px",left:a.left+"px",width:e.offsetWidth+"px",height:e.offsetHeight+"px",position:""}),t.css(mt.startItem,{top:mt.startY+"px",left:mt.startX+"px",position:""}),nt||(dt.o_fv(),t.addClass(t.qs("list-skills"),"hidden")),t.JnsH.value(),t.BegQ.value("pass")}else t.css(mt.startItem,{top:mt.startY+"px",left:mt.startX+"px",position:""})}else t.css(mt.startItem,{top:mt.startY+"px",left:mt.startX+"px",position:""});/active/i.test(!!mt.startItem.parentNode&&mt.startItem.parentNode.className)&&(e=t.DJF.value.pos.mouseup.x,a=t.DJF.value.pos.mouseup.y,e||a||(e=t.DJF.value.pos.mousemove.x,a=t.DJF.value.pos.mousemove.y,t.DJF.value.pos.mouseup.x=e,t.DJF.value.pos.mouseup.y=a),(i=mt.startItem.getBoundingClientRect()).right>e&&i.left<e&&i.top<a&&i.bottom>a||!mt.move||(mt.startItem.parentNode.innerHTML="",dt.o_fv())),nt&&!/hidden/i.test(m.className)&&t.addClass(t.qs("item-popup"),"hidden"),mt.move=!1});var ut,ft,vt,bt=!1,St=0,xt=0,Bt="",kt=!0,yt=function(e){if(nt)a=t.slice(e.parentNode.getElementsByTagName("div")),/control-bagA-mb/i.test(e.className)?t.css(t.qs("bag-wrap-mb"),{"margin-top":"0px"}):/control-bagB-mb/i.test(e.className)?t.css(t.qs("bag-wrap-mb"),{"margin-top":-dt.GUImobile.heightInventory+"px"}):/control-bagC-mb/i.test(e.className)&&t.css(t.qs("bag-wrap-mb"),{"margin-top":2*-dt.GUImobile.heightInventory+"px"}),dt.GUImobile.hideItemCntOverflow("show");else{var a=t.slice(e.parentNode.getElementsByTagName("li"));/loot-c/i.test(e.className)?t.css(t.qs("bag-wrap"),{"margin-top":"0px"}):/loot-b/i.test(e.className)?t.css(t.qs("bag-wrap"),{"margin-top":"-250px"}):/loot-a/i.test(e.className)&&t.css(t.qs("bag-wrap"),{"margin-top":"-500px"})}for(var i=0;i<a.length;i++)t.removeClass(a[i],"active");t.addClass(e,"active")};for(t.Ge([t.qs("bag-loot-container"),t.qs("inventory-detail-mb")],t.CursorMoveEvent,function(e){if(bt)for(e=0;e<st.length;e++){var a=st[e].getBoundingClientRect(),i=t.DJF.value.pos.mousemove.x,s=t.DJF.value.pos.mousemove.y;i>a.x&&i<a.x+a.width&&s>a.y&&s<a.y+a.height&&yt(st[e])}}),r=0;r<st.length;r++)t.Ge(st[r],"click",function(){yt(this),nt&&dt.GUImobile.hideItemCntOverflow("hidden")});for(r=0;r<s.length;r++)t.Ge(s[r],t.CursorMoveEvent,function(e){!bt&&t.getFirstChild(this)&&kt!==t.getFirstChild(this).className&&(e=t.getFirstChild(this),!/slot-button/i.test(this.className)&&e.getAttribute("label")&&(dt.itemDetail(e),t.removeClass(t.qs("item-popup"),"hidden"),kt=e.className,t.removeClass(t.qs("item-popup"),"hidden"),dt.guiPionToogle(e)))}),t.Ge(s[r],t.CursorLeaveEvent,function(e){t.addClass(t.qs("item-popup"),"hidden"),t.addClass(t.qs("familiar-params-box"),"hidden"),kt=!0}),t.Ge(s[r],t.CursorStartEvent,function(e){if((e=this.getElementsByTagName("div")).length&&!bt){var a=e[0].getBoundingClientRect();if(nt){if(!/hidden/i.test(m.className)){n=e[0],dt.GUImobile.infoItemToogle("item",n),t.css(t.qs("items-hidden-potion-mb"),{display:"none"});for(var i=rt.concat(ot),s=0;s<i.length;s++)i[s].style.opacity=1;t.css(t.qs("items-hidden-familiar-mb"),{display:"none"}),t.gJE.value=!1,/slot-upgrd/i.test(n.parentNode.id)?(t.css(t.qs("items-bag-mb"),{"z-index":"1"}),t.css(t.qs("upgrader-box"),{"z-index":"2"}),t.css(t.qs("items-equipment-mb"),{"z-index":"1"})):/slot-magic/i.test(n.parentNode.id)?(t.css(t.qs("items-equipment-mb"),{"z-index":"2"}),t.css(t.qs("items-bag-mb"),{"z-index":"1"}),t.css(t.qs("upgrader-box"),{"z-index":"1"})):(t.css(t.qs("items-bag-mb"),{"z-index":"2"}),t.css(t.qs("upgrader-box"),{"z-index":"2"}),t.css(t.qs("items-equipment-mb"),{"z-index":"1"})),n.setAttribute("style",""),t.removeClass(n,"force-overflow"),n=t.slice(t.qsAll("wrap-item-detail-mb > div")),cnt=n[0],scroll=n[1],t.css(cnt,{transform:"0px,0px,0px"}),t.css(scroll,{transform:"0px,0px,0px"})}}else if(/slot-upgrd/i.test(e[0].parentNode.id)?t.css(t.qs("bag-loot"),{"z-index":"1"}):t.css(t.qs("bag-loot"),{"z-index":"2"}),t.css(t.qs("upgrader-box"),{"z-index":"2"}),/passive-magic/i.test(t.eTz(e[0],3).className)&&(t.css(t.qs("bag-loot"),{"z-index":"1"}),t.css(t.qs("passive-magic"),{"z-index":"2"})),/blood-lich/i.test(e[0].className)&&!/slot-familia/i.test(e[0].parentNode.id)&&!nt){t.removeClass(t.qs("familiar-temp-box"),"hidden"),t.qs("familiar-temp-box").getElementsByTagName("div").length||t.qs("familiar-temp-box").appendChild(t.qs("familiar-box"));var n=t.qs("bag-loot").getBoundingClientRect();t.css(t.qs("familiar-temp-box"),{position:"fixed",top:a.top+"px",left:n.right+"px","z-index":"2"})}t.pAo("item-pick"),St=a.left,xt=a.top,ut=bt=!0,Bt=e[0],t.scrollSlideParams.fn()}}),t.Ge(s[r],t.CursorEndEvent,function(e){e=t.getRelativeMousePositionToRegisterObject(s);var a=!1;if(/blood-lich/i.test(Bt.className)&&(t.addClass(t.qs("familiar-temp-box"),"hidden"),t.qs("familiar-inner-box")&&t.qs("familiar-inner-box").appendChild(t.qs("familiar-box")),!e&&Bt.parentNode&&/slot-familia/i.test(Bt.parentNode.id))){var i=t.DJF.value.pos.mouseup.x,n=t.DJF.value.pos.mouseup.y,r=t.eTz(Bt,2).getBoundingClientRect();if(!(r.right>i&&r.left<i&&r.top<n&&r.bottom>n)){t.pAo("item-drop"),Bt.parentNode.innerHTML="";var o=Bt.getAttribute("label");dt.emptyBagLocation(o),dt.iTZx(),a=!0}}if(bt&&e){n=(i=t.id(e)).getElementsByTagName("div"),o=i.getBoundingClientRect(),r=t.slotButtonHp.getElementsByTagName("div");var l=t.slotButtonMp.getElementsByTagName("div"),c=t.nqAW.value.get(t.oval.value.label),h=t.DJF.value.pos.mousemove.x,p=t.DJF.value.pos.mousemove.y;if(/magic/i.test(e))for(h=0,l=c.length;h<l;h++){if(c[h]&&c[h].label===Bt.getAttribute("label")&&"upgrade"===c[h].usage){t.pAo("item-drop"),n.length||(t.css(Bt,{top:o.top+"px",left:o.left+"px",position:""}),i.appendChild(Bt));break}t.css(Bt,{top:xt+"px",left:St+"px",position:""})}else if(n.length){o=t.slotButtonHp.getBoundingClientRect();var g=t.slotButtonMp.getBoundingClientRect();if(o.right>h&&o.left<h&&o.top<p&&o.bottom>p)for(h=0;h<c.length;h++){if(c[h]&&c[h].label===Bt.getAttribute("label")&&"healthpotion"===c[h].name){(n=r).length?(t.css(n[0],{top:xt+"px",left:St+"px",position:""}),Bt.parentNode.appendChild(n[0]),t.css(Bt,{top:xt+"px",left:St+"px",position:""})):t.css(Bt,{top:o.top+"px",left:o.left+"px",position:""}),t.slotButtonHp.appendChild(Bt),t.text(Bt.getElementsByTagName("div")[0],c[h].quantity);break}t.css(Bt,{top:xt+"px",left:St+"px",position:""})}else if(g.right>h&&g.left<h&&g.top<p&&g.bottom>p)for(h=0;h<c.length;h++){if(c[h]&&c[h].label===Bt.getAttribute("label")&&"manapotion"===c[h].name){(n=l).length?(t.css(n[0],{top:xt+"px",left:St+"px",position:""}),Bt.parentNode.appendChild(n[0]),t.css(Bt,{top:xt+"px",left:St+"px",position:""})):t.css(Bt,{top:g.top+"px",left:g.left+"px",position:""}),t.slotButtonMp.appendChild(Bt),t.text(Bt.getElementsByTagName("div")[0],c[h].quantity);break}t.css(Bt,{top:xt+"px",left:St+"px",position:""})}else{if(o=Bt.getAttribute("label"),p=n[0].getAttribute("label"),o)for(h=0;h<c.length;h++)if(c[h]&&c[h].label===o)for(l=0;l<c.length;l++)if(c[l]&&c[l].label===p&&function(){return c[h].displayName ? c[h].displayName===c[l].displayName : c[h].name===c[l].name }()&&!c[h].unique&&c[h].label!==c[l].label){if(99>=(g=c[h].quantity+c[l].quantity))g=c[h].quantity+=c[l].quantity,c.splice(l,1),n[0].remove();else{var d=99-c[h].quantity;g=c[h].quantity=99,c[l].quantity-=d}void 0!==n[0]&&t.text(n[0].getElementsByTagName("div")[0],c[l].quantity),t.text(Bt.getElementsByTagName("div")[0],g);break}if(void 0!==n[0]&&(t.css(n[0],{top:xt+"px",left:St+"px",position:""}),Bt.parentNode.appendChild(n[0])),t.css(Bt,{top:xt+"px",left:St+"px",position:""}),i.appendChild(Bt),/upgrader/i.test(Bt.className)&&dt.upgrader(),r.length)for(h=0;h<c.length;h++)if(c[h].label===r[0].getAttribute("label")){t.text(r[0].getElementsByTagName("div")[0],c[h].quantity);break}}}else""!==Bt&&(t.css(Bt,{top:xt+"px",left:St+"px",position:""}),i.appendChild(Bt));t.pAo("item-drop"),bt=!1}else Bt&&(t.css(Bt,{top:xt+"px",left:St+"px",position:""}),dt.objDiscard=Bt,dt.initDropItem("open"));(a||/slot-familia/i.test(e))&&t.JnsH.value(),bt=!1,dt.xWpd(),nt?(/hidden/i.test(m.className)||t.addClass(t.qs("item-popup"),"hidden"),t.addClass(Bt,"force-overflow"),dt.GUImobile.hideItemCntOverflow("hidden"),t.gJE.value=!0,setTimeout(function(){t.css(t.qs("cnt-bag-mb"),{"margin-left":"15px"}),t.css(t.qs("items-hidden-potion-mb"),{"margin-left":dt.GUImobile.transformInventory+"px"}),t.css(t.qs("items-hidden-familiar-mb"),{"margin-left":dt.GUImobile.transformInventory+"px"}),setTimeout(function(){t.css(t.qs("items-hidden-potion-mb"),{display:"none"}),t.css(t.qs("items-hidden-familiar-mb"),{display:"none"}),dt.GUImobile.replacePotions("attach")},200)},500)):(t.addClass(t.qs("familiar-params-box"),"hidden"),dt.charDetail({params:t.REq.value,box:T})),Bt=""});t.Ge(document.body,t.CursorMoveEvent,function(e){if(bt){e=t.DJF.value.pos.mousemove.x;var a=t.DJF.value.pos.mousemove.y;t.addClass(t.qs("item-popup"),"hidden"),t.addClass(t.qs("familiar-params-box"),"hidden"),ut&&(ft=e,vt=a,ut=!1),nt?t.css(Bt,{top:xt+(a-vt)+"px",left:St+(e-ft)+"px",width:Bt.parentNode.offsetWidth+"px ",height:Bt.parentNode.offsetHeight+"px ",position:"fixed","z-index":"1"}):t.css(Bt,{top:xt+(a-vt)+"px",left:St+(e-ft)+"px",position:"fixed","z-index":"1"}),nt&&/blood-lich|mana|health/i.test(Bt.className)&&(/mana|health/i.test(Bt.className)&&/potion/i.test(Bt.className)?(t.css(t.qs("items-hidden-potion-mb"),{"margin-left":"15px",display:"block"}),dt.GUImobile.replacePotions("detached")):/blood-lich/i.test(Bt.className)&&t.css(t.qs("items-hidden-familiar-mb"),{"margin-left":"15px",display:"block"}),t.css(t.qs("cnt-bag-mb"),{"margin-left":-dt.GUImobile.transformInventory+"px"}))}})}.bind(this),1e3)}},Za.init=function(){for(var t=new Za.Pq,e=Za.NBs.bind(t)(),a=t.qsAll("page-content"),i=e.regPage,s=i.length;s--;)e.fetch({id:i[s],callback:function(s,n){for(var r=0;r<a.length;r++)if(s==="/"+a[r].id){t.getFirstChild(a[r]).innerHTML=n;break}e.fragment.length===i.length&&(t.qs("overlap-screen").remove(),t.qs("screen").style.display="block",_obj={messageCnt:t.qs("screen-info"),blocker:t.qs("screen-info"),bagButton:t.qs("bag-button"),tabButton:t.qs("tab-button"),skillTab:t.qs("skill-tab"),skillBox:t.qs("box-skill"),skillContainer:t.qs("box-skill-container"),questContainer:t.qs("box-quest-container"),questTab:t.qs("quest-tab"),controlContainer:t.qs("box-config-container"),controlTab:t.qs("control-tab"),bagContainer:t.qs("bag-loot-container"),detailInventory:t.qs("inventory-detail"),detailSkill:t.qs("skill-detail"),buffBox:t.qs("buff-box"),bagTab:t.qs("bag-tab"),bagLoot:t.qs("bag-loot"),loading:t.qs("loading-assets"),slotButtonHp:t.id("slot-hp"),slotButtonMp:t.id("slot-mp"),slotSkillA:t.id("slot-skill-a"),slotSkillB:t.id("slot-skill-b"),slotSkillC:t.id("slot-skill-c"),slotPassiveSkill:t.qs("slot-passive-skill"),slotItemNumber:t.qs("active-item-number"),browserWidth:function(){return document.body.clientWidth},browserHeight:function(){return document.body.clientHeight},Pq:Za.Pq,Cpp:Za.Cpp,EGh:Za.EGh,Hq:Za.Hq,OqU:Za.OqU,Hs:Za.Hs,TDa:Za.TDa,MbT:Za.MbT,CkS:Za.CkS,UyT:Za.UyT,THq:Za.THq,JsD:Za.JsD,NBs:Za.NBs},new Za.GUI(_obj,t.extend),new Za.OihF(_obj,t.extend))}.bind(e,i[s])})}()}(owlDATA,window); 